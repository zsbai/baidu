function user_c(t){var e="//nsclick.baidu.com",n="",a="",i="",o="",r=encodeURIComponent(window.document.location.href),s=window["BD_PS_C"+(new Date).getTime()]=new Image,u=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http:"+e):"http:"+e;for(i in t){switch(i){case"title":a=encodeURIComponent(t[i].replace(/<[^<>]+>/g,""));break;case"url":a=encodeURIComponent(t[i]);break;default:a=t[i]}n+=i+"="+a+"&"}return o="&mu="+r,s.src=u+"/v.gif?pid=201&pj=psuser&"+n+"path="+r+"&t="+(new Date).getTime(),!0
}function u(t,e,n,a){t&&e&&(t.on("mouseover",function(){t.addClass("ipthover")}).on("mouseout",function(){t.removeClass("ipthover")}).on("click",function(){e.focus()}),e.on("focus",function(){t.addClass("iptfocus")}).on("blur",function(){t.removeClass("iptfocus")})),n&&a&&n.on("mouseover",function(){a.addClass("btnhover")}).on("mouseout",function(){a.removeClass("btnhover")})}function form_submit(){var t=$("#kw"),e=t.val();return e&&(e=bds.util.limitWd(e),bds.comm.resultSug.setKey(e)),!0}function setFoot(){$(".pagefoot").css($(document.body).height()<$(window).height()?{position:"fixed",bottom:"0"}:{position:"relative"})
}jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=i[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'}function n(t){var e,n,a,i=["["],o=t.length;for(n=0;o>n;n++)switch(a=t[n],typeof a){case"undefined":case"function":case"unknown":break;default:e&&i.push(","),i.push($.stringify(a)),e=1}return i.push("]"),i.join("")}if("JSON"in window)return JSON.stringify(t);
var a=typeof t;if("object"!=a||null===t)return"string"==a&&(t='"'+t+'"'),String(t);var i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);var o,r,s=["{"],u=$.stringify;for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c))switch(r=t[c],typeof r){case"undefined":case"unknown":case"function":break;
default:o&&s.push(","),o=1,s.push(u(c)+":"+u(r))}return s.push("}"),s.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),a=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(a.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var i=n[e];return"[object Function]"==a.call(i)&&(i=i(e)),"undefined"==typeof i?"":i})):t},subByte:function(t,e,n){var a=[],i=t.split("");n=n||"…";for(var o=0,r=i.length;r>o;o++)i[o].charCodeAt(0)>255&&a.push("*"),a.push(i[o]);
return e&&e>0&&a.length>e?i=a.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),a=0,i=n.length;i>a;a++)n[a].charCodeAt(0)>255&&e.push("*"),e.push(n[a]);return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var a=n.expires;"number"==typeof n.expires&&(a=new Date,a.setTime(a.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(a?"; expires="+a.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")
}},getCookie:function(t){var e="";if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),a=n.exec(document.cookie);if(a&&(e=a[2]||null,"string"==typeof e))return e=decodeURIComponent(e)}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];
return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,a,i,o,r,s=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)r[n]=str(n,u)||"null";
return i=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+s+"]":"["+r.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(a=rep[n],i=str(a,u),i&&r.push(quote(a)+(gap?": ":":")+i));else for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(i=str(a,u),i&&r.push(quote(a)+(gap?": ":":")+i));return i=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+s+"}":"{"+r.join(",")+"}",gap=s,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var a;
if(gap="",indent="","number"==typeof n)for(a=0;n>a;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,a,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a=walk(i,n),void 0!==a?i[n]=a:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)
})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e),a=(t>>16)+(e>>16)+(n>>16);return a<<16|65535&n}function n(t,e){return t<<e|t>>>32-e}function a(t,a,i,o,r,s){return e(n(e(e(a,t),e(o,s)),r),i)}function i(t,e,n,i,o,r,s){return a(e&n|~e&i,t,e,o,r,s)}function o(t,e,n,i,o,r,s){return a(e&i|n&~i,t,e,o,r,s)
}function r(t,e,n,i,o,r,s){return a(e^n^i,t,e,o,r,s)}function s(t,e,n,i,o,r,s){return a(n^(e|~i),t,e,o,r,s)}function u(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var a,u,c,d,l,f=1732584193,p=-271733879,h=-1732584194,g=271733878;for(a=0;a<t.length;a+=16)u=f,c=p,d=h,l=g,f=i(f,p,h,g,t[a],7,-680876936),g=i(g,f,p,h,t[a+1],12,-389564586),h=i(h,g,f,p,t[a+2],17,606105819),p=i(p,h,g,f,t[a+3],22,-1044525330),f=i(f,p,h,g,t[a+4],7,-176418897),g=i(g,f,p,h,t[a+5],12,1200080426),h=i(h,g,f,p,t[a+6],17,-1473231341),p=i(p,h,g,f,t[a+7],22,-45705983),f=i(f,p,h,g,t[a+8],7,1770035416),g=i(g,f,p,h,t[a+9],12,-1958414417),h=i(h,g,f,p,t[a+10],17,-42063),p=i(p,h,g,f,t[a+11],22,-1990404162),f=i(f,p,h,g,t[a+12],7,1804603682),g=i(g,f,p,h,t[a+13],12,-40341101),h=i(h,g,f,p,t[a+14],17,-1502002290),p=i(p,h,g,f,t[a+15],22,1236535329),f=o(f,p,h,g,t[a+1],5,-165796510),g=o(g,f,p,h,t[a+6],9,-1069501632),h=o(h,g,f,p,t[a+11],14,643717713),p=o(p,h,g,f,t[a],20,-373897302),f=o(f,p,h,g,t[a+5],5,-701558691),g=o(g,f,p,h,t[a+10],9,38016083),h=o(h,g,f,p,t[a+15],14,-660478335),p=o(p,h,g,f,t[a+4],20,-405537848),f=o(f,p,h,g,t[a+9],5,568446438),g=o(g,f,p,h,t[a+14],9,-1019803690),h=o(h,g,f,p,t[a+3],14,-187363961),p=o(p,h,g,f,t[a+8],20,1163531501),f=o(f,p,h,g,t[a+13],5,-1444681467),g=o(g,f,p,h,t[a+2],9,-51403784),h=o(h,g,f,p,t[a+7],14,1735328473),p=o(p,h,g,f,t[a+12],20,-1926607734),f=r(f,p,h,g,t[a+5],4,-378558),g=r(g,f,p,h,t[a+8],11,-2022574463),h=r(h,g,f,p,t[a+11],16,1839030562),p=r(p,h,g,f,t[a+14],23,-35309556),f=r(f,p,h,g,t[a+1],4,-1530992060),g=r(g,f,p,h,t[a+4],11,1272893353),h=r(h,g,f,p,t[a+7],16,-155497632),p=r(p,h,g,f,t[a+10],23,-1094730640),f=r(f,p,h,g,t[a+13],4,681279174),g=r(g,f,p,h,t[a],11,-358537222),h=r(h,g,f,p,t[a+3],16,-722521979),p=r(p,h,g,f,t[a+6],23,76029189),f=r(f,p,h,g,t[a+9],4,-640364487),g=r(g,f,p,h,t[a+12],11,-421815835),h=r(h,g,f,p,t[a+15],16,530742520),p=r(p,h,g,f,t[a+2],23,-995338651),f=s(f,p,h,g,t[a],6,-198630844),g=s(g,f,p,h,t[a+7],10,1126891415),h=s(h,g,f,p,t[a+14],15,-1416354905),p=s(p,h,g,f,t[a+5],21,-57434055),f=s(f,p,h,g,t[a+12],6,1700485571),g=s(g,f,p,h,t[a+3],10,-1894986606),h=s(h,g,f,p,t[a+10],15,-1051523),p=s(p,h,g,f,t[a+1],21,-2054922799),f=s(f,p,h,g,t[a+8],6,1873313359),g=s(g,f,p,h,t[a+15],10,-30611744),h=s(h,g,f,p,t[a+6],15,-1560198380),p=s(p,h,g,f,t[a+13],21,1309151649),f=s(f,p,h,g,t[a+4],6,-145523070),g=s(g,f,p,h,t[a+11],10,-1120210379),h=s(h,g,f,p,t[a+2],15,718787259),p=s(p,h,g,f,t[a+9],21,-343485551),f=e(f,u),p=e(p,c),h=e(h,d),g=e(g,l);
return[f,p,h,g]}function c(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(255&t[e>>5]>>>e%32);return n}function d(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function l(t){return c(u(d(t),8*t.length))}function f(t,e){var n,a,i=d(t),o=[],r=[];for(o[15]=r[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],r[n]=1549556828^i[n];return a=u(o.concat(d(e)),512+8*e.length),c(u(r.concat(a),640))
}function p(t){var e,n,a="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=a.charAt(15&e>>>4)+a.charAt(15&e);return i}function h(t){return unescape(encodeURIComponent(t))}function g(t){return l(h(t))}function m(t){return p(g(t))}function v(t,e){return f(h(t),h(e))}function b(t,e){return p(v(t,e))}function w(t,e,n){return e?n?v(e,t):b(e,t):n?g(t):m(t)}"function"==typeof define&&define.amd?define("lib/md5.min",["require"],function(){return w}):t.md5=w}(this),!function(){if(window.bds&&window.bds.comm&&window.bds.comm.token&&md5){var t={token:window.bds.comm.token,sTime:window.bds.comm.initTime},e=parseInt(new Date/1e3,10);
$.ajaxSetup({beforeSend:function(n,a){var i={_token:t.token,_ts:parseInt(new Date/1e3,10)-e+t.sTime};i._sign=md5(i._ts+i._token+"3b6e2e87fcce6eea8337eeac83b478f5");var o=a.type&&a.type.toUpperCase();if("GET"===o){var r=a.url,s=[];for(var u in i)i.hasOwnProperty(u)&&s.push(u+"="+encodeURIComponent(i[u]));a.url+=r.indexOf("?")>-1?"&"+s.join("&"):"?"+s.join("&")}}})}}(),!function(t){function e(t,n,a){if(a=a||[],n=n||document,t===n)return a;if(t.parentNode!==n&&(a=e(t.parentNode,n,a)),t.previousSibling){var i=1,o=t.previousSibling;
do 1===o.nodeType&&o.nodeName===t.nodeName&&i++,o=o.previousSibling;while(o)}return 1===t.nodeType&&a.push(t.nodeName.toLowerCase()+(i>1?i:"")),a}function n(e,n,a){for(var i=n,o=c,r=o.length,s=e.join(" ");i!==a;){for(var u=0;r>u;u++)if(t(i).hasClass("OP_LOG_"+o[u]))return o[u].toLowerCase();i=i.parentNode}return/\bh3\d*\b/.test(s)?"title":/\bimg\d*\b/.test(s)?"img":/\ba\d*\b/.test(s)?"link":/\b(input|select|button|textarea|datalist)\d*\b/.test(s)?"input":/\blabel\d*\b/.test(s)&&n.getElementsByTagName("input").length>0?"input":""
}function a(){t("body").on("mousedown",function(n){var n=window.event||n,a=n.srcElement||n.target,o=t(a);try{for(var r,s,u=o;u.length&&!(u.hasClass("result")||u.hasClass("result-op")||u.hasClass("xpath-log"));)u=u.parent();if(!u.length)return;u.hasClass("result-op")?r="alop":u.hasClass("result")&&(r="as"),s=u.get(0);var c=e(a,s);i(c,a,s,r)}catch(n){}}),t(".sc_common_guidhint").on("mousedown",function(){var e=t(this),n=e.get(0),a=window.event||a,i=a.srcElement||a.target,o={};if(o.hintTpl=e.attr("data-tpl"),o.hintId=e.attr("data-id"),o.hintId&&o.hintId){var r,s,u=i;
do{if(u.getAttribute("data-click"))try{r=u.getAttribute("data-click"),r=new Function("return "+r)();for(s in r)"undefined"==typeof o[s]&&r.hasOwnProperty(s)&&(o[s]=r[s])}catch(a){}u=u.parentNode}while(u&&u!==n.parentNode);window.ns_c_xs(o)}})}function i(e,a,i,o,r){var r=r||null;if(null==a.getAttribute("data-nolog")){var s=n(e,a,i);if(!s)return!1;if("title"===s&&!/\ba\d*\b/.test(e))return!1;var u,c=e.length,d=a,l="",f=i.getAttribute("srcid")||"",p=i.getAttribute("mu")||"",h=i.getAttribute("tpl")||"",g=1===a.nodeType?a.tagName.toLowerCase():"";
if("input"===s)if(/input|textarea/.test(g))l=a.value,a.type&&"password"===a.type.toLowerCase()&&(l="");else if(/select|datalist/.test(g)){if(a.children.length>0){var m=a.selectedIndex||0;l=a.children[m>-1?m:0].innerHTML}}else l=a.innerHTML||a.value||"";else if("img"===g&&(l=a.title),!l)for(;c>1;){if(c--,/^a\d*\b/.test(e[c])){if(u=d.href,l=d.innerText,null!=d.getAttribute("data-nolog"))return;break}if(d.className&&/OP_LOG_/.test(d.className)){l=d.innerText;break}d=d.parentNode}u&&"#"!==u.slice(-1)&&/^http/.test(u)||(u=p);
var v={url:1,title:1},b={rsv_xpath:e.join("-")+"("+s+")",title:t.trim(l)||"",url:u};i.id&&i.id.match(/^\d+$/)&&(b.p1=i.id),f&&(b.rsv_srcid=f),h&&(b.rsv_tpl=h);var w,$,_;d=a;do{if(null!=d.getAttribute("data-nolog"))return;if(d.getAttribute("data-click"))try{w=d.getAttribute("data-click"),w=new Function("return "+w)();for($ in w)"fm"===$&&null===w.fm&&(_=!0),("undefined"==typeof b[$]||v[$])&&w.hasOwnProperty($)&&(b[$]=w[$])}catch(y){}d=d.parentNode}while(d&&d!==i.parentNode);for(var x in b)null===b[x]&&delete b[x];
if("title"==s?"mu"in b&&delete b.mu:b.mu||(b.mu=p),_)"fm"in b&&delete b.fm;else if("input"==s&&(b.fm="beha"),b.fm||(b.fm=o),o&&(b.fm=o),!b.fm)return;if(r)for($ in r)("undefined"==typeof b[$]||v[$])&&r.hasOwnProperty($)&&(b[$]=r[$]);window.ns_c_xs(b)}}function o(){var e=t(window).height()||0;d=[],t("body").on("log-update-show-els",function(n,a){a&&t(a).find('[data-isclick="2"]').each(function(){u(t(this))});for(var i=0;i<d.length;i++){var o=d[i];o.top=o.$el.offset().top-e,o.bottom=o.$el.offset().top+o.$el.height()
}}),t("body").trigger("log-update-show-els","body"),t("body").on("log-update-show-popup-els",function(n,a){a&&t(a).find('[data-isclick="3"]').each(function(){u(t(this))});for(var i=0;i<d.length;i++){var o=d[i];o.top=o.$el.offset().top-e,o.bottom=o.$el.offset().top+o.$el.height()}}),t(window).on("scroll",function(){r()}),t(window).on("load",function(){r()}),t("body").on("log-show",function(){r("popup")})}function r(e){var n,e=e||"body";if("popup"!==e)for(var a=t("body").scrollTop()||document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,i=0;i<d.length;i++)n=d[i],a>n.top&&a<n.bottom-56&&n.$el.is(":visible")&&(s(n),d.splice(i,1),i--);
else for(var i=0;i<d.length;i++)n=d[i],"3"===n.$el.attr("data-isclick")&&(s(n),d.splice(i,1),i--)}function s(t){for(var n,a,o=t.$el,r=o[0],s=t.$el;s.length&&!(s.hasClass("result")||s.hasClass("result-op")||s.hasClass("xpath-log"));)s=s.parent();if(s.length){n="show",a=s.get(0);var u=e(r,a),c={},d=r.getAttribute("data-click");d=new Function("return "+d)(),"undefined"!=typeof d.act_id&&i(u,r,a,n,c)}}function u(t){d.push({$el:t})}var c=["TITLE","LINK","IMG","BTN"],d=[];t(document).ready(function(){a(),o()
})}(jQuery),bds.se.cookie=function(){function t(t,e,n){var a=window.location.hostname;n=n||{},"www.baidu.com"!==a&&(n.path="/",n.domain=a,$.setCookie(t,e,n))}function e(t){return $.getCookie(t)}return{get:e,set:t}}(),!function(t){function e(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar){var t={product_id:65};bds.qa.ShortCut.initRightBar(t);var e={product_id:"65",username:bds.comm.username,query:bds.comm.ishome?"":bds.comm.query};bds.qa.ShortCut._getProData(e)}}function n(){if(bds&&bds.qa&&bds.qa.ShortCut&&bds.qa.ShortCut.initRightBar)e();
else{if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get)var n=bds.util.domain.get("http://f3.baidu.com/");else var n="http://f3.baidu.com/";t.ajax({url:n+"feedback/js/feedback/feedback0.0.2.js",dataType:"script",success:function(){e()},error:function(){}})}}t(".feedback").on("click",function(){return n(),!1})}(jQuery),bds.se.passDomain=bds.se.passDomain||"//passport.baidu.com",$.getScript(bds.se.passDomain+"/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"xueshu",subpro:bds.comm.subpro||"",u:window.document.location.href,safeFlag:0,staticPage:""+location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/scholar_mid/static/user/html/v3Jump.html"},cache:!1,tangram:!0,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:""+location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/scholar_mid/static/user/html/xd.html",onBindSuccess:function(t,e){var n=decodeURIComponent(e.passport_uname||e.displayname);
return bds.se.login.success(n),!1}},onLoginSuccess:function(t){t.returnValue=!1;var e=t.rsp.data.userName||t.rsp.data.mail||t.rsp.data.phoneNumber;bds.se.login.success(e)},onSubmitStart:function(){},onSubmitedErr:function(){},onSystemErr:function(){},onShow:function(){},onHide:function(){},onDestroy:function(){}})}),bds.se.loginCallbackFunc=null,bds.se.login={init:function(){this.setUserInfo();var t=this;bds.comm.loginAction.push(function(e,n){t.setUserInfo(n)})},setUserInfo:function(t){var e=t||bds.comm.user;
if(!e)return void $("#u .reg").attr("href","https:"+bds.se.passDomain+"/v2/?reg&regType=1&tpl=xueshu&u="+encodeURIComponent(document.location.href));var n=$("#user");n.find(".logout").attr("href",""+bds.se.passDomain+"/?logout&tpl=xueshu&u="+encodeURIComponent(document.location.href))},open:function(t){bds.se.loginCallbackFunc=t||function(){window.document.location.reload(!0)},bds.se.passv3.show()},success:function(t){if(bds.comm){bds.comm.user=t,bds.comm.username=t,window.bdUser=t,bds.se.passv3.hide(),bds.se.loginCallbackFunc.call(window,1,t);
for(var e=0;e<bds.comm.loginAction.length;e++)bds.comm.loginAction[e].call(window,1,t)}}},bds.se.login.init(),window._invoke_login=function(t,e){bds.se.login.open(t,e)},$("#lb")&&$("#lb").click(function(){bds.se.login.open()}),bds=window.bds||{},bds.util=bds.util||{},bds.util.limitWd=function(t){var e=t.split(""),n=e.length,a=0,i=255;if(127>=n)return t;for(var o=0;n>o;o++){if(a+=e[o].charCodeAt(0)>255?2:1,a===i)return e=t.substring(0,o+1);if(a>i)return e=t.substring(0,o)}return t},bds=window.bds||{},bds.se=bds.se||{},bds.se.taskTipsDialog=function(){function t(){}function e(e){1*bds.comm.isLogin===1&&bds.comm.taskTipsShow&&$.ajax({url:"//xueshu.baidu.com/usercenter/show/userinfo?cmd=update_task",dataType:"jsonp",data:{task_type:e},success:function(e){200===e.status&&(e.achievement?t(e.achievement):e.daytask&&t(e.daytask))
}})}return{taskRequest:e,showDialog:t}}(),!function(){function t(t,e){$(".menuDropList").hide(),$(".menuarrow").hide();var n=$(document).width()-t.offset().left,a=parseInt(e.css("left")),i=e.width()+10,o=i+a;if(o>n){var r=a-(o-n);e.css("left",r)}e.show(),e.siblings(".menuarrow").show(),$("#s_mod_msg").hide()}function e(t){t.hide(),t.siblings(".menuarrow").hide()}function n(n,a,i){n.on("mouseover",function(){t(n,a),i&&(clearTimeout(i),i=!1)}).on("mouseout",function(){i&&(clearTimeout(i),i=!1),i=setTimeout(function(){e(a)
},200)}),a.on("mouseover",function(){i&&(clearTimeout(i),i=!1)}).on("mouseout",function(){i&&(clearTimeout(i),i=!1),i=setTimeout(function(){e(a)},200)})}var a,i,o,r,s=$("#bdbri"),u=$("#qr"),c=$("#qrbox"),d=$("#bdbriList"),l=$("#setting"),f=$("#setMenu"),p=$("#user #userMenu"),h=$("#user");n(s,d,a),n(l,f,i),n(u,c,o),0!==h.length&&n(h,p,r);var g=0,m=$("#wrapper");$("#setpref").on("click",function(){if(!g){var t=$("<div>",{id:"prefpanel"});t.appendTo(m),$.getScript("https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/scholar_mid/static/protocol/https/xueshu/js/pf_6078b3e.js"),g=1
}return $("#prefpanel").show().animate({top:"0px",opacity:.98},350),!1})}();var bds=bds||{};for(bds.se=bds.se||{},bds.se.handleyear=bds.se.handleyear||{},bds.se.handleyear=function(){function t(t,e){var n=(new Date).getFullYear(),a=0,i=0,o="";return 4===t.length?t:0===t.length||"年"===t?e?"+":"-":(o=1===t.length?"0":"",i=parseInt(t),n+="",a=parseInt(n.substr(2,2)),t=i>a?"19"+o+t:"20"+o+t)}function e(t){var e=(new Date).getFullYear();return 4===t.length?(t=parseInt(t),t>e?!0:!1):!1}function n(e,n,a){var i="",o="";
return 0!==n.length&&"年"!==n||0!==e.length&&"年"!==e?(e=t(e,!1),n=t(n,!0),"-"!==e&&"+"!==n&&parseInt(e)>parseInt(n)&&(i=e,e=n,n=i),"sc_time"===a&&("-"!==e&&(e+="0000"),"+"!==n&&(n+="9999")),o=a+"={"+e+","+n+"}"):""}return{parseInput:t,is_large:e,createFilter:n}}(),function(){function t(){var t=$(".sc_adv_input_ylo"),e=$(".sc_adv_input_yhi"),n=$.trim(t.val()),a=$.trim(e.val()),i=/^[0-9]{0,4}$/,o=n.length,r=a.length,s=!0;if("年"===n||i.test(n)&&3!==o&&!bds.se.handleyear.is_large(n)?"年"===a||i.test(a)&&3!==r||(e.focus(),e.select(),t.addClass("error"),s=!1):(t.focus(),t.select(),t.addClass("error"),s=!1),s){var u=bds.se.handleyear.createFilter(n,a,"sc_year");
return u}return!1}function e(){var t=$(".sc_adv_lang_sel a").attr("data-id"),e="";return t&&"0"!==t&&(e="sc_la={"+t+"}"),e}function n(){var n=t(),a=e();if(n===!1)return n;var i="";return(n||a)&&(i='<input type="hidden" name="filter" value="'+n+a+'">'),i}function a(t){return t.split(/,|，/)}function i(t){for(var e=a(t),n="",i=0,o=e.length;o>i;i++)0!==i&&(n+=" "),n+="&quot;"+e[i]+"&quot;";return n}function o(){for(var t,e=d.length,n="",o="",r="",s="",u="",c=$(d[0]).attr("data-name"),l=0;e>l;l++)if(t=$(d[l]),n=$.trim(t.val()),o=t.attr("placeholder"),n&&n!==o)switch(0!==l&&(r+=" "),s=t.attr("data-type")){case"all":r+=n;
break;case"precise":r+=i(n);break;case"or":u=a(n),r+="("+u.join(" | ")+")";break;case"not":u=a(n),r+="-("+u.join(" | ")+")"}return""===r?"":(""!==c&&(r=c+":("+r+")"),r+" ")}function r(t){return t=t.replace(/\"/g,"&quot;"),t=t.replace(/\'/g,"&quot;"),t=t.replace(/\</g,"&lt;"),t=t.replace(/\>/g,"&gt;")}function s(){}var u=$(".sc_adv_dropdown_btn"),c=$(".sc_adv_dropdown_group"),d=$(".sc_adv_keyword_ipt"),l=$("#sc_adv"),f=$(".sc_adv_triangle_down"),p=f.find(".c-icon"),h=$(".sc_adv_sub_btn"),g=$("#sc_adv_frm");
u.on("click",function(){return $(this).find(".sc_adv_dropdown_group").toggle(),!1}),$(".sc_adv_dropgroup_title").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),a=n.siblings(".sc_adv_dropdown_text"),i=a.find("a");e.appendTo(a),i.appendTo(n),$(".sc_adv_keyword_ipt").attr("data-name",e.attr("data-name")),t.preventDefault()}),$(".sc_adv_dropgroup_pub").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),a=n.siblings(".sc_adv_dropdown_text"),i=a.find("a"),o=$(".sc_adv_pubipt");
e.appendTo(a),i.appendTo(n),o.attr("data-name",e.attr("data-name"));var r=o.attr("placeholder"),s=e.attr("data-holder");r===o.val()&&o.val(s),o.attr("placeholder",s),t.preventDefault()}),$(".sc_adv_dropgroup_lang").on("click","a",function(t){var e=$(this),n=e.parents(".sc_adv_dropdown_group"),a=n.siblings(".sc_adv_dropdown_text");a.html(e.clone()),e.addClass("sc_adv_lang_hide").siblings(".sc_adv_lang_hide").removeClass("sc_adv_lang_hide"),t.preventDefault()}),f.on("click",function(t){return l.toggle(),c.hide(),p.hasClass("c-icon-triangle-down")?p.removeClass("c-icon-triangle-down").addClass("c-icon-triangle-up"):p.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down"),ns_c_xs({fm:"beha",button_tp:"adv_btn"}),bds.comm.resultSug&&bds.comm.resultSug.hide(),t.stopPropagation(),!1
}),h.on("click",function(t){var e,a,i,s=$(".sc_adv_txin"),u="",c="",l="";c=o();for(var f=0,p=s.length;p>f;f++)e=$(s[f]),u=e.val(),l=e.attr("placeholder"),i=e.attr("data-name"),u&&u!==l&&(c+=i+":("+u+") ");return c=$.trim(c),""!=c?(c=bds.util.limitWd(c),c=r(c),$(".sc_adv_wd_hidden").html('<input type="hidden" name="wd" value="'+c+'">'),a=n(),a!==!1&&(""!==a&&$(a).appendTo($("#sc_adv_frm")),g.submit(),ns_c_xs({fm:"advse",button_tp:"adv_search"}))):$(d[0]).addClass("error").focus(),t.preventDefault(),!1
}),l.on("click",function(t){c.hide(),t.stopPropagation()}),$(document).on("click",function(){l.hide(),p.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}),$("#sc_adv_frm .c-input").on("click",function(){var t=$(this);t.hasClass("sc_adv_input_ylo")||t.hasClass("sc_adv_input_yhi")?$(this).removeClass("error"):$(d[0]).removeClass("error")}),$("#kw").on("click",function(){l.hide(),p.removeClass("c-icon-triangle-up").addClass("c-icon-triangle-down")}),s()}(),!function(){function t(t){this.sugcontainer=null,this.timer=null,this.visible=!1,this.sugCount=t.sugCount||10,this.ipt=t.ipt||$("#kw")[0],this.form=t.form||$("#form")[0],this.submission=t.submission||null,this.index=-1,this.query=this.ipt&&this.ipt.value||"",this.value=this.query,this.showValue=this.query,this.reqValue="",this.inputValue=this.query,this.sugValue="",this.init()
}bds.se.sug=function(e){var e=e||{},n=new t(e);return n.outInterface()},t.prototype={init:function(){var t=this;t.initSug(),t.addEvent(),t.clearStat()},render:function(t){function e(t,e){return e&&t&&(t=$.trim(t),e=$.trim(e),t=0==t.indexOf(e)&&t!==e?n(t,e):a(t)),t}function n(t,e){t=a(t),e=a(e);var n=e,i=e.length,o="<b>"+t.substring(i)+"</b>";return n+o}function a(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var i="",o=this,r=o.ipt.value;i+="<ul>";for(var s=0;s<o.sugCount;s++)t[s]&&(i+='<li data-query="'+t[s]+'" data-index="'+s+'">',i+=e(t[s],r),i+="</li>");
i+="</ul>",$(".sug-container").length||o.initSug(),o.sugcontainer.html(i),o.showSug()},request:function(t){var e=this;if(e.reqValue=t,""!==t){var n="//xueshu.baidu.com/usercenter/";$.ajax({dataType:"jsonp",async:!0,url:n+"su?wd="+t+"&prod=xueshu&json=1&ie=utf-8",jsonp:"cb",timeout:5e3,success:function(t){t.s&&0!==t.s.length&&e.render(t.s)}})}},startCircle:function(){var t=this;t.timer||(t.timer=setTimeout(function e(){t.value!=t.ipt.value&&t.showValue!=t.ipt.value&&(t.inputValue=t.showValue=t.value=t.ipt.value,t.request(t.value)),t.timer=setTimeout(e,200)
},200))},stopCircle:function(){var t=this;t.timer&&(clearTimeout(t.timer),t.timer=null)},hideSug:function(){this.sugcontainer.hide(),this.visible=!1},showSug:function(){var t=this;t.index=-1,t.ipt.value===t.reqValue&&""!==t.ipt.value?t.sugcontainer.find("li").length&&t.sugcontainer.show():t.request(t.ipt.value),t.visible=!0},selectSug:function(t){var e=this,n=e.sugcontainer.find("li");e.blurSug(n);var a=$($(n)[t]),i=a.attr("data-query");-1!=t?(e.focusSug(a,i),e.sugValue=e.showValue=e.value=e.ipt.value=i,e.addStat("rsv_n",1)):(e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("rsv_n"))
},blurSug:function(t){t.removeClass("sug-s")},focusSug:function(t){t.addClass("sug-s")},pressUp:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index--,t.index<-1&&(t.index=e-1),t.selectSug(t.index)}},pressDown:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index++,t.index>=e&&(t.index=-1),t.selectSug(t.index)}},initSug:function(){this.sugcontainer=$(".sug-container"),this.sugcontainer.length||(this.sugcontainer=$('<div class="sug-container"></div>'),this.sugcontainer.appendTo($(this.form)))
},addStat:function(t,e){var n=this,a=$(n.form).find('input[type="hidden"][name="'+t+'"]');a.length?$(a).val(e):$(n.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>')},removeStat:function(t){var e=this;$(e.form).find('input[type="hidden"][name="'+t+'"]').remove()},clearStat:function(){var t=this;t.removeStat("rsp"),t.removeStat("rsv_n")},formSubmit:function(t){var e=this,n=!0;-1!==e.index&&(e.addStat("f",3),e.addStat("rsp",e.index)),$.isFunction(e.submission)&&(n=e.submission.call(e.form,t)),n&&e.form.submit()
},addEvent:function(){var t=this;$(t.ipt).on("focus",function(){t.startCircle()}).on("click",function(e){t.showSug(),e.stopPropagation()}).on("keydown",function(e){e=e||window.event,38==e.keyCode&&(e.preventDefault(),t.pressUp()),40==e.keyCode&&(e.preventDefault(),t.pressDown()),(9==e.keyCode||27==e.keyCode)&&t.hideSug(),8==e.keyCode&&setTimeout(function(){""===t.ipt.value&&t.hideSug()},100),13==e.keyCode&&(t.hideSug(),t.addStat("rsv_sug2",0)),86==e.keyCode&&e.ctrlKey&&t.addStat("rsv_n",2)}),t.sugcontainer.on("mouseenter","li",function(){var e=$(this).attr("data-query");
t.blurSug(t.sugcontainer.find("li")),t.focusSug($(this),e),t.index=1*$(this).attr("data-index")}).on("mouseleave","li",function(){$(this).removeClass("sug-s")}).on("click","li",function(){var e=$(this).attr("data-query");t.sugValue=t.showValue=t.value=t.ipt.value=e,t.hideSug(),t.addStat("rsv_sug2",1),t.formSubmit()}),$(window).on("blur",function(){t.hideSug()}),$(document).on("click",function(){t.hideSug(),t.ipt.blur()}),t.form&&$(t.form).submit(function(e){return t.formSubmit(e),!1})},outInterface:function(){var t=this;
return{setKey:function(e){t.ipt.value=t.value=t.inputValue=t.showValue=e},visible:function(){return t.visible},show:function(){return t.showSug()},hide:function(){return t.hideSug()},start:function(){return t.startCircle()},stop:function(){return t.stopCircle()},formSubmit:function(){return t.formSubmit()}}}}}(),!function(){if(!bds.comm.username||$("#imsg").length||$("#msimsg").length||$("#ucimsg").length){var t=0,e=1,n=null;bds.comm.ishome?(t=0,e=1,n=$("#platform_menu .newmsgicon")):(t=1,e=0,n=$("#tnav_r_menu .newmsgicon")),$.ajax({url:"https://ss1.bdstatic.com/5eN1bjq8AAUYm2zgoY3K/r/www/cache/scholar_mid/static/protocol/https/xueshu_mt/js/message_2_0635159.js",dataType:"script",cache:!0,success:function(){var a=$("#s_mod_msg");
bds.se.message&&bds.se.message.init&&bds.se.message.init({container:a,msgbtn:$("#imsg"),ucMsgbtn:$("#ucimsg"),msMsgbtn:$("#msimsg"),isResPage:1,hasborder:t,initShow:e,msgGetCb:function(t){t&&t.length&&n.css("display","inline-block")},msgCleanCb:function(){n.hide()}}),$("#user").on("mouseover",function(){$("#s_mod_msg").hide()}),a.on("mousedown",function(t){var e,n,i=t.target,o={},r=0;do{if(n=i.getAttribute("data-click"))try{n=new Function("return "+n)();for(e in n)o[e]=n[e];r=1}catch(t){}i=i.parentNode
}while(i&&i!==a[0]);r&&(o.fm="behs",o.tab="imsg",ns_c_xs(o))})}})}}(),!function(){var t=/sc_tasktype={(.*)}/,e=bds.comm.sc_f_para,n=null,a="";e&&(n=e.match(t),n&&n[1]&&(a=n[1],bds.se.taskTipsDialog.taskRequest(a))),bds.comm.ishome&&bds.se.taskTipsDialog.taskRequest("firstLogin")}(),!function(){var t=0;$("#head_wr").hasClass("gj")||$(window).on("scroll",function(){$(window).scrollTop()<t&&$(window).scrollTop()>0?($("#head_wr").addClass("scroll_head").width($("#wrapper").width()),$("#container").css("padding-top",$("#container").css("padding-top")+$("#head_wr").height())):($(window).scrollTop()>t||0===$(window).scrollTop())&&($("#head_wr").removeClass("scroll_head").width("100%"),$("#container").css("padding-top",$("#container").css("padding-top")-$("#head_wr").height())),Math.abs(t-$(window).scrollTop())>50&&(t=$(window).scrollTop()),"fixed"===$("#head_wr").css("position")&&$("#head_wr").css("left",-$(this).scrollLeft()+"px")
})}(),i=0;3>i;i++)u($($(".s_ipt_wr")[i]),$($(".s_ipt")[i]),$($(".s_btn_wr")[i]),$($(".s_btn")[i]));!function(){function t(){return"placeholder"in document.createElement("input")}t()||$("input[placeholder]").focus(function(){var t=$(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=$(this);(""==t.val()||t.val()==t.attr("placeholder"))&&(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),$("#tnav_l").height(Math.max(document.body.scrollHeight,document.documentElement.clientHeight,document.body.clientHeight))
}(),bds.comm.resultSug=bds.se.sug({submission:form_submit}),bds.comm.ishome&&bds.comm.resultSug.start(),setFoot(),$(window).on("resize",function(t){t.preventDefault(),setFoot()}),bds.se.indexBanner=function(){var t=bds.comm.topBannerInfo;if(t.startDate&&t.endDate){var e=new Date,n=new Date(t.startDate),a=new Date(t.endDate);if(!(n>e||e>a)){var i="SC_HOMEEGG",o=bds.se.cookie.get(i);if(o=o?JSON.parse(o):{},o.id!=t.id&&(delete o.close,o.id=t.id),!o.close){var r=bds.comm.topBannerInfo.width,s=bds.comm.topBannerInfo.height,u=[".index_topbanner{position:absolute;top:135px;right:20px;z-index:100;width:"+r+"px;height:"+s+"px;background:url("+t.imgUrl+") 0 0 no-repeat;background-size:cover;}",".index_topbanner .logo_wr{height:100%;display:block;width:100%;}",".index_topbanner .banner_close{display:inline-block;position:absolute;right:7px;top:4px;width:10px;height:10px;z-index:20;cursor:pointer;color:#000;font-size:12px;.opacity(0);}"].join(""),c=['<div class="index_topbanner">',t.jumpUrl?'<a href="'+t.jumpUrl+'" target="blank" class="logo_wr"></a>':"",'<span class="iconfont banner_close">&#xe609;</span>',"</div>"].join("");
$(".content_wr,#content_right,#dtl_r").append($("<style>"+u+"</style>")).append($(c));var d=$(".index_topbanner"),l=d.find(".banner_close");bds.comm.ishome||d.css({position:"relative",top:0,left:0}),l.on("click",function(t){o.close=1,bds.se.cookie.set(i,JSON.stringify(o),{expires:2592e6}),d.hide(),t.preventDefault()})}}}},bds.se.indexBanner(),bds.util.showDialog=function(t,e,n,a){var i="",o="",r=$(".subsDialog");if(200===t?(i=e||"操作成功",o="c-icon-ok"):(i=e||"操作失败",o="c-icon-fail"),r.length)r.find(".texttip").text(i),r.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(o);
else{var s="";s=209===t?['<div class="subsDialog">','<span class="texttip">'+i+"</span>","</div>"].join(""):['<div class="subsDialog">','<i class="c-icon '+o+'"></i>','<span class="texttip">'+i+"</span>","</div>"].join(""),$(s).appendTo("body"),r=$(".subsDialog"),r.css({height:"42px",padding:"0 20px",color:"#69c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"}),r.find(".texttip").css({"padding-left":"6px",_zoom:1}),r.find(".c-icon").css({_display:"none"})
}n?r.css({top:n.top||Math.floor(($(window).height()-r.outerHeight())/2+$(window).scrollTop()),left:Math.floor(n.left?n.left-r.outerWidth()/2:($(window).width()-r.outerWidth())/2)}).fadeIn():r.css({top:Math.floor(($(window).height()-r.outerHeight())/2+$(window).scrollTop()),left:Math.floor(($(window).width()-r.outerWidth())/2)}).fadeIn();var u=a||1e3;setTimeout(function(){r.fadeOut()},u)},!function(){function t(t){return t.replace(w,"").replace($,",").replace(_,"").replace(y,"").replace(x,"").split(k)
}function e(t){return"'"+t.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function n(n,a){function i(t){return f+=t.split(/\n/).length-1,d&&(t=t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),t&&(t=b[1]+e(t)+b[2]+"\n"),t}function o(e){var n=f;if(c?e=c(e,a):r&&(e=e.replace(/\n/g,function(){return f++,"$line="+f+";"})),0===e.indexOf("=")){var i=l&&!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),i){var o=e.replace(/\s*\([^\)]+\)/,"");p[o]||/^(include|print)$/.test(o)||(e="$escape("+e+")")
}else e="$string("+e+")";e=b[1]+e+b[2]}return r&&(e="$line="+n+";"+e),v(t(e),function(t){if(t&&!g[t]){var e;e="print"===t?$:"include"===t?_:p[t]?"$utils."+t:h[t]?"$helpers."+t:"$data."+t,y+=t+"="+e+",",g[t]=!0}}),e+"\n"}var r=a.debug,s=a.openTag,u=a.closeTag,c=a.parser,d=a.compress,l=a.escape,f=1,g={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},m="".trim,b=m?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],w=m?"$out+=text;return $out;":"$out.push(text);",$="function(){var text=''.concat.apply('',arguments);"+w+"}",_="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+w+"}",y="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(r?"$line=0,":""),x=b[0],k="return new String("+b[3]+");";
v(n.split(s),function(t){t=t.split(u);var e=t[0],n=t[1];1===t.length?x+=i(e):(x+=o(e),n&&(x+=i(n)))});var C=y+x+k;r&&(C="try{"+C+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(n)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var S=new Function("$data","$filename",C);return S.prototype=p,S}catch(D){throw D.temp="function anonymous($data,$filename) {"+C+"}",D}}var a=function(t,e){return"string"==typeof e?m(e,{filename:t}):r(t,e)};a.version="3.0.0",a.config=function(t,e){i[t]=e
};var i=a.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},o=a.cache={};a.render=function(t,e){return m(t,e)};var r=a.renderFile=function(t,e){var n=a.get(t)||g({filename:t,name:"Render Error",message:"Template not found"});return e?n(e):n};a.get=function(t){var e;if(o[t])e=o[t];else if("object"==typeof document){var n=document.getElementById(t);if(n){var a=(n.value||n.innerHTML).replace(/^\s*|\s*$/g,"");e=m(a,{filename:t})}}return e};var s=function(t,e){return"string"!=typeof t&&(e=typeof t,"number"===e?t+="":t="function"===e?s(t.call(t)):""),t
},u={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(t){return u[t]},d=function(t){return s(t).replace(/&(?![\w#]+;)|[<>"']/g,c)},l=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},f=function(t,e){var n,a;if(l(t))for(n=0,a=t.length;a>n;n++)e.call(t,t[n],n,t);else for(n in t)e.call(t,t[n],n)},p=a.utils={$helpers:{},$include:r,$string:s,$escape:d,$each:f};a.helper=function(t,e){h[t]=e};var h=a.helpers=p.$helpers;a.onerror=function(t){var e="Template Error\n\n";
for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";"object"==typeof console&&console.error(e)};var g=function(t){return a.onerror(t),function(){return"{Template Error}"}},m=a.compile=function(t,e){function a(n){try{return new u(n,s)+""}catch(a){return e.debug?g(a)():(e.debug=!0,m(t,e)(n))}}e=e||{};for(var r in i)void 0===e[r]&&(e[r]=i[r]);var s=e.filename;try{var u=n(t,e)}catch(c){return c.filename=s||"anonymous",c.name="Syntax Error",g(c)}return a.prototype=u.prototype,a.toString=function(){return u.toString()
},s&&e.cache&&(o[s]=a),a},v=p.$each,b="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",w=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,$=/[^\w$]+/g,_=new RegExp(["\\b"+b.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),y=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,k=/^$|,+/;
i.openTag="{{",i.closeTag="}}";var C=function(t,e){var n=e.split(":"),a=n.shift(),i=n.join(":")||"";return i&&(i=", "+i),"$helpers."+a+"("+t+i+")"};i.parser=function(t){t=t.replace(/^\s/,"");var e=t.split(" "),n=e.shift(),i=e.join(" ");switch(n){case"if":t="if("+i+"){";break;case"else":e="if"===e.shift()?" if("+e.join(" ")+")":"",t="}else"+e+"{";break;case"/if":t="}";break;case"each":var o=e[0]||"$data",r=e[1]||"as",s=e[2]||"$value",u=e[3]||"$index",c=s+","+u;"as"!==r&&(o="[]"),t="$each("+o+",function("+c+"){";
break;case"/each":t="});";break;case"echo":t="print("+i+");";break;case"print":case"include":t=n+"("+e.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(i)){var d=!0;0===t.indexOf("#")&&(t=t.substr(1),d=!1);for(var l=0,f=t.split("|"),p=f.length,h=f[l++];p>l;l++)h=C(h,f[l]);t=(d?"=":"=#")+h}else t=a.helpers[n]?"=#"+n+"("+e.join(",")+");":"="+t}return t},"function"==typeof define?define("xueshu/js/template",["require"],function(){return a}):"undefined"!=typeof exports?module.exports=a:this.template=a
}(),bds=window.bds||{},bds.se=bds.se||{},bds.se.cardData={},bds.se.cardNav=function(){function t(t){var a=template(n,bds.se.cardMain.httpsImgs(t));$("#navcard_wrapper .navlist_content").html(a),e()}function e(){$(".navlist_content .addnav_btn").on("click",function(t){bds.se.cardNavEdit.show(),t.preventDefault()})}var n="navcardTemp";return{render:t}}(),bds.se.cardNavEdit=function(){function t(){var t=bds.se.cardData,e=template(l,bds.se.cardMain.httpsImgs(t));d.html(e),c()}function e(){var t=Math.floor(($(window).height()-d.outerHeight())/2),e=$("#m").offset().left+30;
0>=t&&(t=30),d.css({top:t,left:e})}function n(){if(!$(".navedit_content").length){var n="<div class=\"navedit_content xpath-log\"data-click=\"{'act_block':'navcard','act_mod':'edit','fm':'baha'}\"></div>";n+='<div class="cardnav_dialogbg"></div>',$(n).appendTo($("body")),d=$(".navedit_content")}d.find(".addednav_wr").length||t(),e(),d.show(),$(".cardnav_dialogbg").show()}function a(){d.hide(),$(".cardnav_dialogbg").hide(),bds.se.cardNav.render(bds.se.cardData)}function i(t){bds.se.cardData.navData=t.navData||[],bds.se.cardData.hotNavData=t.hotNavData||[]
}function o(){var t=template(f,bds.se.cardMain.httpsImgs(bds.se.cardData));d.find(".addednav_wr").html(t)}function r(){var t=template(p,bds.se.cardMain.httpsImgs(bds.se.cardData));d.find(".hotnav_wr").html(t)}function s(t,e){var n="//xueshu.baidu.com/usercenter/data/websitenav";$.ajax({url:n,type:"GET",timeout:3e3,dataType:"jsonp",data:t,success:function(t){if(200===t.status)e(t);else{var n=-102===t.status?"您未登录":"";bds.util.showDialog(t.status,n)}},error:function(){bds.util.showDialog(500)}})}function u(t,e){for(var n=$(".navedit_content .addednavitem"),a=null,i=0,o=n.length;o>i;i++)if(a=$(n[i]).find(".name"),-1===e.indexOf("http")&&-1===e.indexOf("ftp")&&(e="http://"+e),a.text().toLowerCase()===t.toLowerCase()||a.attr("data-url")===e)return-101;
var r=/^((http|ftp|https):\/\/)?([\w-]+(:[\w-]+)?@)?[\w-]+(\.[\w-]+)+(:[\d]+)?([#\/\?][^\s<>"\']*)?$/;return r.test(e)?200:-102}function c(){d.on("click",".navedit_close",function(t){a(),t.preventDefault()}),d.on("click",".hotnavitem",function(t){var e=$(this),n="";if(n=e.hasClass("navnormal")?"add_nav":"del_nav","add_nav"===n&&17===bds.se.cardData.navData.length)return bds.util.showDialog(500,"最多添加17个站点",{top:400}),!1;var a=e.find(".name"),u=a.text(),c=a.attr("data-url");s({cmd:n,name:u,address:c},function(t){i(t),o(),r(),bds.util.showDialog(200)
}),t.preventDefault()}),d.on("click",".navitemdel",function(t){var e=$(this).parents(".addednavitem"),n=e.find(".name"),a=n.text(),o=n.attr("data-url");s({cmd:"del_nav",name:a,address:o},function(t){e.remove(),i(t),r(a,o,"del"),bds.util.showDialog(200,"操作成功",{top:200})}),t.preventDefault()}),d.find(".navipt").keydown(function(){var t=$(this);t.removeClass("ipterror"),setTimeout(function(){var e=t.siblings(".navipt"),n=d.find(".sub_btn"),a=$.trim(t.val()),i=$.trim(e.val());a.length&&i.length?n.addClass("active"):n.removeClass("active")
},20)}),d.on("click",".sub_btn",function(){var t=$(this);if(!t.hasClass("active"))return!1;if(17===bds.se.cardData.navData.length)return bds.util.showDialog(500,"最多添加17个站点",{top:"200"}),!1;var e=d.find(".nameipt"),n=d.find(".addript"),a=$.trim(e.val()),c=$.trim(n.val());if(!a.length||!c.length)return!1;var l=u(a,c);return-101===l?(bds.util.showDialog(-101,"网站已添加过了"),!1):-102===l?(n.addClass("ipterror").focus(),!1):void s({cmd:"add_nav",name:a,address:c},function(s){i(s),o(),r(a,c,"add"),e.val("").removeClass("ipterror"),n.val("").removeClass("ipterror"),t.removeClass("active"),bds.util.showDialog(200,"操作成功",{top:300})
})}),$("body").on("click",".cardnav_dialogbg",function(){a()}),$(window).on("resize",function(){e()})}var d=null,l="naveditTemp",f="editOwnNavTemp",p="editHotNavTemp";return{show:n}}(),bds.se.cardMain=function(){function t(){$.ajax({url:s,type:"GET",dataType:"jsonp",data:{cmd:"get_nav"}}).done(function(t){200===t.status&&(0===t.navStatus?(bds.se.cardData.navData=t.navData||[],bds.se.cardData.hotNavData=t.hotNavData||[],bds.se.cardData.navStatus=t.navStatus,e("hide")):e("show"))}).always(function(){a()
})}function e(t){var e="hide"===t?"隐藏导航":"显示导航";r.attr("data-act",t).text(e)}function n(){$("#content").addClass("noneNav")}function a(){0===bds.se.cardData.navStatus&&bds.se.cardData.navData?bds.se.cardNav.render(bds.se.cardData):n()}function i(){t(),r.on("click",function(t){if("1"!==bds.comm.isLogin)return bds.se.login.open(),!1;var e=$(this).attr("data-act"),n="hide"===e?"close_nav":"open_nav";$.ajax({url:s,dataType:"jsonp",data:{cmd:n}}).done(function(t){if(200===t.status)window.location.reload();
else{var e=-102===t.status?"您未登录":"";bds.util.showDialog(t.status,e)}}).fail(function(){bds.util.showDialog(500)}),t.preventDefault()})}function o(t){return t.navData&&$.each(t.navData,function(e,n){n.spic&&(t.navData[e].spic=bds.util.domain.get(n.spic)),n.bpic&&(t.navData[e].bpic=bds.util.domain.get(n.bpic))}),t.hotNavData&&$.each(t.hotNavData,function(e,n){n.spic&&(t.hotNavData[e].spic=bds.util.domain.get(n.spic)),n.bpic&&(t.hotNavData[e].bpic=bds.util.domain.get(n.bpic))}),t}var r=$("#u .hideindexnav"),s="//xueshu.baidu.com/usercenter/data/websitenav";
return{init:i,httpsImgs:o}}(),bds.se.cardMain.init(),$("#kw").focus(),ns_c_xs({fm:"se"});var data_path="//xueshu.baidu.com";!function(){$.ajax({url:data_path+"/usercenter/data/authorchannel?cmd=claim_new_paper",type:"get",dataType:"jsonp",timeout:2e3,success:function(t){0===t.status&&t.data&&$(".dotPromote").append('<i class="iconfont redDot">&#xe630;</i>')}})}();