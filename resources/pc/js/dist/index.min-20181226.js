function initTab(){var hash=window.location.hash?window.location.hash:"#0";hash=parseInt(hash.slice(1),10),hash>8&&(hash=0),hash>0?(__index=2,$("#mainPage").addClass("main-list"),$("#btnProdList").html('收起列表<span class="i-arrow up"></span>'),$("#proNav").find("a").each(function(i,v){parseInt(i,10)+1===hash?$(this).attr("class","on"):$(this).attr("class","defcol")}),initProdTypePosition(),window.location.hash="#"+hash,window.scroll(0,arrProdTypePostion[hash-1])):(__index=1,$("#mainPage").removeClass("main-list"),$("#btnProdList").html('展开更多<span class="i-arrow down"></span>'))}function initEvent(){$("#proNav a").click(function(e){var target=$(e.target);$("#proNav").find("a").each(function(i,v){$(v).attr("class","defcol")}),target.attr("class","on");var hash=target.attr("dataid");window.location.hash="#"+hash}),$("#btnProdList").click(function(){1===__index?(__index=2,$("#mainPage").addClass("main-list"),$("#btnProdList").html('收起列表<span class="i-arrow up"></span>'),initProdTypePosition()):(__index=1,$("#mainPage").removeClass("main-list"),$("#btnProdList").html('展开更多<span class="i-arrow down"></span>'))})}function videoTab(){$(".list-item:first").addClass("list-item-on"),$(".list-item").click(function(){$(".list-item").removeClass("list-item-on"),$(this).addClass("list-item-on"),$("iframe").attr("src",""),$("iframe").hide();var videoUrl=$(this).data("video"),coverUrl=$(this).data("cover"),title=$(this).data("title");$("#videoTitle").text(title),$(".video-item").css("background-image","url("+coverUrl+")"),$(".video-item").attr("data-video",videoUrl),$(".video-item").show()}),$(".video-item").click(function(){if(!$("iframe").attr("src")){var initUrl=$("iframe").attr("init-url");$("iframe").attr("src",initUrl)}$(".video-item").hide();var videoUrl=$(this).attr("data-video");$("iframe").attr("src",videoUrl),$("iframe").show(),$("iframe").click()})}function onHover(hoverClass){$(hoverClass).mouseover(function(){var item=$(this).find("div");item.removeClass("item-icon");var className=item.attr("class"),hoverName=className+"-hover";item.removeClass(),item.addClass(hoverName),item.addClass("item-icon")}),$(hoverClass).mouseout(function(){var item=$(this).find("div");item.removeClass("item-icon");var hoverName=item.attr("class"),className=hoverName.split("-hover")[0];item.removeClass(),item.addClass(className),item.addClass("item-icon")})}function codeHover(hoverClass){$(hoverClass).mouseover(function(){$(this).find("div").show()}),$(hoverClass).mouseout(function(){$(this).find("div").hide()})}function initLoadParter(){var topLoader=setTimeout(function(){$("#contTopProdList").load("/ajaxgetindex?type=1",function(response,status,e){"success"===status&&clearTimeout(topLoader)})},200),moreLoader=setTimeout(function(){$("#contMoreProdList").load("/ajaxgetindex?type=2",function(response,status,e){"success"===status&&(initTab(),initEvent(),initOperBar(),clearTimeout(moreLoader))})},400),videoLoader=setTimeout(function(){$("#contVideoList").load("/ajaxgetindex?type=3",function(response,status,e){"success"===status&&(videoTab(),clearTimeout(videoLoader))})},600),postLoader=setTimeout(function(){$("#contPostList").load("/ajaxgetindex?type=4",function(response,status,e){"success"===status&&clearTimeout(postLoader)})},800)}function initProdTypePosition(){if(null===arrProdTypePostion){arrProdTypePostion=[];for(var navCnt=8,i=1;i<navCnt;i++)arrProdTypePostion.push($("#"+i.toString()).offset().top-210)}}function initOperBar(){var operBar=$(".prod-nav-top");if(operBar[0]){var offsetTop=1450,offsetMaxTop=4360,onScroll=function(){if(arrProdTypePostion){var scrollTop=$(document).scrollTop()+20,newPos=0,curPos=parseInt(operBar.find("a.on").attr("dataid"),10);if(scrollTop>offsetTop&&scrollTop<offsetMaxTop){operBar.hasClass("ontop")||operBar.addClass("ontop");for(var i=0;i<arrProdTypePostion.length;i++){if(6===i&&scrollTop>=arrProdTypePostion[i]){newPos=7;break}if(scrollTop>=arrProdTypePostion[i]&&scrollTop<arrProdTypePostion[i+1]){newPos=i+1;break}}curPos!==newPos&&newPos>0&&(operBar.find("a.on").addClass("defcol").removeClass("on"),operBar.find('a[dataid="'+newPos.toString()+'"]').removeClass("defcol").addClass("on")),scrollTop>arrProdTypePostion[curPos-1]+68&&scrollTop<arrProdTypePostion[curPos-1]+78&&(window.location.hash="#"+curPos.toString()),scrollToLastTypeBottom=!0}else operBar.removeClass("ontop"),operBar.find("a.on").addClass("defcol").removeClass("on"),operBar.find('a[dataid="1"]').removeClass("defcol").addClass("on"),scrollToLastTypeBottom&&scrollTop>=offsetMaxTop&&(scrollToLastTypeBottom=!1,window.scroll(0,scrollTop+135))}};onScroll(),$(window).scroll(onScroll)}}var __index,arrProdTypePostion=null,scrollToLastTypeBottom=!1;$(function(){$(document).scrollTop()>=350&&$(".sidebar").show();var onscroll=function(){$(document).scrollTop()};$(window).scroll(onscroll),initLoadParter(),onHover(".serv-item"),codeHover(".sidebar .item")});