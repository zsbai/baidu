define("detail:static/ui/PDC/lib.js",function(){!function(){window.PDC={_timing:{},_opt:{sample:.01},_analyzer:{loaded:!1,url:"http://static.tieba.baidu.com/tb/pms/wpo.pda.js?v=2.9",callbacks:[]},_render_start:+new Date,extend:function(t,e){for(property in t)e[property]=t[property];return e},metadata:function(){for(var t=this._opt,e={env:{user:1==t.is_login?1:0,product_id:t.product_id,page_id:PDC._is_sample(t.sample)?t.page_id:0},render_start:this._render_start,timing:this._timing},n=[],i=t.special_pages||[],a=0;a<i.length;a++)PDC._is_sample(i[a].sample)&&n.push(i[a].id);return n.length>0&&(e.env.special_id="["+n.join(",")+"]"),e},init:function(t){this.extend(t,this._opt)},mark:function(t,e){this._timing[t]=e||+new Date},view_start:function(){this.mark("vt")},tti:function(){this.mark("tti")},page_ready:function(){this.mark("fvt")},first_screen:function(){function t(t){var e=0;e=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop;try{e+=t.getBoundingClientRect().top}catch(n){}finally{return e}}var e=document.getElementsByTagName("img"),n=document.getElementsByTagName("IFRAME"),i=+new Date,a=[],o=this;this._setFS=function(){for(var e=o._opt.fsHeight||document.documentElement.clientHeight,n=0;n<a.length;n++){var r=a[n],s=r.img,c=r.time,d=t(s);d>0&&e>d&&(i=c>i?c:i)}o._timing.fs=i};for(var r=function(){this.removeEventListener&&this.removeEventListener("load",r,!1),a.push({img:this,time:+new Date})},s=0;s<e.length;s++)!function(){var t=e[s];t.addEventListener?!t.complete&&t.addEventListener("load",r,!1):t.attachEvent&&t.attachEvent("onreadystatechange",function(){"complete"==t.readyState&&r.call(t,r)})}();for(var s=0,c=n.length;c>s;s++)!function(){var t=n[s];t.attachEvent?t.attachEvent("onload",function(){r.call(t,r)}):t.addEventListener("load",r,!1)}()}},document.attachEvent?window.attachEvent("onload",function(){PDC.mark("let"),PDC._setFS&&PDC._setFS(),PDC._opt.ready!==!1&&PDC._load_analyzer()}):window.addEventListener("load",function(){PDC.mark("lt")},!1)}()});
;define("detail:static/ui/PDC/res.js",function(require,exports,module){!function(){PDC.extend({_navTiming:window.performance&&performance.timing,ready:function(){function e(){if(!c){c=!0;for(var e=0,t=r.length;t>e;e++)r[e]()}}function t(){try{document.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1)}e()}function n(){if(!o)if(o=!0,document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",a),window.attachEvent("onload",e);var n=!1;try{n=null==window.frameElement}catch(r){}document.documentElement.doScroll&&n&&t()}}var a,o=!1,r=[],c=!1;return document.addEventListener?a=function(){document.removeEventListener("DOMContentLoaded",a,!1),e()}:document.attachEvent&&(a=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),e())}),n(),function(e){c?e():r.push(e)}}(),Cookie:{set:function(e,t,n){n=n||10;var a=new Date;a.setTime((new Date).getTime()+1e3*n),document.cookie=e+"="+escape(t)+";path=/;expires="+a.toGMTString()},get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},remove:function(e){this.set(e,"",-1)}},_is_sample:function(e){return PDC._random||(PDC._random=Math.random()),PDC._random<=e},_load_analyzer:function(){for(var e=this._opt.special_pages||[],t=[this._opt.sample],n=0;n<e.length;n++)t.push(e[n].sample);var a=Math.max.apply(null,t);0!=PDC._is_sample(a)&&(PDC._analyzer.loaded=!0,PDC._load_js(PDC._analyzer.url,function(){for(var e=PDC._analyzer.callbacks,t=0,n=e.length;n>t;t++)e[t]()}))},_load_js:function(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(n.onload=n.onreadystatechange=null,"function"==typeof t&&t(e,!0))},n.onerror=function(){"function"==typeof t&&t(e,!1)},document.getElementsByTagName("head")[0].appendChild(n)},send:function(){1==PDC._analyzer.loaded?WPO_PDA.send():(PDC._load_analyzer(),PDC._analyzer.callbacks.push(function(){WPO_PDA.send()}))}},PDC),!function(){function findParent(e,t){var n=0;if((t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;for(;t=t.parentNode;){if(n++,(t.nodeName||t.tagName).toLowerCase()===e.toLowerCase())return t;if(n>=4)return null}return null}function clickHandle(e){var e=e||window.event,t=e.target||e.srcElement,n=findParent("a",t);if(n){var a=n.getAttribute("href");/^#|javascript:/.test(a)||(Cookie.set("PMS_JT",'({"s":'+ +new Date+',"r":"'+document.URL.replace(/#.*/,"")+'"})'),isset=!0)}}var Cookie=PDC.Cookie,jt=Cookie.get("PMS_JT"),isset=!1;jt&&(Cookie.remove("PMS_JT"),jt=eval(jt),jt.r&&document.referrer.replace(/#.*/,"")!=jt.r||PDC._render_start-jt.s>100&&PDC.mark("wt",PDC._render_start-jt.s)),document.attachEvent?document.attachEvent("onclick",clickHandle):document.addEventListener("click",clickHandle,!1)}(),PDC.ready(function(){PDC.mark("drt")}),document.attachEvent?window.attachEvent("onload",function(){PDC.mark("lt")},!1):window.addEventListener("load",function(){PDC.mark("let"),PDC._setFS&&PDC._setFS(),PDC._opt.ready!==!1&&PDC._load_analyzer()})}()});
;define("detail:static/ui/payapis/payapis.js",function(e,t){var a=e("common:static/vendor/jquery/jquery.js"),c=e("common:static/ui/eventcenter/eventcenter.js"),i={checkPrice:"/movie_intro/?dtype=payment&service=json&e=1",checkPayState:"http://v.baidu.com/pay/payinfo/"},n="video",o=/frp=([^&%<=]+)/.test(location.search)&&RegExp.$1,r={};t.checkPrice=function(e,t,s){if(n=s,n&&"hao123"===n&&(i.checkPrice="/dianying_intro/?dtype=payment&service=json&e=1"),"function"==typeof t){if(r[e])return void t(r[e]);var d={id:e};o&&(d.frp=o),a.ajax({url:i.checkPrice,data:d,dataType:"jsonp",success:function(i){0===i.data.length&&a("#j-play-btn").addClass("showTwice"),r[e]=i,c.trigger("priceLoad",{data:i,once:!0}),t(i)}})}};var s={};t.checkPayState=function(e,t){return"function"==typeof t?s[e]?void t(s[e]):void a.ajax({url:i.checkPayState,data:{url:e},dataType:"jsonp",success:function(a){s[e]=a,t(a)}}):void 0}});
;define("detail:static/ui/playSite/playSite.js",function(e,i){function n(e,i){if("function"==typeof i){var n=e.userType?"&frp="+e.userType:"";c?i(c):t.ajax(o+"&id="+e.vid+n,{dataType:"jsonp",success:function(e){c=e,i(c)}})}}var t=$,o=~location.hostname.indexOf(".hao123.com")?"http://v.hao123.com/dianying_intro/?dtype=playUrl&service=json&e=1":"/movie_intro/?dtype=playUrl&service=json&e=1",c=null,a=e("common:static/ui/core/core.js"),r=a.config,s=r.siteVipProxies;i.get=n,i.checkVIPSite=function(e,i){n(e,function(e){for(var n=0,t=e.length;t>n;n++)for(var o=e[n].site,c=0;c<s.length;c++)if(o.indexOf(s[c])>-1&&o.indexOf("61.hz.letv.com")<0)return void i(!0);i(!1)})}});
;define("detail:static/ui/vipPlayPortal/vipPlayPortal.js",function(t,e){function i(t,e,i){var a,i=i||r;if(t)for(var n in i)if(t.indexOf(n)>-1&&t.indexOf("61.hz.letv.com")<0){a=i[n].replace("{url}",encodeURIComponent(e));break}return a}var a=$,r={"wasu.cn":"http://uc.wasu.cn/member/index.php/Proxy/core?link={url}","letv.com":"http://sso.letv.com/oauth/baidu?next_action={url}","m1905.com":"http://openapi.passport.m1905.com/Login/Authorize/Baidu/?ReturnUrl={url}&vbaidu=1","baofeng.com":"http://hd.baofeng.com/?c=ThirdPartner&a=vipbaidu&next_action={url}","funshion.com":"http://api.funshion.com/login/oauth_authorize/baidu?url={url}","pptv.com":"http://api.ddp.vip.pptv.com/core/proxy?link={url}"},n={"wasu.cn":"http://uc.wasu.cn/member/index.php/Proxy/single?link={url}"};e.add=function(t){if(t){var e=t.nodeName;e&&("A"===e?a(t).on("click",function(t){var e="no_ad_video",r="";this.getAttribute("data-site")&&(r="&site="+this.getAttribute("data-site"));var n=i(r,this.href);n&&(t.preventDefault(),this.getAttribute("data-stptype")&&(e=this.getAttribute("data-stptype")),a.get("http://v.baidu.com/vip/user_record/?tn=vip&stp="+e+"&num=1"+r),window.open(n))}):a(t).on("click",function(t){var e=t.target,r="no_ad_video",n="";if(e.getAttribute("data-site")&&(n="&site="+e.getAttribute("data-site")),"A"===e.nodeName){var o=i(n,e.href);o&&(t.preventDefault(),e.getAttribute("data-stptype")&&(r=e.getAttribute("data-stptype")),a.get("http://v.baidu.com/vip/user_record/?tn=vip&stp="+r+"&num=1"+n),window.open(o))}}))}},e.addPay=function(t){if(t){var e=t.nodeName;e&&("A"===e?a(t).on("click",function(t){var e="";this.getAttribute("data-site")&&(e="&site="+this.getAttribute("data-site"));var a=i(e,this.href,n);a&&(t.preventDefault(),this.getAttribute("data-stptype")&&"paid_video"==this.getAttribute("data-stptype")||window.open(a))}):a(t).on("click",function(t){var e=t.target;if("A"===e.nodeName){var a="";e.getAttribute("data-site")&&(a="&site="+e.getAttribute("data-site"));var r=i(a,e.href,n);r&&(t.preventDefault(),e.getAttribute("data-stptype")&&"paid_video"==e.getAttribute("data-stptype")||window.open(r))}}))}},e.changePlaySource=function(e){var i=t("common:static/ui/core/core.js"),a=(i.config,t("detail:static/ui/playSite/playSite.js")),r=$("#videoId").attr("value");a.get({vid:r,userType:"vip"},function(t){if(t&&t.length){var i=t[0].link,a=i+e,r=$("#playButtons a.play-btn")[0],n=$("#poster .poster-a")[0];r&&(r.href=a,r.setAttribute("data-name",t[0].name),r.setAttribute("data-site",t[0].site),r.setAttribute("static","stp=lj&to=play&site="+t[0].site),n&&(n.href=a,n.setAttribute("data-name",t[0].name),n.setAttribute("data-site",t[0].site),r.setAttribute("static","stp=lj&to=play&site="+t[0].site)))}})}});
;define("detail:static/ui/vipRegisterPopup/vipRegisterPopup.js",function(d,i,a){var t=$,s=(d("common:static/ui/eventcenter/eventcenter.js"),d("common:static/vendor/underscore/underscore.js").template),o=d("common:static/ui/loginCheck/loginCheck.js"),e=d("common:static/ui/bdPassPop/bdPassPop.js");d("common:static/vendor/bootstrap/js/modal.js");var l='<div id="vipRegisterPopup" tabindex="-1" role="dialog" class="<%=(islogin ? "logged" : "login")%> modal fade modal-vipsize" aria-hidden="true"><div class="modal-dialog"><div class="modal-content">	<a href="javascript:void(0)" class="dialog-close" data-dismiss="modal"></a>	<% if ( islogin ) { %>	<div class="vip-user">		<div class="vip-userinfo">			<img src="http://himg.bdimg.com/sys/portrait/item/<%=userinfo.portrait%>.jpg" alt="" class="portrait" />			<p class="name" title="<%=userinfo.value%>"><span class="s-name"><%=userinfo.value%></span><b></b></p>			<div class="user-links">				<a href="http://www.baidu.com/p/setting/profile/basic" target="_blank">修改资料</a>				<a href="http://v.baidu.com/vip/order/" target="_blank">订单记录</a>			</div>		</div>		<div class="vip-links">			<a href="http://v.baidu.com/vip/radar/" target="_blank">超级雷达</a>			<a href="http://v.baidu.com/vip/myradar/" target="_blank">雷达收藏</a>		</div>	</div>	<div class="vip-super-des">		<h3>超级VIP特权</h3>		<dl>			<dt>VIP超清大片</dt>			<dd>海量高清大片随心看！</dd>			<dt>视频去广告</dt>			<dd>看电影、电视剧、综艺、动漫，无广告！</dd>			<dt>超级雷达</dt>			<dd>发现你附近的精彩视频</dd>			<dt>雷达收藏</dt>			<dd>收藏喜欢的视频</dd>		</dl>		<a href="<%=payurl%>" target="_blank" class="link-pay">立即抢购</a>	</div>	<% } else { %>	<div class="vip-super-des" style="padding-bottom:30px;">		<h3>超级VIP特权</h3>		<dl>			<dt>VIP超清大片</dt>			<dd>海量高清大片随心看！</dd>			<dt>视频去广告</dt>			<dd>看电影、电视剧、综艺、动漫，无广告！</dd>			<dt>超级雷达</dt>			<dd>发现你附近的精彩视频</dd>			<dt>雷达收藏</dt>			<dd>收藏喜欢的视频</dd>		</dl>		<a href="<%=payurl%>" target="_blank" class="link-pay">立即抢购</a>	</div>	<div class="vip-des">		<h3>VIP特权</h3>		<dl>			<dt>超级雷达</dt>			<dd>发现你附近的精彩视频</dd>			<dt>雷达收藏</dt>			<dd>收藏喜欢的视频</dd>		</dl>		<a href="javascript:void(0);" class="link-login">登录免费体验</a>	</div>	<% } %>	</div></div></div>',n={init:function(d){var i=this;o(function(a){var o=a&&a.value;t(function(){t.ajax("http://v.baidu.com/vip/ordernew",{dataType:"jsonp",success:function(n){var r=n.data.url;t(document.body).append(s(l,{islogin:o,userinfo:a,payurl:r})),i.dialog=t("#vipRegisterPopup").modal({mask:!0}),o||(t("#vipRegisterPopup .link-login").click(function(d){d.preventDefault(),i.dialog.modal("hide"),e.show()}),t("#vipRegisterPopup .link-pay").click(function(d){d.preventDefault(),i.dialog.modal("hide"),e.show(function(){window.open(r,"_blank"),location.reload()})})),d&&i.dialog.modal("show")}})})}),this._isinit=!0},show:function(){this._isinit?this.dialog.modal("show"):this.init(!0)},hide:function(){this.dialog.modal("hide")}};a.exports=n});
;define("detail:static/ui/pay/pay.js",function(t,i){var e=$,s=t("common:static/vendor/underscore/underscore.js").template,a=t("common:static/ui/eventcenter/eventcenter.js"),p=t("detail:static/ui/payapis/payapis.js"),n=t("common:static/ui/loginCheck/loginCheck.js"),l=(t("common:static/vendor/bootstrap/js/modal.js"),t("common:static/ui/vipInfo/vipInfo.js")),r=(t("detail:static/ui/vipPlayPortal/vipPlayPortal.js"),t("detail:static/ui/playSite/playSite.js"),t("detail:static/ui/vipRegisterPopup/vipRegisterPopup.js")),o={init:function(t){function i(t){for(var i=[],e=t.length-1;e>=0;e--)-1!=t[e].site.indexOf("wasu.")&&(i.push(t[e]),t.splice(e,1));return t.concat(i)}function s(t,i){for(var e=[],s=!1,a=0,p=t.length;p>a;a++)"pay"==i?s=0==t[a].payment||2==t[a].payment:"vip"==i&&(s=1==t[a].payment||2==t[a].payment),s&&e.push(t[a]);return e}var a=this;this.videoid=t.videoid,this.sitename="",this.site="",this.fufei_payment=t.fufei_payment,this.playurlappend=t.play_url_append,this.site_list=[];var r=[],o=t.site_list;r=i(o),this.$container=e("#payplay")[0],(0==a.fufei_payment||1==a.fufei_payment)&&(a.site_list=r,a.playurl=a.site_list[0].url+a.playurlappend,a.price=a.site_list[0].price,a.sitename=a.site_list[0].sitename,a.site=a.site_list[0].site),0==a.fufei_payment?n(function(t){t.value&&t.has_uname?p.checkPayState(a.playurl,function(t){a.isPaid=t.isPaid,a._render()}):(a.isPaid=0,a._render())}):(1==a.fufei_payment||2==a.fufei_payment)&&n(function(t){if(t&&t.value)l.get(function(t){t.isvip&&t.isvalid?(2==a.fufei_payment&&(a.site_list=s(r,"vip"),a.playurl=a.site_list[0].url+a.playurlappend,a.price=a.site_list[0].price,a.sitename=a.site_list[0].sitename,a.site=a.site_list[0].site),a.isPaid=0,a._render(!0)):2==a.fufei_payment?(a.site_list=s(r,"pay"),a.playurl=a.site_list[0].url+a.playurlappend,a.price=a.site_list[0].price,a.sitename=a.site_list[0].sitename,a.site=a.site_list[0].site,p.checkPayState(a.playurl,function(t){if(a.isPaid=t.isPaid,10!=a.isPaid){a.site_list=s(r,"vip");var i=s(r,"pay");a.playurl=i[0].url+a.playurlappend,a.price=i[0].price,a.sitename=i[0].sitename,a.site=i[0].site}a._render()})):(a.isPaid=0,a._render())});else{if(2==a.fufei_payment){a.site_list=s(r,"vip");var i=s(r,"pay");a.playurl=i[0].url+a.playurlappend,a.price=i[0].price,a.sitename=i[0].sitename,a.site=i[0].site}a.isPaid=0,a._render()}})},_render:function(t){var i='<div class="play-sites">            <span class="info">智能排序：</span>            <span class="play-sites-list" >                <% for(var sIdx = 0,sLen = site_list.length; sIdx < sLen ;sIdx++){ %>                    <% var siteItem = site_list[sIdx]; %>                        <span>                            <a href="<%=siteItem.url%><%=playurlappend%>" style="background: url(<%=siteItem.sitelogo%>) left center no-repeat;" data-site="<%=siteItem.site%>" data-name="<%=siteItem.sitename%>" target="_blank" class="succeed-site play-site" static="stp=site&site=<%=siteItem.site%>"><%=siteItem.sitename%><% if(sIdx != (sLen-1)){ %><span>&nbsp;&nbsp;></span><% } %></a>					        <a href="javascript:void(0);"  style="background: url(<%=siteItem.sitelogo%>) left center no-repeat;" target="_blank" class="control-pay" title="付费观看" static="stp=site_pay"><%=siteItem.sitename%><% if(sIdx != (sLen-1)){ %><span>&nbsp;&nbsp;></span><% } %></a>                        </span>                    <% } %>            </span>        </div>';if(e("#playButtons").css("visibility","visible"),10==this.isPaid||0!=this.fufei_payment){var a=this.$poster=e("#posterContainer")[0];this.$container.innerHTML=s(e("#tmplPayPlay").html(),{isPaid:this.isPaid,playurl:this.playurl,price:this.price,sitename:this.sitename,site:this.site,playurlappend:this.playurlappend}),e(".j-play-sites").eq(0).html(s(i,{site_list:this.site_list,playurlappend:this.playurlappend}));var p=e("#payWrapBtn")[0];if(p){if(this.fufei_payment>0&&t){p.innerHTML='<a href="javascript:void(0);" data-stptype="paid_video" data-site="'+this.site+'" data-name="'+this.sitename+'" id="month-play" target="_blank" class="intro-play-btn intro-play-btn-viped control-pay" static="stp=play&ext=payvipplay">VIP免费观看</a>';var n=e("#month-play")[0];n&&(n.href=this.playurl);var l=e(".play-sites-list>span");if(l&&l.length)for(var r=0,o=l.length;o>r;r++){var y=l[r].getElementsByTagName("a");y[0].style.display="inline-block",y[0].setAttribute("data-stptype","paid_video"),y[1].style.display="none"}a&&(a.href=this.playurl,a.setAttribute("data-name",this.sitename),a.setAttribute("data-stptype","paid_video"),a.setAttribute("data-site",this.site),a.setAttribute("static","stp=pay_poster&site="+this.site),a.title="立即播放")}else this.fufei_payment<1||2==this.fufei_payment&&!t&&10==this.isPaid?10!=this.isPaid?(this.$inner=e("#payWrap")[0],this.$paylinks=e(".control-pay"),this.$poster&&(this.$poster.title="付费观看",this.$poster.setAttribute("static","stp=pay_poster&site="+this.site)),this._bind("pay")):a&&(a.href=this.playurl,a.title="立即播放"):2!=this.fufei_payment||t||10==this.isPaid?1!=this.fufei_payment||t||(p.innerHTML='<a href="javascript:void(0);" id="month-play" target="_blank" class="intro-play-btn intro-play-btn-vip" static="stp=play&ext=payvipplay">VIP包月点播</a>',this.$paylinks=e(".control-pay"),this.$poster&&(this.$poster.title="VIP包月点播",this.$poster.setAttribute("static","stp=pay_poster&site="+this.site)),this._bind("vip")):(p.innerHTML='<a href="'+this.playurl+'" target="_blank" class="btn-play" static="stp=play">立即播放</a>			<a href="javascript:void(0);" id="month-play" target="_blank" class="intro-play-btn intro-play-btn-vip control-pay" static="stp=play&ext=payvipplay&site='+this.site+'"">VIP包月点播</a>',this.$inner=e("#payWrap")[0],this.$paylinks=e(".control-pay"),this.$payLinkByVIP=e("#control-vip-pay")[0],this.$poster&&(this.$poster.title="VIP包月点播",this.$poster.setAttribute("static","stp=pay_poster&site="+this.site)),this._bind("vip"));e(".normal-btn").hide(),e(p).show()}}},_bind:function(t){var i=this;e.each(this.$paylinks,function(s,a){e(a).on("click",function(e){e.preventDefault(),"pay"==t||"payAgain"==this.id?i._pay():r.show("movie")})}),this.$payLinkByVIP&&e(this.$payLinkByVIP).on("click",function(t){10!=i.isPaid&&(t.preventDefault(),i._pay())}),e(this.$poster).on("click",function(e){10!=i.isPaid&&(e.preventDefault(),"pay"==t?i._pay():r.show("movie"))})},_pay:function(){var t=this;this.isPaying=!0,n(function(i){i.value?i.incomplete_user?t._showSetUname():(t._showDialog(),window.open("http://v.baidu.com/pay?id="+t.videoid+"&url="+encodeURIComponent(t.playurl))):a.trigger("bdPassPop.show"),t.isPaying=!1})},_showDialog:function(){var t=this;this.dialog||($(document.body).append(e("#tmplPlayDialog").html()),this.dialog=e("#payDialog").modal(),this.dialog.on("hide.bs.modal",function(){t._paid()})),this.dialog.modal("show")},_paid:function(){var t=this;p.checkPayState(this.playurl,function(i){t.isPaid=i.isPaid,10==i.isPaid?(t.$inner.className="paid-succeed",t.$poster&&(t.$poster.href=t.playurl,t.$poster.title="立即播放")):t.$inner.className="paid-failed"})},_showSetUname:function(){this.dialogSetUname||($(document.body).append(e("#tmplSetUname").html()),this.dialogSetUname=e("#paySetUname").modal({fixed:!0,mask:!0,callbacks:{hide:function(){}}})),this.dialogSetUname.show()}};i.init=function(t){o.init(t)}});
;define("detail:static/ui/utils/hotTvshowData.js",function(a,t){var o,e=!1,n=[],c=a("common:static/vendor/jquery/jquery.js"),r=(a("common:static/vendor/underscore/underscore.js"),function(){var a;if(o){for(;a=n.shift();)a(o[a.blockName]);e=!1}});t.get=function(a,t,i){return o&&o[a]?t(o[a]):(t.blockName=a,n.push(t),void(e||(e=!0,c.ajax({url:"http://v.baidu.com/topic/specdifull?topic_id="+i+"&callback=?",dataType:"jsonp",callbackName:"nindexCartoonNew"}).done(function(a){0===+a.errno&&a.data&&a.data.arr_tabs&&(o=a.data.arr_tabs),r()}))))}});
;define("detail:static/ui/utils/topData.js",function(t,o){var n,a=[],i="http://list.video.baidu.com/api_hotsearch.json",e=t("common:static/vendor/underscore/underscore.js"),s={all:"index_top_search",movie:"index_top_movie_all",tvplay:"index_top_tv_all",tv:"index_top_tv_all",tvshow:"index_top_tamasha",show:"index_top_tamasha",comic:"index_top_cartoon"},c=!1,d=function(){if(n)for(;a.length;)a.shift()()};o.get=function(t,o){var r=s[t];return a.push(function(){o(n[r].data)}),n?d():void(c||(c=!0,$.ajax({url:i,jsonpCallback:"bdvTopSearchList",dataType:"jsonp",success:function(t){return t&&t.length?(n=e.indexBy(t,"name"),d()):void 0},error:function(){d()}})))}});
;define("detail:widget/hot/hot.js",function(require,exports,module){require("common:static/vendor/bootstrap/js/transition.js"),require("common:static/vendor/bootstrap/js/carousel.js");var objAjax,pageType,switchTo,render,eles={slideWrap:$(".j-hot-slide-wrap")},api="/#pageType_intro/?dtype=#oriTypeCombine&service=json&id=#id&callback=?",tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="hot-slide slide carousel" id="'+(null==(__t=type)?"":__t)+'Slide" static="bl=guessLike&blname=热门推荐&type='+(null==(__t=type)?"":__t)+'">\n    ',data.length>4&&(__p+='\n    <a href="#'+(null==(__t=type)?"":__t)+'Slide" class="left hot-slide-control-left" data-slide="prev" static="stp=left"></a>\n    <a href="#'+(null==(__t=type)?"":__t)+'Slide" class="right hot-slide-control-right" data-slide="next" static="stp=right"></a>\n    '),__p+="\n    ",data.length){__p+='\n    <div class="slide-page-info">同'+(null==(__t=typeName)?"":__t)+"：<b>1</b><i>/"+(null==(__t=Math.ceil(data.length/4))?"":__t)+'</i></div>\n    <div class="carousel-inner j-carousel-inner">\n        <div class="item active">\n            <ul class="hot-slide-items clearfix">\n            ';for(var i=0,l=data.length;l>i;i++){__p+="\n                ";var item=data[i],works_id=item.works_id||item.id;__p+="\n                <li",(i+1)%4==0&&(__p+=' class="last sub-item"'),__p+='>\n                    <a href="/'+(null==(__t=pageType)?"":__t)+"/"+(null==(__t=works_id)?"":__t)+'.html" title="'+(null==(__t=item.title)?"":__t)+'" class="cover" static="stp=po&ext=cover&movieid='+(null==(__t=works_id)?"":__t)+"&idx="+(null==(__t=i)?"":__t)+'" target="_blank">\n                        <img src="'+(null==(__t=item.vertical_img_url||item.poster||item.big_poster||item.imgv||item.imgh)?"":__t)+'" alt="'+(null==(__t=item.title)?"":__t)+'">\n                        <span class="mask"></span>\n                        <span class="play"></span>\n                        ',item.rating&&"0"!=item.rating&&(__p+='<span class="score">'+(null==(__t=Math.floor(+item.rating/10))?"":__t)+"<b>."+(null==(__t=+item.rating%10)?"":__t)+"</b></span>"),__p+='\n                    </a>\n                    <h6 title="'+(null==(__t=item.title)?"":__t)+'"><a href="/'+(null==(__t=pageType)?"":__t)+"/"+(null==(__t=works_id)?"":__t)+'.html" title="'+(null==(__t=item.title)?"":__t)+'" static="stp=po&ext=txt&movieid='+(null==(__t=works_id)?"":__t)+'" target="_blank">'+(null==(__t=item.title.substr(0,12))?"":__t)+'</a></h6>\n                    <p title="',item.oneword&&(__p+=""+(null==(__t=item.oneword)?"":__t)),__p+='">\n                        ',item.oneword?__p+="\n                            "+(null==(__t=item.oneword)?"":__t)+"\n                        ":item.s_intro?__p+="\n                            "+(null==(__t=item.s_intro)?"":__t)+"\n                        ":item.net_show_time?__p+="\n                            "+(null==(__t=item.net_show_time)?"":__t)+"年上映\n                        ":+item.max_episode&&+item.cur_episode&&(__p+="\n                            ",__p+="show"==pageType?"\n                            更新至"+(null==(__t=item.max_episode)?"":__t)+"\n                            ":item.finish&&0==item.finish||+item.cur_episode<+item.max_episode?"\n                            更新至"+(null==(__t=item.cur_episode)?"":__t)+"集\n                            ":"\n                            全"+(null==(__t=item.max_episode)?"":__t)+"集\n                            ",__p+="\n                        "),__p+="\n                    </p>\n                </li>\n                ",(i+1)%4==0&&l>i+1&&(__p+='\n                </ul>\n            </div>\n            <div class="item">\n                <ul class="hot-slide-items clearfix">\n                '),__p+="\n            "}__p+="\n            </ul>\n        </div>\n    </div>\n    "}else __p+='\n    <div class="slide-noitem"><span></span>暂时没有同'+(null==(__t=typeName)?"":__t)+"的影片！</div>\n    ";__p+="\n</div>"}return __p},dataCache={actor:null,director:null,type:null,season:null},callbacks=[],comicAPI="http://v.baidu.com/videoapi/?page_name=comic&callback=?&block_sign=index_cartoon_show_hot,cartoon_show_finish",tvAPI="http://v.baidu.com/videoapi/?page_name=index1,tvplay&block_sign=index_index_show_tv_hot%%index_tvplay_show_taiwan,tvplay_show_abroad",typeMap={video:{},hao123:{movie:"dianying",tv:"dianshi",comic:"dongman",show:"zongyi"},duba:{movie:"dianying",tv:"dianshi",comic:"dongman",show:"zongyi"}},dataLoaded=!1,goCallback=function(){dataLoaded=!0,$.each(callbacks,function(t,e){e.call(null,dataCache)})},fetchData=function(t,e,a,i){if(callbacks.push(e),dataLoaded)return goCallback();if(!objAjax){var n=a;pageType=typeMap[i][n]||a,objAjax=$.getJSON(api.replace("#id",t).replace(/\#pageType/g,n).replace(/\#oriType/g,n)).done(function(t){dataCache.actor=t.actor||[],dataCache.director=t.director||[],dataCache.type=t.similary||[],dataCache.season=t.season||[],"comic"===a?$.ajax({url:comicAPI,dataType:"jsonp",crossDomain:!0,scriptCharset:"gb2312",success:function(t){$.isPlainObject(t)||(t=$.parseJSON(t)),dataCache.xinfan=t.cartoon_show_hot,dataCache.dubo=t.cartoon_show_finish,goCallback()},error:function(){goCallback()}}):"tv"===a?$.ajax({url:tvAPI,dataType:"jsonp",crossDomain:!0,scriptCharset:"gb2312",success:function(t){$.isPlainObject(t)||(t=$.parseJSON(t)),dataCache.rebo=t.index_show_tv_hot,dataCache.gangju=t.tvplay_show_taiwan,dataCache.meiju=t.tvplay_show_abroad,goCallback()},error:function(){goCallback()}}):goCallback()}).fail(function(){goCallback()})}},getData=function(t){return dataCache[t]},typeList={actor:"主演",director:"导演",type:"类型",xinfan:"新番",dubo:"独播",rebo:"热播",meiju:"美剧",gangju:"港剧"};render=function(t){var e=tpl({type:t,data:getData(t),pageType:pageType,typeName:typeList[t]}),a=$(e);eles.slideWrap.append(a),eles[t]=a,a.on("slid.bs.carousel",function(){var t=$(this),e=t.find(".item.active").index()+1;t.find(".slide-page-info b").text(e)}),a.carousel({interval:!1}),switchTo(t)};var switching=!1;switchTo=function(t){return t=t||"type",eles[t]&&eles[t].length?void(eles.current&&eles.current.length?eles.current.fadeOut(200,function(){eles[t].fadeIn(300,function(){switching=!1}),eles.current=eles[t]}):(eles[t].fadeIn(300,function(){switching=!1}),eles.current=eles[t])):void render(t)};var initTabs=function(){var t,e=["hot-slide-wrap-type","hot-slide-wrap-director","hot-slide-wrap-actor","hot-slide-wrap-dubo","hot-slide-wrap-xinfan","hot-slide-wrap-rebo","hot-slide-wrap-meiju","hot-slide-wrap-gangju"].join(" "),a=$(".hot-slide-wrap");a.find(".hot-tab").on("click",function(i){if(i.preventDefault(),!switching){var n=$(this),l=n.data("class");t!==l&&(switching=!0,t=l,a.removeClass(e).addClass("hot-slide-wrap-"+l),switchTo(l))}})};exports.init=function(t,e,a){$("#movie-hot").on("showdata.lazy",function(){$(this).off("showdata.lazy").trigger("loadcomplete.lazy");var i=function(){fetchData(t,function(t){initTabs();for(var e=["type","actor","director","xinfan","dubo","rebo","gangju","meiju"],a="",i=0,n=e.length;n>i&&(a=e[i],!(t[a]&&t[a].length>0));i++)a="";a&&($(".hot-slide-wrap .hot-tab[data-class="+a+"]").trigger("click"),$("#movie-hot").removeClass("hide"))},e,a)};setTimeout(i,500)})},exports.fetchData=fetchData});
;define("detail:widget/intro/intro.js",function(t,e,i){var a=(t("common:static/vendor/bootstrap/js/tooltip.js"),t("common:static/ui/client/dimension.js"),t("common:static/vendor/underscore/underscore.js")),s=function(){var t=$(".j-data-intro"),e=$(".j-toggleIntro");e.on("click",function(e){e.preventDefault();var i=$(e.currentTarget),a=i.parent().prev("b"),s=a.text();a.html(t.val()),t.val(s),i.html(~i.text().indexOf("展开")?"收起&lt;&lt;":"展开&gt;&gt;")})},o={init:function(e,i,a,s,o){var l=this;l.episodeModule=t("detail:widget/episode/show.js").episode,l.sale=s,l.flag=!1,l.hasTimeline=o,l.site="hao123"===i?"/zongyi_intro/?id="+e:"/show_intro/?id="+e+(1===parseInt(a,10)?"&frp=browse":""),l.episodeNum=$(".j_episode_num"),l.episodeTitle=$(".intro-last-news").find(".title"),l.playBtn=$(".j_play_btn_now"),l.siteLogo=$("#siteLOGO"),l.render()},render:function(){var t=this;t.hasTimeline?t.fetchData(t.layout):t.bindEvent()},getAPI:function(){return this.site+"&dtype=tvshowPlayUrl&e=1&service=json&site="},fetchData:function(t,e){var i=this;$.ajax({url:i.getAPI()+(e?e:""),dataType:"JSONP",success:function(a){i.flag?($.cache.play_site_new[e].data=a[0].episodes,t.call(i,{episode:a[0].episodes[0].episode,url:a[0].episodes[0].url,title:a[0].episodes[0].single_title,logo:a[0].site_info.big_logo,site:a[0].site_info.site})):($.cache.play_site_new=i.formatData(a),i.bindEvent(),i.flag=!0,i.hasTimeline&&(i.sale&&!$("html").hasClass("hao123")?i.fetchData(i.layout,i.sale):t.call(i,{episode:a[0].episodes[0].episode,url:a[0].episodes[0].url,title:a[0].episodes[0].single_title,logo:a[0].site_info.big_logo,site:a[0].site_info.site})))}})},formatData:function(t){var e={};return $.each(t,function(t,i){e[i.site_info.site]={big_logo:i.site_info.big_logo,logo:i.site_info.logo,name:i.site_info.name,data:i.episodes}}),e},layout:function(t){var e=this;e.episodeNum.hide().html(t.episode+"期").fadeIn("fast").parent().attr({href:t.url}),e.episodeTitle.hide().html(t.title).attr({href:t.url+"&page=tamasha_detail_hao123&frp=v.hao123.com%2Fzongyi_intro%2F",title:t.title}).fadeIn("fast"),e.playBtn.attr({href:t.url+"&page=tamasha_detail_hao123&frp=v.hao123.com%2Fzongyi_intro%2F"});var i=t.site||t.site_url;e.siteLogo.hide().attr({src:"http://vs3.bdstatic.com/logo/big/"+i.split(".")[0]+".png"}).fadeIn("fast")},bindEvent:function(){var t=this;$(".site-select-layout").hover(function(){"1"!==$(this).data.flag&&(t.loadSites(),$(this).data.flag="1"),$(this).find(".site-play-layout").css({display:"block"})},function(){$(this).find(".site-play-layout").css({display:"none"})})},virtualClick:function(t,e){this.episodeModule.dataCollection.load({site:t,year:e});var i=$(".episode-years-list").find("[data-year="+e+"]");i.addClass("j-isload").trigger("click").removeClass("j-isload");var a=$(".episode-site-wrap").find('[data-site="'+t+'"]');a.addClass("j-isload").trigger("click").removeClass("j-isload")},loadSites:function(){var t=this,e="",i=$.cache.play_site_new_fr_ep||$.cache.play_site_new,s=a.template('<li class="site-item js_items_tips" data-episode="<%= episode%>" data-site="<%= site%>" data-toggle="tooltip" title="<%= tip%>"> <i class="icon"><img src="<%= logo%>"></i><%= title%></li>');$.each(i,function(t,i){e+=s({episode:i.episode,site:t,logo:i.big_logo,title:i.name,tip:"更新至"+i.episode+"期"})}),$(".j_play_sites").html(e),t.hasTimeline||$(".j_play_sites").find("[data-toggle=tooltip]").tooltip({placement:"right"}),$(".site-item").on("click",function(){var e=$(this).data("site"),a=String($(this).data("episode")).substr(0,4);if(t.hasTimeline)if(i[e].data){var s=i[e];t.layout({episode:s.data[0].episode,title:s.data[0].single_title,url:s.data[0].url,logo:s.big_logo,site:e})}else t.fetchData(t.layout,e);else t.virtualClick.call(t,e,a);$(".site-play-layout").css({display:"none"})})}};i.exports=function(t,e,i,a,l,n){"hot"===e?o.init(t,i,a,l,n):s()}});
;define("detail:widget/nav/nav.js",function(o,t,e){o("common:static/vendor/bootstrap/js/scrollspy.js");var n=o("common:static/ui/scrolling/scrolling.js"),i=function(){var o=$(window),t=$(".intro-wrap"),e=$(".j-nav-wrap").show(),i=t.offset().top+t.outerHeight()+30,r=function(){var t=o.scrollTop();e.css("top",Math.max(i,t))};n(r),r();var a=$("body");a.scrollspy({target:".j-nav-wrap"}),o.on("resize.sp",function(){a.scrollspy("refresh")}).trigger("resize.sp"),e.on("click","a",function(o){o.preventDefault();var t=$(o.currentTarget),e=$(t.attr("href")),n=e.offset().top;$("html, body").animate({scrollTop:n},200)})},r=function(){var t=(o("common:static/ui/eventcenter/eventcenter.js"),$(window)),e=$(["#movie-kandian","#movie-top","#movie-rank","#movie-ugc","#movie-coming","#mixcut","#movie-videos","#piaoTabCont","#movie-staff","#movie-hot","#scenarioBlock","#comment","#block-vguests","#modNews","#modMap","#block-vcompetition"].join(", ")),i=[];e.on("loadcomplete.lazy",function(){i.push($(this).attr("id")),i.length>=e.length&&(e.off("loadcomplete.lazy"),n.remove(window,r))});var r=function(){var o=t.height()+t.scrollTop();e.each(function(n){var i=e.eq(n);o>=i.offset().top&&(i.trigger("showdata.lazy"),setTimeout(function(){t.trigger("resize.sp")},50))})};n(r),r()};e.exports=function(){i(),$(function(){r()})}});
;define("detail:widget/share/share.js",function(e,a,o){function s(){var e,a=$("#asideShareLayer"),o=$("#bdshare .bds_external"),s=$(".j-share"),i=function(){o.addClass("hide")};s.on("mouseover",function(){clearTimeout(e),o.removeClass("hide")}),a.on("mouseleave",function(){clearTimeout(e),e=setTimeout(i,100)})}o.exports=s});