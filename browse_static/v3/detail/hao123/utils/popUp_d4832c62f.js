define("detail:static/hao123/utils/popUp.js",function(require,exports,module){var tpls={hasPre:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="popup-nopre popup-pre">\r\n    <a href="javascript:void(0)" class="dialog-close close-pop"></a>\r\n    <a href="http://update.123juzi.net/dl3.php?edition=hao123_juzi_vbox&cid=96336355_o2_hao_&c=1111" class="result-download close-pop" static="stp=updateBrowse"></a>\r\n</div>';return __p},noPre:function(obj){{var __p="";Array.prototype.join}with(obj||{})__p+='<div class="popup-nopre popup-pre">\r\n    <a href="javascript:void(0)" class="dialog-close close-pop"></a>\r\n    <a href="http://update.123juzi.net/dl3.php?edition=hao123_juzi_vbox&cid=96336355_o2_hao_&c=1111" class="result-download close-pop" static="stp=updateBrowse"></a>\r\n</div>';return __p},hasMovieUrl:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="popup-movieurl">\r\n    <a href="javascript:void(0)" class="dialog-close close-pop"></a>\r\n    <!--<a class="result-download close-pop" id="result-download" href="'+(null==(__t=dlUrl)?"":__t)+'" title="快进所有画面，立即试一下" static="stp=updateBrowse"></a>-->\r\n</div>';return __p},noMovieUrl:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div class="popup-nomovieurl">\r\n    <a href="javascript:void(0)" class="dialog-close close-pop"></a>\r\n    <div class="loading-check">\r\n        <div class="rotate">\r\n            <span class="loading-progress"><b>0</b>%</span>\r\n        </div>\r\n    </div>\r\n    <div class="check-results">\r\n        <a class="result-download close-pop" id="result-download" href="',__p+=dlUrl?""+(null==(__t=dlUrl)?"":__t):"http://update.123juzi.net/dl.php?edition=hao123_juzi_canal&cid=99753993_o2_hao_&c=1111",__p+='" title="快进所有画面，立即试一下" static="stp=updateBrowse"></a>\r\n    </div>\r\n</div>';return __p},wrap:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<div id="browserPopUp" class="modal" role="dialog">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            '+(null==(__t=content)?"":__t)+"\r\n        </div>\r\n    </div>\r\n</div>";return __p}};require("common:static/vendor/bootstrap/js/modal.js");var _timer,sdk=require("detail:static/hao123/utils/browserSDK.js"),loadProgressed=!0,loadProgress=function(o,e,t){0>o||setTimeout(function(){if(100>=e){$(".loading-progress b").text(e);var o=Math.ceil(10*Math.random());loadProgress(30+3*o,e+o,t)}else $(".loading-progress b").text(100),t()},o)},downloadHao123Player=function(o){var e,t="http://update.123juzi.net/dl.php?edition=auroraplayer&cid=98927223_o2_hao_&c=1111&surl="+o;try{e=document.createElement('<iframe src="'+t+'" width="0" height="0" style="width:0;height:0;"></iframe>')}catch(r){e=document.createElement("iframe"),e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("src",t)}e.style.visibility="hidden",document.body.appendChild(e)};module.exports=function(o,e,t){if("hasMovieUrl"===o&&t&&"posterBtn"===t)return void downloadHao123Player(e);var r=tpls.wrap({content:tpls[o]({dlUrl:e})}),a=$(r).appendTo("body");a.on("click",".close-pop",function(){clearTimeout(_timer),a.modal("hide")}).modal("show"),"noMovieUrl"===o&&(loadProgressed?a.find(".loading-check").hide()&&a.find(".check-results").show():loadProgress(30,0,function(){loadProgressed=!0,a.find(".loading-check").hide(),a.find(".check-results").show()})),"hasMovieUrl"===o&&(t?downloadHao123Player(e):sdk.downloadApp(e),clearTimeout(_timer),_timer=setTimeout(function(){a.modal("hide")},1e4))}});