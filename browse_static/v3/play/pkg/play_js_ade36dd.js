define("play:static/ui/episodes.js",function(i,s,e){var t=i("common:static/ui/oo/klass.js"),o=t._,n=t.Klass.create({init:function(i){this.episodes=$.isArray(i.episodes)?i.episodes:i.episodes||[],this.opt=i,this.episodes.length?this.initEpisodes():this.getEpisode(this.opt.params,this.proxy(this.initEpisodes))},dispose:function(){this.off()},initEpisodes:function(){var i=this;setTimeout(function(){i.trigger("inited")},100)},videoApiMap:{tvshow:"/show_intro/?dtype=tvshowPlayUrl&e=1&service=json",tv:"/tv_intro/?dtype=tvPlayUrl&e=1&service=json",comic:"/comic_intro/?dtype=comicPlayUrl&e=1&service=json",mv:"/movie_intro/?dtype=basic&service=json"},getVideoApi:function(i){var s=o.pairs(o.pick(i,"site","id","year","frp"));return s.push(["callback","?"]),s=o.map(s,function(i){return i.join("=")}),"http://v.baidu.com"+this.videoApiMap[i.type]+(s.length?"&"+s.join("&"):"")},fetchData:function(i,s){$.getJSON(this.getVideoApi(i),s)},getEpisode:function(i,s){var e=this.episodes[$.param(i)],t=this;e&&e.episodes&&e.episodes.length?s(e.episodes):this.fetchData(i,function(e){if(e&&e.length)var o=t.episodes[$.param(i)]=e[0];s(o)})}});e.exports=n});
;define("play:static/ui/flashChecker.js",function(){function a(){var a,e=0,t=0,n=navigator.userAgent.indexOf("MSIE")>=0?1:0;if(n)try{var i;a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a&&(e=1,i=a.GetVariable("$version"),t=window.parseInt(i.split(" ")[1].split(",")[0]))}catch(r){e=0,t=0}else if(navigator.plugins&&navigator.plugins.length>0&&(a=navigator.plugins["Shockwave Flash"])){e=1;for(var s=a.description.split(" "),o=0;o<s.length;++o)isNaN(window.parseInt(s[o]))||(t=window.parseInt(s[o]))}return{f:e,v:t}}function a(){var a=!1;try{a=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){try{a="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}catch(e){try{a=Boolean(navigator.plugins["Shockwave Flash"])}catch(e){}}}return a}var e=function(){return/BIDUPlayer/gi.test(window.navigator.userAgent)},t=a();t||e()||$("#content .player-section").after('<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link">点此下载最新版本</a></div>')});
;define("play:static/ui/heartbeat.js",function(n,i){function t(n){var i=n.tn,t=n.log,o=1e3,u=0,a="u";n.isDuba&&(a="v");var c={playlong:function(n){return 60===n||120===n||180===n||n%300===0},baiduYingshi_hao123:function(n){return 10===n||20===n||30===n||n%60===0},kanShort:function(n){return 10===n||20===n||30===n||n%60===0},baiduYingshi:function(n){return 10===n||20===n||30===n||n%60===0},kanShort_hao123:function(n){return 10===n||20===n||30===n||n%60===0},kanShort_duba:function(n){return 10===n||20===n||30===n||n%60===0},watchdetail:function(n){return 10===n||20===n||30===n||n%60===0}};setInterval(function(){u++,c[i].call(null,u)&&(-1!==i.indexOf("playlong")?$.log("http://pc.videoclick.baidu.com/"+a+".gif?pid=104&"+encodeURI(t)+"&i="+u/60):-1!==i.indexOf("kanShort")&&$.log("http://pc.videoclick.baidu.com/"+a+".gif?pid=104&"+encodeURI(t)+"&s10="+u/10))},o)}i.init=t});
;define("play:static/ui/jquery.mousewheel.js",function(e,t,i){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof t?i.exports=e:e(jQuery)}(function(e){function t(t){var s=t||window.event,a=h.call(arguments,1),u=0,f=0,d=0,c=0,m=0,g=0;if(t=e.event.fix(s),t.type="mousewheel","detail"in s&&(d=-1*s.detail),"wheelDelta"in s&&(d=s.wheelDelta),"wheelDeltaY"in s&&(d=s.wheelDeltaY),"wheelDeltaX"in s&&(f=-1*s.wheelDeltaX),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(f=-1*d,d=0),u=0===d?f:d,"deltaY"in s&&(d=-1*s.deltaY,u=d),"deltaX"in s&&(f=s.deltaX,0===d&&(u=-1*f)),0!==d||0!==f){if(1===s.deltaMode){var w=e.data(this,"mousewheel-line-height");u*=w,d*=w,f*=w}else if(2===s.deltaMode){var v=e.data(this,"mousewheel-page-height");u*=v,d*=v,f*=v}if(c=Math.max(Math.abs(d),Math.abs(f)),(!l||l>c)&&(l=c,n(s,c)&&(l/=40)),n(s,c)&&(u/=40,f/=40,d/=40),u=Math[u>=1?"floor":"ceil"](u/l),f=Math[f>=1?"floor":"ceil"](f/l),d=Math[d>=1?"floor":"ceil"](d/l),r.settings.normalizeOffset&&this.getBoundingClientRect){var p=this.getBoundingClientRect();m=t.clientX-p.left,g=t.clientY-p.top}return t.deltaX=f,t.deltaY=d,t.deltaFactor=l,t.offsetX=m,t.offsetY=g,t.deltaMode=0,a.unshift(t,u,f,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){l=null}function n(e,t){return r.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,l,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(e.event.fixHooks)for(var u=s.length;u;)e.event.fixHooks[s[--u]]=e.event.mouseHooks;var r=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",r.getLineHeight(this)),e.data(this,"mousewheel-page-height",r.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})});
;define("play:static/ui/jquery.qrcode.js",function(r,t,e){!function(r){"use strict";function t(t,e,n,o){function i(r,t){return r-=o,t-=o,0>r||r>=c||0>t||t>=c?!1:f.isDark(r,t)}function a(r,t,e,n){var o=u.isDark,i=1/l;u.isDark=function(a,u){var f=u*i,c=a*i,l=f+i,g=c+i;return o(a,u)&&(r>l||f>e||t>g||c>n)}}var u={},f=r(n,e);f.addData(t),f.make(),o=o||0;var c=f.getModuleCount(),l=f.getModuleCount()+2*o;return u.text=t,u.level=e,u.version=n,u.moduleCount=l,u.isDark=i,u.addBlank=a,u}function e(r,e,n,o,i){n=Math.max(1,n||1),o=Math.min(40,o||40);for(var a=n;o>=a;a+=1)try{return t(r,e,a,i)}catch(u){}return void 0}function n(r,t,e){var n=e.size,o="bold "+e.mSize*n+"px "+e.fontname,i=w("<canvas/>")[0].getContext("2d");i.font=o;var a=i.measureText(e.label).width,u=e.mSize,f=a/n,c=(1-f)*e.mPosX,l=(1-u)*e.mPosY,g=c+f,s=l+u,v=.01;1===e.mode?r.addBlank(0,l-v,n,s+v):r.addBlank(c-v,l-v,g+v,s+v),t.fillStyle=e.fontcolor,t.font=o,t.fillText(e.label,c*n,l*n+.75*e.mSize*n)}function o(r,t,e){var n=e.size,o=e.image.naturalWidth||1,i=e.image.naturalHeight||1,a=e.mSize,u=a*o/i,f=(1-u)*e.mPosX,c=(1-a)*e.mPosY,l=f+u,g=c+a,s=.01;3===e.mode?r.addBlank(0,c-s,n,g+s):r.addBlank(f-s,c-s,l+s,g+s),t.drawImage(e.image,f*n,c*n,u*n,a*n)}function i(r,t,e){w(e.background).is("img")?t.drawImage(e.background,0,0,e.size,e.size):e.background&&(t.fillStyle=e.background,t.fillRect(e.left,e.top,e.size,e.size));var i=e.mode;1===i||2===i?n(r,t,e):(3===i||4===i)&&o(r,t,e)}function a(r,t,e,n,o,i,a,u){r.isDark(a,u)&&t.rect(n,o,i,i)}function u(r,t,e,n,o,i,a,u,f,c){a?r.moveTo(t+i,e):r.moveTo(t,e),u?(r.lineTo(n-i,e),r.arcTo(n,e,n,o,i)):r.lineTo(n,e),f?(r.lineTo(n,o-i),r.arcTo(n,o,t,o,i)):r.lineTo(n,o),c?(r.lineTo(t+i,o),r.arcTo(t,o,t,e,i)):r.lineTo(t,o),a?(r.lineTo(t,e+i),r.arcTo(t,e,n,e,i)):r.lineTo(t,e)}function f(r,t,e,n,o,i,a,u,f,c){a&&(r.moveTo(t+i,e),r.lineTo(t,e),r.lineTo(t,e+i),r.arcTo(t,e,t+i,e,i)),u&&(r.moveTo(n-i,e),r.lineTo(n,e),r.lineTo(n,e+i),r.arcTo(n,e,n-i,e,i)),f&&(r.moveTo(n-i,o),r.lineTo(n,o),r.lineTo(n,o-i),r.arcTo(n,o,n-i,o,i)),c&&(r.moveTo(t+i,o),r.lineTo(t,o),r.lineTo(t,o-i),r.arcTo(t,o,t+i,o,i))}function c(r,t,e,n,o,i,a,c){var l=r.isDark,g=n+i,s=o+i,v=e.radius*i,h=a-1,d=a+1,w=c-1,m=c+1,y=l(a,c),T=l(h,w),p=l(h,c),B=l(h,m),A=l(a,m),E=l(d,m),k=l(d,c),M=l(d,w),C=l(a,w);y?u(t,n,o,g,s,v,!p&&!C,!p&&!A,!k&&!A,!k&&!C):f(t,n,o,g,s,v,p&&C&&T,p&&A&&B,k&&A&&E,k&&C&&M)}function l(r,t,e){var n,o,i=r.moduleCount,u=e.size/i,f=a;for(e.radius>0&&e.radius<=.5&&(f=c),t.beginPath(),n=0;i>n;n+=1)for(o=0;i>o;o+=1){var l=e.left+o*u,g=e.top+n*u,s=u;f(r,t,e,l,g,s,n,o)}if(w(e.fill).is("img")){t.strokeStyle="rgba(0,0,0,0.5)",t.lineWidth=2,t.stroke();var v=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",t.fill(),t.globalCompositeOperation=v,t.clip(),t.drawImage(e.fill,0,0,e.size,e.size),t.restore()}else t.fillStyle=e.fill,t.fill()}function g(r,t){var n=e(t.text,t.ecLevel,t.minVersion,t.maxVersion,t.quiet);if(!n)return null;var o=w(r).data("qrcode",n),a=o[0].getContext("2d");return i(n,a,t),l(n,a,t),o}function s(r){var t=w("<canvas/>").attr("width",r.size).attr("height",r.size);return g(t,r)}function v(r){return w("<img/>").attr("src",s(r)[0].toDataURL("image/png"))}function h(r){var t=e(r.text,r.ecLevel,r.minVersion,r.maxVersion,r.quiet);if(!t)return null;var n,o,i=r.size,a=r.background,u=Math.floor,f=t.moduleCount,c=u(i/f),l=u(.5*(i-c*f)),g={position:"relative",left:0,top:0,padding:0,margin:0,width:i,height:i},s={position:"absolute",padding:0,margin:0,width:c,height:c,"background-color":r.fill},v=w("<div/>").data("qrcode",t).css(g);for(a&&v.css("background-color",a),n=0;f>n;n+=1)for(o=0;f>o;o+=1)t.isDark(n,o)&&w("<div/>").css(s).css({left:l+o*c,top:l+n*c}).appendTo(v);return v}function d(r){return m&&"canvas"===r.render?s(r):m&&"image"===r.render?v(r):h(r)}var w=window.jQuery,m=function(){var r=document.createElement("canvas");return!(!r.getContext||!r.getContext("2d"))}(),y={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:200,fill:"#000",background:null,text:"no text",radius:0,quiet:0,mode:0,mSize:.1,mPosX:.5,mPosY:.5,label:"no label",fontname:"sans",fontcolor:"#000",image:null};w.fn.qrcode=function(r){var t=w.extend({},y,r);return this.each(function(r,e){"canvas"===e.nodeName.toLowerCase()?g(e,t):w(e).append(d(t))})}}(function(){var r=function(){function r(t,e){if("undefined"==typeof t.length)throw new Error(t.length+"/"+e);var n=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),o=0;o<t.length-r;o+=1)n[o]=t[o+r];return n}(),o={};return o.getAt=function(r){return n[r]},o.getLength=function(){return n.length},o.multiply=function(t){for(var e=new Array(o.getLength()+t.getLength()-1),n=0;n<o.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=a.gexp(a.glog(o.getAt(n))+a.glog(t.getAt(i)));return r(e,0)},o.mod=function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=a.glog(o.getAt(0))-a.glog(t.getAt(0)),n=new Array(o.getLength()),i=0;i<o.getLength();i+=1)n[i]=o.getAt(i);for(var i=0;i<t.getLength();i+=1)n[i]^=a.gexp(a.glog(t.getAt(i))+e);return r(n,0).mod(t)},o}var t=function(t,e){var o=236,a=17,l=t,g=n[e],s=null,v=0,d=null,w=new Array,m={},y=function(r,t){v=4*l+17,s=function(r){for(var t=new Array(r),e=0;r>e;e+=1){t[e]=new Array(r);for(var n=0;r>n;n+=1)t[e][n]=null}return t}(v),T(0,0),T(v-7,0),T(0,v-7),A(),B(),k(r,t),l>=7&&E(r),null==d&&(d=D(l,g,w)),M(d,t)},T=function(r,t){for(var e=-1;7>=e;e+=1)if(!(-1>=r+e||r+e>=v))for(var n=-1;7>=n;n+=1)-1>=t+n||t+n>=v||(s[r+e][t+n]=e>=0&&6>=e&&(0==n||6==n)||n>=0&&6>=n&&(0==e||6==e)||e>=2&&4>=e&&n>=2&&4>=n?!0:!1)},p=function(){for(var r=0,t=0,e=0;8>e;e+=1){y(!0,e);var n=i.getLostPoint(m);(0==e||r>n)&&(r=n,t=e)}return t},B=function(){for(var r=8;v-8>r;r+=1)null==s[r][6]&&(s[r][6]=r%2==0);for(var t=8;v-8>t;t+=1)null==s[6][t]&&(s[6][t]=t%2==0)},A=function(){for(var r=i.getPatternPosition(l),t=0;t<r.length;t+=1)for(var e=0;e<r.length;e+=1){var n=r[t],o=r[e];if(null==s[n][o])for(var a=-2;2>=a;a+=1)for(var u=-2;2>=u;u+=1)s[n+a][o+u]=-2==a||2==a||-2==u||2==u||0==a&&0==u?!0:!1}},E=function(r){for(var t=i.getBCHTypeNumber(l),e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);s[Math.floor(e/3)][e%3+v-8-3]=n}for(var e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);s[e%3+v-8-3][Math.floor(e/3)]=n}},k=function(r,t){for(var e=g<<3|t,n=i.getBCHTypeInfo(e),o=0;15>o;o+=1){var a=!r&&1==(n>>o&1);6>o?s[o][8]=a:8>o?s[o+1][8]=a:s[v-15+o][8]=a}for(var o=0;15>o;o+=1){var a=!r&&1==(n>>o&1);8>o?s[8][v-o-1]=a:9>o?s[8][15-o-1+1]=a:s[8][15-o-1]=a}s[v-8][8]=!r},M=function(r,t){for(var e=-1,n=v-1,o=7,a=0,u=i.getMaskFunction(t),f=v-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var c=0;2>c;c+=1)if(null==s[n][f-c]){var l=!1;a<r.length&&(l=1==(r[a]>>>o&1));var g=u(n,f-c);g&&(l=!l),s[n][f-c]=l,o-=1,-1==o&&(a+=1,o=7)}if(n+=e,0>n||n>=v){n-=e,e=-e;break}}},C=function(t,e){for(var n=0,o=0,a=0,u=new Array(e.length),f=new Array(e.length),c=0;c<e.length;c+=1){var l=e[c].dataCount,g=e[c].totalCount-l;o=Math.max(o,l),a=Math.max(a,g),u[c]=new Array(l);for(var s=0;s<u[c].length;s+=1)u[c][s]=255&t.getBuffer()[s+n];n+=l;var v=i.getErrorCorrectPolynomial(g),h=r(u[c],v.getLength()-1),d=h.mod(v);f[c]=new Array(v.getLength()-1);for(var s=0;s<f[c].length;s+=1){var w=s+d.getLength()-f[c].length;f[c][s]=w>=0?d.getAt(w):0}}for(var m=0,s=0;s<e.length;s+=1)m+=e[s].totalCount;for(var y=new Array(m),T=0,s=0;o>s;s+=1)for(var c=0;c<e.length;c+=1)s<u[c].length&&(y[T]=u[c][s],T+=1);for(var s=0;a>s;s+=1)for(var c=0;c<e.length;c+=1)s<f[c].length&&(y[T]=f[c][s],T+=1);return y},D=function(r,t,e){for(var n=u.getRSBlocks(r,t),c=f(),l=0;l<e.length;l+=1){var g=e[l];c.put(g.getMode(),4),c.put(g.getLength(),i.getLengthInBits(g.getMode(),r)),g.write(c)}for(var s=0,l=0;l<n.length;l+=1)s+=n[l].dataCount;if(c.getLengthInBits()>8*s)throw new Error("code length overflow. ("+c.getLengthInBits()+">"+8*s+")");for(c.getLengthInBits()+4<=8*s&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;;){if(c.getLengthInBits()>=8*s)break;if(c.put(o,8),c.getLengthInBits()>=8*s)break;c.put(a,8)}return C(c,n)};return m.addData=function(r){var t=c(r);w.push(t),d=null},m.isDark=function(r,t){if(0>r||r>=v||0>t||t>=v)throw new Error(r+","+t);return s[r][t]},m.getModuleCount=function(){return v},m.make=function(){y(!1,p())},m.createTableTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e="";e+='<table style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: "+t+"px;",e+='">',e+="<tbody>";for(var n=0;n<m.getModuleCount();n+=1){e+="<tr>";for(var o=0;o<m.getModuleCount();o+=1)e+='<td style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: 0px;",e+=" width: "+r+"px;",e+=" height: "+r+"px;",e+=" background-color: ",e+=m.isDark(n,o)?"#000000":"#ffffff",e+=";",e+='"/>';e+="</tr>"}return e+="</tbody>",e+="</table>"},m.createImgTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e=m.getModuleCount()*r+2*t,n=t,o=e-t;return h(e,e,function(t,e){if(t>=n&&o>t&&e>=n&&o>e){var i=Math.floor((t-n)/r),a=Math.floor((e-n)/r);return m.isDark(a,i)?0:1}return 1})},m};t.stringToBytes=function(r){for(var t=new Array,e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t.push(255&n)}return t},t.createStringToBytes=function(r,t){var e=function(){for(var e=s(r),n=function(){var r=e.read();if(-1==r)throw new Error;return r},o=0,i={};;){var a=e.read();if(-1==a)break;var u=n(),f=n(),c=n(),l=String.fromCharCode(a<<8|u),g=f<<8|c;i[l]=g,o+=1}if(o!=t)throw new Error(o+" != "+t);return i}(),n="?".charCodeAt(0);return function(r){for(var t=new Array,o=0;o<r.length;o+=1){var i=r.charCodeAt(o);if(128>i)t.push(i);else{var a=e[r.charAt(o)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(n)}}return t}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,i=7973,u=21522,f={},c=function(r){for(var t=0;0!=r;)t+=1,r>>>=1;return t};return f.getBCHTypeInfo=function(r){for(var t=r<<10;c(t)-c(n)>=0;)t^=n<<c(t)-c(n);return(r<<10|t)^u},f.getBCHTypeNumber=function(r){for(var t=r<<12;c(t)-c(i)>=0;)t^=i<<c(t)-c(i);return r<<12|t},f.getPatternPosition=function(r){return t[r-1]},f.getMaskFunction=function(r){switch(r){case o.PATTERN000:return function(r,t){return(r+t)%2==0};case o.PATTERN001:return function(r){return r%2==0};case o.PATTERN010:return function(r,t){return t%3==0};case o.PATTERN011:return function(r,t){return(r+t)%3==0};case o.PATTERN100:return function(r,t){return(Math.floor(r/2)+Math.floor(t/3))%2==0};case o.PATTERN101:return function(r,t){return r*t%2+r*t%3==0};case o.PATTERN110:return function(r,t){return(r*t%2+r*t%3)%2==0};case o.PATTERN111:return function(r,t){return(r*t%3+(r+t)%2)%2==0};default:throw new Error("bad maskPattern:"+r)}},f.getErrorCorrectPolynomial=function(t){for(var e=r([1],0),n=0;t>n;n+=1)e=e.multiply(r([1,a.gexp(n)],0));return e},f.getLengthInBits=function(r,t){if(t>=1&&10>t)switch(r){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(27>t)switch(r){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(41>t))throw new Error("type:"+t);switch(r){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},f.getLostPoint=function(r){for(var t=r.getModuleCount(),e=0,n=0;t>n;n+=1)for(var o=0;t>o;o+=1){for(var i=0,a=r.isDark(n,o),u=-1;1>=u;u+=1)if(!(0>n+u||n+u>=t))for(var f=-1;1>=f;f+=1)0>o+f||o+f>=t||(0!=u||0!=f)&&a==r.isDark(n+u,o+f)&&(i+=1);i>5&&(e+=3+i-5)}for(var n=0;t-1>n;n+=1)for(var o=0;t-1>o;o+=1){var c=0;r.isDark(n,o)&&(c+=1),r.isDark(n+1,o)&&(c+=1),r.isDark(n,o+1)&&(c+=1),r.isDark(n+1,o+1)&&(c+=1),(0==c||4==c)&&(e+=3)}for(var n=0;t>n;n+=1)for(var o=0;t-6>o;o+=1)r.isDark(n,o)&&!r.isDark(n,o+1)&&r.isDark(n,o+2)&&r.isDark(n,o+3)&&r.isDark(n,o+4)&&!r.isDark(n,o+5)&&r.isDark(n,o+6)&&(e+=40);for(var o=0;t>o;o+=1)for(var n=0;t-6>n;n+=1)r.isDark(n,o)&&!r.isDark(n+1,o)&&r.isDark(n+2,o)&&r.isDark(n+3,o)&&r.isDark(n+4,o)&&!r.isDark(n+5,o)&&r.isDark(n+6,o)&&(e+=40);for(var l=0,o=0;t>o;o+=1)for(var n=0;t>n;n+=1)r.isDark(n,o)&&(l+=1);var g=Math.abs(100*l/t/t-50)/5;return e+=10*g},f}(),a=function(){for(var r=new Array(256),t=new Array(256),e=0;8>e;e+=1)r[e]=1<<e;for(var e=8;256>e;e+=1)r[e]=r[e-4]^r[e-5]^r[e-6]^r[e-8];for(var e=0;255>e;e+=1)t[r[e]]=e;var n={};return n.glog=function(r){if(1>r)throw new Error("glog("+r+")");return t[r]},n.gexp=function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return r[t]},n}(),u=function(){var r=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(r,t){var e={};return e.totalCount=r,e.dataCount=t,e},e={},o=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return void 0}};return e.getRSBlocks=function(r,e){var n=o(r,e);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var i=n.length/3,a=new Array,u=0;i>u;u+=1)for(var f=n[3*u+0],c=n[3*u+1],l=n[3*u+2],g=0;f>g;g+=1)a.push(t(c,l));return a},e}(),f=function(){var r=new Array,t=0,e={};return e.getBuffer=function(){return r},e.getAt=function(t){var e=Math.floor(t/8);return 1==(r[e]>>>7-t%8&1)},e.put=function(r,t){for(var n=0;t>n;n+=1)e.putBit(1==(r>>>t-n-1&1))},e.getLengthInBits=function(){return t},e.putBit=function(e){var n=Math.floor(t/8);r.length<=n&&r.push(0),e&&(r[n]|=128>>>t%8),t+=1},e},c=function(r){var n=e.MODE_8BIT_BYTE,o=t.stringToBytes(r),i={};return i.getMode=function(){return n},i.getLength=function(){return o.length},i.write=function(r){for(var t=0;t<o.length;t+=1)r.put(o[t],8)},i},l=function(){var r=new Array,t={};return t.writeByte=function(t){r.push(255&t)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,e,n){e=e||0,n=n||r.length;for(var o=0;n>o;o+=1)t.writeByte(r[o+e])},t.writeString=function(r){for(var e=0;e<r.length;e+=1)t.writeByte(r.charCodeAt(e))},t.toByteArray=function(){return r},t.toString=function(){var t="";t+="[";for(var e=0;e<r.length;e+=1)e>0&&(t+=","),t+=r[e];return t+="]"},t},g=function(){var r=0,t=0,e=0,n="",o={},i=function(r){n+=String.fromCharCode(a(63&r))},a=function(r){if(0>r);else{if(26>r)return 65+r;if(52>r)return 97+(r-26);if(62>r)return 48+(r-52);if(62==r)return 43;if(63==r)return 47}throw new Error("n:"+r)};return o.writeByte=function(n){for(r=r<<8|255&n,t+=8,e+=1;t>=6;)i(r>>>t-6),t-=6},o.flush=function(){if(t>0&&(i(r<<6-t),r=0,t=0),e%3!=0)for(var o=3-e%3,a=0;o>a;a+=1)n+="="},o.toString=function(){return n},o},s=function(r){var t=r,e=0,n=0,o=0,i={};i.read=function(){for(;8>o;){if(e>=t.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var r=t.charAt(e);if(e+=1,"="==r)return o=0,-1;r.match(/^\s$/)||(n=n<<6|a(r.charCodeAt(0)),o+=6)}var i=n>>>o-8&255;return o-=8,i};var a=function(r){if(r>=65&&90>=r)return r-65;if(r>=97&&122>=r)return r-97+26;if(r>=48&&57>=r)return r-48+52;if(43==r)return 62;if(47==r)return 63;throw new Error("c:"+r)};return i},v=function(r,t){var e=r,n=t,o=new Array(r*t),i={};i.setPixel=function(r,t,n){o[t*e+r]=n},i.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(n),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(n),r.writeByte(0);var t=2,o=u(t);r.writeByte(t);for(var i=0;o.length-i>255;)r.writeByte(255),r.writeBytes(o,i,255),i+=255;r.writeByte(o.length-i),r.writeBytes(o,i,o.length-i),r.writeByte(0),r.writeString(";")};var a=function(r){var t=r,e=0,n=0,o={};return o.write=function(r,o){if(r>>>o!=0)throw new Error("length over");for(;e+o>=8;)t.writeByte(255&(r<<e|n)),o-=8-e,r>>>=8-e,n=0,e=0;n=r<<e|n,e+=o},o.flush=function(){e>0&&t.writeByte(n)},o},u=function(r){for(var t=1<<r,e=(1<<r)+1,n=r+1,i=f(),u=0;t>u;u+=1)i.add(String.fromCharCode(u));i.add(String.fromCharCode(t)),i.add(String.fromCharCode(e));var c=l(),g=a(c);g.write(t,n);var s=0,v=String.fromCharCode(o[s]);for(s+=1;s<o.length;){var h=String.fromCharCode(o[s]);s+=1,i.contains(v+h)?v+=h:(g.write(i.indexOf(v),n),i.size()<4095&&(i.size()==1<<n&&(n+=1),i.add(v+h)),v=h)}return g.write(i.indexOf(v),n),g.write(e,n),g.flush(),c.toByteArray()},f=function(){var r={},t=0,e={};return e.add=function(n){if(e.contains(n))throw new Error("dup key:"+n);r[n]=t,t+=1},e.size=function(){return t},e.indexOf=function(t){return r[t]},e.contains=function(t){return"undefined"!=typeof r[t]},e};return i},h=function(r,t,e,n){for(var o=v(r,t),i=0;t>i;i+=1)for(var a=0;r>a;a+=1)o.setPixel(a,i,e(a,i));var u=l();o.write(u);for(var f=g(),c=u.toByteArray(),s=0;s<c.length;s+=1)f.writeByte(c[s]);f.flush();var h="";return h+="<img",h+=' src="',h+="data:image/gif;base64,",h+=f,h+='"',h+=' width="',h+=r,h+='"',h+=' height="',h+=t,h+='"',n&&(h+=' alt="',h+=n,h+='"'),h+="/>"};return t}();return function(r){"function"==typeof define&&define.amd?define([],r):"object"==typeof t&&(e.exports=r())}(function(){return r}),!function(r){r.stringToBytes=function(r){function t(r){for(var t=[],e=0;e<r.length;e++){var n=r.charCodeAt(e);128>n?t.push(n):2048>n?t.push(192|n>>6,128|63&n):55296>n||n>=57344?t.push(224|n>>12,128|n>>6&63,128|63&n):(e++,n=65536+((1023&n)<<10|1023&r.charCodeAt(e)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}return t(r)}}(r),r}())});
;define("play:static/ui/responsive.js",function(e,n,s){var r=e("common:static/ui/eventcenter/eventcenter.js");n=s.exports=function(e){$(function(){function n(){if(l[e]){var n=document.documentElement.clientWidth-$("#sidebar").width(),s=l[e];t.removeClass(o),("le"==e||"mgtv"==e)&&$(".player-frame-content-front").css({transform:"translateX(0px)"}),s["screen-s"]&&n<s["screen-s"]?(t.addClass("screen-s"),"le"==e&&$(".player-frame-content-front").css({transform:"translateX("+Math.round((980-n)/2)+"px)"}),"mgtv"==e&&document.documentElement.clientWidth<s["screen-s"]&&$(".player-frame-content-front").css({transform:"translateX("+Math.round((1198-document.documentElement.clientWidth)/2)+"px)"}),r.trigger("window:resize",{size:n,type:"screen-s"}),i.trigger("window:resize",{size:n,type:"screen-s"})):s["screen-m"]&&n<s["screen-m"]?(t.addClass("screen-m"),r.trigger("window:resize",{size:n,type:"screen-m"}),i.trigger("window:resize",{size:n,type:"screen-m"})):s["screen-l"]&&n<s["screen-l"]||!s["screen-l"]?(t.addClass("screen-l"),r.trigger("window:resize",{size:n,type:"screen-l"}),i.trigger("window:resize",{size:n,type:"screen-l"})):s["screen-l"]&&n>s["screen-l"]&&(t.addClass("screen-xl"),r.trigger("window:resize",{size:n,type:"screen-xl"}),i.trigger("window:resize",{size:n,type:"screen-xl"}))}}function s(){$("#sideControl").on("click",function(e){e.preventDefault(),$("#wrapper").toggleClass("side-close"),i.trigger("resize")})}var t=$("body"),c=null,i=$(window),o=["screen-s","screen-m","screen-l","screen-xl"].join(" "),l={pptv:{"screen-s":1213,"screen-m":1397},mgtv:{"screen-s":1220,"screen-m":1520,"screen-l":1740},le:{"screen-s":980,"screen-m":1024,"screen-l":1280,"screen-xl":1440}};i.resize(function(){clearTimeout(c),c=setTimeout(n,50)}),n(),s()})}});
;define("play:static/ui/scrollPanel/scrollPanel.js",function(t){function o(t,o){this.element=$(t),this.content=this.element.find(".content-panel").eq(0),this.option=o||{},this.render(),this.initEvent()}function e(t){var e=arguments;return this.each(function(){var n=$(this),s=n.data("bdvd.scrollPanel");$.isString(e[0])&&s[e[0]]&&s[e[0]].apply(s,Array.prototype.slice.call(e,1)),s||n.data("bdvd.scrollPanel",s=new o(this,t))})}t("play:static/ui/jquery.mousewheel.js")($),o.prototype.render=function(){this.scrollBar=$('<div class="scroll-bar"><span class="holder"></span></div>'),this.scrollBar.appendTo(this.element),this.holder=this.scrollBar.find(".holder").eq(0),this.update(),this.option.scroll&&!isNaN(parseInt(this.option.scroll,10))&&this.scrollTo(this.option.scroll)},o.prototype.update=function(){var t=this;if(this.viewH=this.scrollBar.height(),this.contentH=this.content.outerHeight(),this.contentH>this.viewH){var o=Math.round(this.viewH*this.viewH/this.contentH);this.holderH=50>o?50:o,this.total=this.viewH-this.holderH,this.scrollBar.show(),this.content.width(t.element.width()-this.scrollBar.outerWidth())}else this.holderH=0,this.total=0,this.scrollBar.hide(),this.content.width(t.element.width()),this.scrollTo(0);this.holder.height(this.holderH),this.scrollTo(-t.content[0].offsetTop)},o.prototype.initEvent=function(){var t=this;this.holder.on("mousedown",function(o){o.stopPropagation(),t.startPoint=o.screenY,t.holderPos=t.holder[0].offsetTop,t.startDrag()}),this.holder.on("mouseup",function(){t.stopDrag()}),this.scrollBar.on("mousedown",function(o){var e,n,s=o.offsetY;n=s-t.holderH/2,s<t.holderH/2&&(n=0),s>t.viewH-t.holderH/2&&(n=t.viewH-t.holderH);var e=n*(t.contentH-t.viewH)/t.total;t.content.css({top:-1*e}),t.holder.css({top:n})}),$(document.body).on("mouseup",function(){t.stopDrag()}),this.element.mousewheel(function(o){o.stopPropagation(),o.preventDefault();var e=t.holder[0].offsetTop-o.deltaY*o.deltaFactor;0>e&&(e=0),e>t.total&&(e=t.total);var n=e*(t.contentH-t.viewH)/t.total;t.content.css({top:-1*n}),t.holder.css({top:e})})},o.prototype.startDrag=function(){var t,o,e=this;$(document.body).on("mousemove",function(n){o||setTimeout(function(){t=e.holderPos+n.screenY-e.startPoint,0>t&&(t=0),t>e.total&&(t=e.total),e.holder.css({top:t});var s=t*(e.contentH-e.viewH)/e.total;e.content.css({top:-1*s}),o=null},30)})},o.prototype.stopDrag=function(){$(document.body).off("mousemove")},o.prototype.scrollTo=function(t){var o=this;if(0>t&&(t=0),o.contentH<=o.viewH)return void o.content.css({top:0});o.contentH>o.viewH&&t>o.contentH-o.viewH&&(t=o.contentH-o.viewH);var e=t*o.total/(o.contentH-o.viewH);o.content.addClass("lh-duration"),o.content.css({top:-1*t}),o.holder.css({top:e})},$.fn.scrollPanel=e,$.fn.Constructor=o});
;define("play:static/ui/sitePlayUrl.js",function(n,r,a){function t(n,r,a){return e[n]?e[n].call(this,r,a):r}var e={fengxing:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&startAd=(\d+)/,""),n+="&startAd=0"},ku6:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&adss=(\d+)/,""),n+="&adss=0"},letv:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&ark=(\d+)/,""),n+="&ark=100"},baomihua:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&at=(\d+)/,""),n+="&at=100"},v1:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&showAD=(true|false)/,""),-1===n.indexOf("?")&&(n+="?"),n+="&showAD=false"},boosj:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/&a=(\d+)/,""),-1===n.indexOf("?")&&(n+="?"),n+="&a=0"},yinyuetai:function(){{var n=arguments[0];arguments[1]}return window.com||(window.com={}),window.com.yinyuetai||(window.com.yinyuetai={}),window.com.yinyuetai.amovid=function(){return"5f4ffbc12418024a87"},n},wasu:function(){{var n=arguments[0];arguments[1]}return n=n.replace(/sv\/(\d+)/,"sv/1")},xiaokaxiu:function(){{var n=arguments[0];arguments[1]}return n+="&notifyjs=true"},56:function(){{var n=arguments[0];arguments[1]}return n+="&topBarNor=0"},"default":function(){{var n=arguments[0];arguments[1]}return n}};a.exports=t});
;define("play:static/ui/union_config.js",function(i,t){function e(i){o[i]?o[i].init():(window.SITE_PLAY_COMPLETE_CALLBACK=function(t){t[i]&&(o[i]={init:t[i]},o[i].init(function(){n.trigger("global.playEnd")},$))},$.getScript("http://list.video.baidu.com/sitePlayerConf/playcomplete.js"))}var n=i("common:static/ui/eventcenter/eventcenter.js"),o={};o.ku6={init:function(){window.Player=window._js_PlayerHelper=new this.Player({events:{init:function(){},end:function(){n.trigger("global.playEnd")}}}),window.PlayComplete=function(){n.trigger("global.playEnd")}},Player:function(){this.init.apply(this,arguments)}},o.ku6.Player.prototype={constructor:o.ku6.Player,init:function(i){this.setOptions(i);var t=this,e=t.options;t.container=document.getElementById(e.container),t.swf={object:document.getElementById(e.id)},t.ready||(t.ready=!0),t.setEvent(e.events)},setEvent:function(i){for(var t in i)this.addEvent(t,i[t])},fire:function(i,t,e){var n=this,o=(n.options,"init");switch(i){case"init":case"initPlayerFinished":n.ready=!0,i=o;break;case"playFinished":i="end"}i===o||n.ready||n.fire(o,t,e),this.fireEvent(i)},setOptions:function(i){this.options={container:"playBox",id:"videoPlayer",ready:!1};for(var t in i)this.options[t]=i[t]},addEvent:function(i,t){this.queue||(this.queue={}),this.queue[i]?this.queue[i].push(t):this.queue[i]=[t]},fireEvent:function(i){if(this.queue){var t=this.queue[i];if(t)for(var e=0,n=t.length;n>e;e++)t[e]&&t[e].apply(this,arguments[1]||[])}}},t.init=e});
;define("play:widget/bigBanner/bigBanner.js",function(i,s,t){{var e=i("common:static/vendor/underscore/underscore.js");e.template('<div class="big-banner-promote"><div class="container">    <a class="close" static="bl=btmpro&stp=cl">X</a>        <ul>        <%var total = 0;%>            <%for (var i=0; i<videos.length; i++) { %>                <%if(videos[i].status_day == "1"){ %>                    <li><a  static="bl=btmpro&stp=lk" class="view-box" target="_blank" href="<%=videos[i].url%>"                     title="<%=videos[i].title%>" static="">                        <img class="vid-cover" src="<%=videos[i].imgh_url%>"                        alt="<%=videos[i].title%>">                        <span class="gradient-bg">&nbsp;</span>                        <span class="vid-info"><%=videos[i].title%><p><%=videos[i].s_intro%></p>                        </span>                        <i class="new-icon"></i>                    </a></li>                    <%if(++total>3){ %><%break;%><% }%>                <% }%>            <% }%>        </ul>    </div></div>')}t.exports=function(s){i("common:static/ui/eventcenter/eventcenter.js"),$.cookie.get("__big_banner_status")}});
;define("play:widget/bottomRec/bottomRec.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),_=Base._,tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var o,i=0;o=videos[i];i++)o.url+=urlappend&&o.url&&o.url.indexOf("?")>0?"&"+urlappend:"?"+urlappend,o.is_ad||(__p+='\n    <li class="item ',0==i&&(__p+="first"),__p+='">\n        <a class="thumb" href="'+(null==(__t=o.url)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&to=play" target="_blank">\n            <img src="'+(null==(__t=o.img_url||o.imgh_url)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n            <div class="bottom-mask"></div>\n            <div class="duration">'+(null==(__t=formatSeconds(o.duration))?"":__t)+'</div>\n            <span class="s-play"></span>\n        </a>\n        <div class="info">\n            <div class="title">\n                <a href="'+(null==(__t=o.url)?"":__t)+'" static="stp=lj&to=play" target="_blank" title="'+(null==(__t=o.title)?"":__t)+'">\n                    '+(null==(__t=$.string.widthstr(o.title,12))?"":__t)+"\n                </a>\n            </div>\n            ",o.play_num&&(__p+='\n                <div class="num">'+(null==(__t=formatCount(o.play_num))?"":__t)+"</div>\n            "),__p+="\n        </div>\n    </li>\n");__p+="\n    \n\n"}return __p},lt10=function(t){return t>9?t:"0"+t},formatSeconds=function(t){if(String(t).split(":").length>1)return t;var n=window.parseInt(t);if(!n)return"";var e=0,i=0,a="00:"+lt10(n);return n>=60&&(e=window.parseInt(n/60),n=window.parseInt(n%60),a=lt10(e)+":"+lt10(n),e>=60&&(i=window.parseInt(e/60),e=window.parseInt(e%60),a=lt10(i)+":"+lt10(e)+":"+lt10(n))),a},formatCount=function(t){var n=window.parseInt(t);if(n>1e4)try{n=(n/1e4).toFixed(1)+"万"}catch(e){}return n},Rec=Base.CC.sub({init:function(t){this.options=t,this.tag=t.tag,this.pageSize=t.ps||8,this.index=0,this.el=$(t.el),this.dataCache=t.recommends||[],this.dataCache.length<8?this.load():this.render()},elements:{".icon-change":"iconchange",".list-wrap":"listWrap"},events:{"click .icon-change":"render"},load:function(){var t=this,n="http://v.baidu.com/watch/rec?callback=?&page_size=8&type="+encodeURIComponent(this.tag);$.getJSON(n,function(n){n.data&&n.data.length&&(t.dataCache=t.dataCache.concat(n.data),t.maxIndex=Math.ceil(t.dataCache.length/t.pageSize)-1,t.render())})},render:function(){var t=this.index,n=this.pageSize,e=t*n,i=(t+1)*n,a=this.dataCache.slice(e,i);this.listWrap.html(tpl({videos:_.shuffle(a),urlappend:this.options.urlappend})),t++,t>this.maxIndex&&(t=0),this.index=t,this.el.removeClass("hide")}});exports.init=function(t){new Rec(t)}});
;define("play:widget/eastdayFocus/eastdayFocus.js",function(require,exports,module){var EastdayFocus=function(opt){var self=this;this.opt=opt,this.$tar=$(opt.domId),this.tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="d-video-wrap">\n    ',videos.length>6&&(__p+='\n    <div class="d-video-left hide">\n        <a class="i-arrow i-scroll-left" static=\'stp=left\'></a>\n    </div>\n    '),__p+='\n    <ul class="video-items video-banner">\n        ';for(var i=0;i<videos.length;i++){__p+="\n            ";var video=videos[i];if(__p+="\n            ",i>limit)break;__p+='\n            <li class="li-video-item">\n                <a href=\''+(null==(__t=video.link)?"":__t)+"' target='_blank' title='"+(null==(__t=video.sub_title)?"":__t)+'\' class="a-video-item" static="stp='+(null==(__t=i)?"":__t)+"\">\n                    <img class='video-cover' src=\""+(null==(__t=video.thumbnail)?"":__t)+'" alt="'+(null==(__t=video.sub_title)?"":__t)+'" />\n                    <i class="i-play-video"></i>\n                    <span class=\'duration\'>'+(null==(__t=video.duration)?"":__t)+"</span>\n                </a>\n                <a href='"+(null==(__t=video.link)?"":__t)+"' target='_blank' title='"+(null==(__t=video.sub_title)?"":__t)+'\' class="a-video-item" static="stp='+(null==(__t=i)?"":__t)+"\">\n                    <p class='video-sub-title'>\n                         "+(null==(__t=video.sub_title)?"":__t)+"\n                    </p>\n                </a>\n            </li>\n        "}__p+="\n    </ul>\n    ",videos.length>6&&(__p+='\n    <div class="d-video-right">\n        <a class="i-arrow i-scroll-right" static=\'stp=right\'></a>\n    </div>\n    '),__p+="\n</div>\n"}return __p},this.url="/videoapi/?format=json&page_name=index&block_sign=index_index_show_eastday_focus",this.jsonpCallback="eastdayFocusCallback",$(window).on(this.jsonpCallback,function(t,i){i[0]&&i[0].data&&i[0].data.videos&&i[0].data.videos.length&&(i=self.adapter(i[0].data.videos),self.render(i),self.addEvent())}),this.fetch=function(){var t=this,i=this.url,e=function(i){if(t.jsonpCallback)return void $(window).trigger(t.jsonpCallback,[i]);i=t.adapter(i),t.beforeRender(i);var e=t.render(i);t.afterRender(e)},a={url:i,dataType:"jsonp",success:e};return this.jsonpCallback?a.jsonpCallback=this.jsonpCallback:(this.$loading=$('<div class="fetch-loading time-'+ +new Date+'">加载中...</div>'),this.$tar.html(this.$loading)),$.ajax(a)},this.render=function(t){var i=this.tpl({videos:t,limit:this.opt.limit||5}),e=!1,a=$(i);return a.find("li").length<6?(this.$tar.parent().hide(),$(window).trigger("empty:"+this.opt.domId)):(e=!0,this.$tar.parent().removeClass("hide")),this.$tar.html(a),e},this.adapter=function(t){var i=Object.prototype.toString;"[object Object]"===i.call(t)&&(t=t.data?t.data:t);for(var e=0;e<t.length;e++)t[e].duration=t[e].duration,t[e].link=t[e].url||t[e].origin_url,t[e].sub_title=t[e].title,t[e].thumbnail=t[e].imgh_url;return t},this.afterRender=function(){this.addEvent()},this.addEvent=function(){var t=this.$tar,i=this;this.scrollSize=6,this.frameIndex=0,t.on("click",".d-video-right, .d-video-left",function(){var t=i.$tar.find(".d-video-left"),e=i.$tar.find(".d-video-right"),a=$(this),s=a.siblings(".video-items").find(".li-video-item").css("margin-left",0),n=Math.ceil(s.length/i.scrollSize)-1;a.hasClass("d-video-right")?i.frameIndex++:i.frameIndex--,i.frameIndex<=0?(i.frameIndex=0,t.addClass("hide"),1===n&&e.removeClass("hide")):i.frameIndex>=n?(i.frameIndex=n,e.addClass("hide"),1===n&&t.removeClass("hide")):(t.removeClass("hide"),e.removeClass("hide"));var l=i.frameIndex*i.scrollSize,d=Math.ceil(s.outerWidth(!0));s.slice(0,l).css("margin-left",-d+"px")})},this.fetch()};module.exports=function(t){new EastdayFocus(t)}});
;define("play:widget/everyWatch/everyWatch.js",function(require,exports,module){function insertAd(){window.BAIDU_VIDEO_ADM_FILL_ASYC("playPageAllSee","playPageAllSee")}function short(l){$.ajax({url:"http://v.baidu.com/videoapi/?format=json&page_name=index&block_sign=index_bomb_point",dataType:"jsonp",crossDomain:!0,success:function(n){wrap.html(shortTpl({videos:n[0].data.videos,urlappend:l.urlappend,defaultImg:defaultImage})),insertAd()}})}var wrap,linkUrl,shortTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",videos&&videos.length&&(__p+='\n<div class="hd">\n    <h3>大家都在看</h3>\n</div>\n<div class="tab-content">\n    <div class="tab-pane">\n        <ul class=\'ul-item-alllike\'>\n            ',$.each(videos,function(l,n){__p+="\n                ",urlappend&&(/fr=(.+\/)/.test(n.url)?n.url=n.url.replace(/fr=(.+\/)/,urlappend):n.url+=-1==n.url.indexOf("?")?"?"+urlappend:"&"+urlappend),__p+="\n                ",5>l&&(__p+="\n                ",n.title=n.title.replace(/<\/?[^>]+>/g,""),__p+="\n                <li class='li-video-alllike'\n                    ",2==l&&(__p+='\n                    id="playPageAllSee"\n                    '),__p+='\n                >\n                    <a class="view-box" href="'+(null==(__t=n.url)?"":__t)+'" target="_blank" title="'+(null==(__t=n.title)?"":__t)+'" static="bl=playallsee&stp='+(null==(__t=n.id)?"":__t)+"&no="+(null==(__t=l+1)?"":__t)+'&to=play">\n                        <span class="view">\n                            <img src="'+(null==(__t=n.imgh_url)?"":__t)+'" class="img" onerror="this.src=\''+(null==(__t=defaultImg)?"":__t)+'\';this.onerror=null;">\n                            <span class="s-play"></span>\n                        </span>\n                        <span class="title">'+(null==(__t=$.string.widthstr(n.title,21))?"":__t)+"</span>\n                    </a>\n                </li>\n                "),__p+="\n            "}),__p+="\n        </ul>\n    </div>\n</div>\n"),__p+="";return __p},defaultImage="http://video-static.xdcdn.xiaodutv.com/browse_static/v3/play/page/default_preview_60f5938.jpg";module.exports=function(l){linkUrl=l.isDuba?"duba":"baidu",wrap=$(l.wrap),short(l)}});
;define("play:widget/guessYouLike/guessYouLike.js",function(require,exports,module){var GuessYouLike=function(opt){this.proDomain=opt.prod&&2===opt.prod?"http://v.duba.com":"http://v.baidu.com",this.url=this.proDomain+"/topic/block/brand",this.opt=opt,this.tabIndex=0,this.$tar=$(opt.domId),this.tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+='<ul class="block-tabs" static="stp=tab"> \n    ',$.each(videos,function(t,e){__p+='\n        <li class="block-tab ',0===t&&(__p+="active"),__p+='">\n            <span class="sp-tab" data-type="'+(null==(__t=e.key)?"":__t)+'">'+(null==(__t=e.title)?"":__t)+"</span>\n        </li>\n    "}),__p+='\n    <li class="block-tab>">\n        <a target="_blank" class="a-more" href=\''+(null==(__t=proDomain)?"":__t)+'/tv/list/filter-true+order-hot+pn-1+channel-tvplay\' static=\'ext=more\'>\n            更多<i class="i-more"></i>\n        </a>\n    </li>\n</ul>\n<div class="d-video-items"> \n    ',$.each(videos,function(t,e){__p+='\n        <div class="d-video-wrap ',0!==t&&(__p+="hide"),__p+='"> \n            <div class="d-poster-box">\n                <ul class="video-items" static="stp='+(null==(__t=e.key)?"":__t)+'">\n                    ',$.each(e.videos,function(t,e){__p+="\n                        ",limit>t&&(__p+='\n                            <li class="li-video-item">\n                                <a href=\''+(null==(__t=e.link)?"":__t)+"' target='_blank' title='"+(null==(__t=e.title)?"":__t)+'\' class="a-pic" static="ext='+(null==(__t=t)?"":__t)+"\">\n                                    <img class='video-cover' src=\""+(null==(__t=e.poster||e.big_poster)?"":__t)+'" alt="'+(null==(__t=e.title)?"":__t)+'" />\n                                    <i class="i-play-video"></i>\n                                    <strong class="duration">\n                                        ',"tv"==e.type?(__p+="\n                                            ",__p+=e.max_episode===e.cur_episode?"\n                                                全"+(null==(__t=e.max_episode)?"":__t)+"集\n                                            ":"0"===e.cur_episode?"\n                                                即将播出\n                                            ":"\n                                                更新至"+(null==(__t=e.cur_episode)?"":__t)+"集\n                                            ",__p+="\n                                        "):"movie"==e.type?__p+=" \n                                            "+(null==(__t=e.al_date||e.net_show_time)?"":__t)+"\n                                        ":"comic"==e.type?(__p+="\n                                            ",__p+=e.max_episode===e.cur_episode?"\n                                                全"+(null==(__t=e.max_episode)?"":__t)+"集\n                                            ":"0"===e.cur_episode?"\n                                                即将播出\n                                            ":"\n                                                更新至"+(null==(__t=e.cur_episode)?"":__t)+"集\n                                            ",__p+="\n                                        "):"show"==e.type&&(__p+="\n                                            "+(null==(__t=e.max_episode)?"":__t)+"期 \n                                        "),__p+="\n                                    </strong>\n                                </a>\n                                <a href='"+(null==(__t=e.link)?"":__t)+"' target='_blank' title='"+(null==(__t=e.title)?"":__t)+'\' class="a-title" static="ext='+(null==(__t=t)?"":__t)+"\">\n                                    <p class='video-sub-title'>\n                                        "+(null==(__t=e.title)?"":__t)+"\n                                        ","0"!==e.rating&&(__p+='\n                                            <span class="score">'+(null==(__t=e.rating)?"":__t)+"</span>\n                                        "),__p+="\n                                    </p>\n                                </a>\n                            </li>\n                        "),__p+="\n                    "}),__p+='\n                </ul>\n            </div> \n            <div class="d-poster-page">\n                <a class="a-page a-prev hide"></a>\n                <a class="a-page a-next hide"></a>\n            </div>\n        </div>\n    '}),__p+="\n</div>\n\n";return __p},this.fetch(opt)};GuessYouLike.prototype.fetch=function(){var t=this,e=this.url,i=function(e){t.adapter(e),t.render(),t.initDom(),t.addEvent()},n={url:e,dataType:"jsonp",success:i};return $.ajax(n)},GuessYouLike.prototype.adapter=function(t){var e=this,i=[],n={tv:{title:"电视剧",subUrl:["tv","dianshi","dianshi"]},movie:{title:"电影",subUrl:["movie","dianying","dianying"]},comic:{title:"动漫",subUrl:["comic","dongman","dongman"]},show:{title:"综艺",subUrl:["show","zongyi","zongyi"]}};t.data&&(t=t.data,$.each(t,function(t,s){if(s.length){var a=n[t];a&&($.each(s,function(i,n){n.link=e.proDomain+"/"+a.subUrl[e.opt.prod]+"/"+n.works_id+".htm?frp=browse",n.type=t,n.rating&&"0"!==n.rating&&(n.rating=(window.parseInt(n.rating)/10).toFixed(1))}),i.push({title:a.title,key:t,videos:s}))}}),e.dataCache=i)},GuessYouLike.prototype.render=function(){var t=this.tpl({videos:this.dataCache,limit:this.opt.limit||5,proDomain:this.proDomain});this.$tar.html(t),this.$tar.parent().removeClass("hide")},GuessYouLike.prototype.initDom=function(){var t=this.tabIndex;this.$box=this.$box||this.$tar.find(".d-poster-box"),this.$list=this.$list||this.$tar.find(".video-items"),this.$next=this.$next||this.$tar.find(".a-next"),this.initParam(),this.$list.eq(t).width(this.contentWidth),this.totle>this.frameLength&&this.$next.eq(t).removeClass("hide"),this.$box.eq(t).data("frameIndex",0)},GuessYouLike.prototype.initParam=function(){var t=this.tabIndex,e=this.boxWidth=this.$box.eq(t).width()+20,i=this.$list.eq(t).children(),n=this.width=i.outerWidth(!0),s=this.totle=i.length,a=this.frameLength=Math.floor(e/n);this.frameSize=Math.ceil(s/a)-1,this.contentWidth=n*s},GuessYouLike.prototype.addEvent=function(){var t,e=this,i=this.$tar;this.scrollSize=5,this.frameIndex=0,i.on("mouseenter",".sp-tab",function(){var i=$(this),n=function(){var t=i.parent().index();e.tabIndex=t,i.parent().addClass("active").siblings().removeClass("active"),e.$box.eq(t).parent().removeClass("hide").siblings().addClass("hide"),void 0===e.$box.eq(t).data("frameIndex")?e.initDom():e.initParam()};t&&clearTimeout(t),t=setTimeout(n,100)}).on("mouseleave",".sp-tab",function(){clearTimeout(t)}).on("click",".a-prev, .a-next",function(){var t,i,n=$(this),s=n.parent().prev().data("frameIndex");n.hasClass("a-next")?(t=n.prev(),i=n,s++):(t=n,i=n.next(),s--),0>=s?(s=0,t.addClass("hide"),1===e.frameSize&&i.removeClass("hide")):s>=e.frameSize?(s=e.frameSize,i.addClass("hide"),1===e.frameSize&&t.removeClass("hide")):(t.removeClass("hide"),i.removeClass("hide"));var a=s*e.boxWidth;a>e.contentWidth-e.boxWidth&&(a=e.contentWidth-e.boxWidth),e.$list.eq(e.tabIndex).css("margin-left",-a+"px"),e.$box.eq(e.tabIndex).data("frameIndex",s)})},module.exports=function(t){new GuessYouLike(t)}});
;define("play:widget/intro/intro.js",function(require,exports,module){function init(opt){var type=types[opt.type],id=opt.id,el=$(opt.el),tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+='<div class="inner">\n    <h2>'+(null==(__t=title)?"":__t)+'</h2>\n    <div class="bd">\n        ',"undefined"!=typeof actor&&actor.join("")){__p+='<p>\n            <span class="label">主演:</span>\n            ';for(var i=0,len=actor.length;i<Math.min(len,4);i++)__p+='<span class="item">'+(null==(__t=actor[i])?"":__t)+"</span>";__p+="\n        </p>"}if(__p+="\n        ","undefined"!=typeof director&&director.join("")){__p+='<p>\n            <span class="label">导演:</span>\n            ';for(var i=0,len=director.length;i<Math.min(len,4);i++)__p+='<span class="item">'+(null==(__t=director[i])?"":__t)+"</span>";__p+="\n        </p>"}if(__p+="\n        ","undefined"!=typeof host&&host.join("")){__p+='<p>\n            <span class="label">主持人:</span>\n            ';for(var i=0,len=host.length;i<Math.min(len,4);i++)__p+='<span class="item">'+(null==(__t=host[i])?"":__t)+"</span>";__p+="\n        </p>"}if(__p+="\n        ","undefined"!=typeof language&&language&&(__p+='<p>\n            <span class="label">语言:</span>\n            <span class="item">'+(null==(__t=language)?"":__t)+"</span>\n        </p>"),__p+="\n        ","undefined"!=typeof area&&area.join("")){__p+='<p>\n            <span class="label">地区:</span>\n            ';for(var i=0,len=area.length;i<Math.min(len,4);i++)__p+='<span class="item">'+(null==(__t=area[i])?"":__t)+"</span>";__p+="\n        </p>"}if(__p+="\n        ","undefined"!=typeof al_date&&al_date&&(__p+='<p>\n            <span class="label">年代:</span>\n            <span class="item">'+(null==(__t=al_date)?"":__t)+"</span>\n        </p>"),__p+="\n        ","undefined"!=typeof rc_tags&&rc_tags.join("")){__p+='<p>\n            <span class="label">看点:</span>\n            ';for(var i=0,len=rc_tags.length;i<Math.min(len,4);i++)__p+='<span class="item">'+(null==(__t=rc_tags[i])?"":__t)+"</span>";__p+="\n        </p>"}__p+="\n        ","undefined"!=typeof intro&&(__p+='<p>\n            <span class="label">简介:</span>\n            <span class="item">'+(null==(__t=$.string.widthstr(intro,20))?"":__t)+"</span>\n        </p>"),__p+="\n        ","undefined"!=typeof brief&&(__p+='<p>\n            <span class="label">简介:</span>\n            <span class="item">'+(null==(__t=$.string.widthstr(brief,words))?"":__t)+' <a class="detail-link" href="'+(null==(__t=detail_url)?"":__t)+'" target="_blank" static="stp=detail">详情</a></span>\n        </p>'),__p+="\n    </div>\n</div>"}return __p};$.ajax({url:map[type][0]+"id="+id,dataType:"jsonp",success:function(n){n&&(n.detail_url="http://v.baidu.com/"+map[type][1]+"/"+id+".html?frp=browse",n.words=opt.words||90,el.html(tpl(n)),opt.callback&&$.isFunction(opt.callback)&&opt.callback())}})}var types={22:"tv",26:"tvshow",43:"comic",21:"mv"},map={mv:["http://v.baidu.com/movie_intro/?dtype=basic&service=json&","movie"],tv:["http://v.baidu.com/tv_intro/?dtype=tvBasic&service=json&","tv"],comic:["http://v.baidu.com/comic_intro/?dtype=comicBasic&service=json&","comic"],tvshow:["http://v.baidu.com/show_intro/?dtype=tvshowBasic&service=json&","show"]};exports.init=init});
;define("play:widget/pgcTop/pgcTop.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),bdPassPop=require("common:static/ui/bdPassPop/bdPassPop.js"),pgcTop={init:function(){var t=this;this.el=$("#weMediaTop"),this.sugEl=$("#prevue-carousel"),this.fetchData(this.render),Base.Observer.on("subscriptPGC2",function(){t.fnCheckLogin(function(){t.actionSub(!0,t.currentEle.data("name"),t.subShow.call(t))})}),Base.Observer.on("unSubscriptPGC2",function(){t.actionSub(!1,t.currentEle.data("name"),t.unSubShow.call(t))})},fnCheckLogin:function(t){var e=this;loginCheck(function(n){return n&&n.value?void(t&&t.call(e)):bdPassPop.show(function(){t&&t.call(e)})})},actionSub:function(t,e,n){var a=t===!0?"/uc/recommand/adductag":"/uc/recommand/deluctag";$.ajax({url:"http://v.baidu.com"+a,data:{tag_title:e},dataType:"jsonp",timeout:4e3,success:function(t){t?n&&n():alert("订阅出错，请稍后尝试")},error:function(){alert("订阅出错，请稍后尝试")}})},subEvent:function(){Base.Observer.trigger("subscriptPGC2")},unSubEvent:function(){Base.Observer.trigger("unSubscriptPGC2")},subShow:function(){var t=this;t.currentEle.addClass("hide").siblings(".pgc-author-unsubscript").removeClass("hide")},unSubShow:function(){var t=this;t.currentEle.addClass("hide").siblings(".pgc-author-subscript").removeClass("hide")},bindEvent:function(){var t=this;this.el.find(".bdv-tabslider-dot li").each(function(e,n){$(n).hover(function(){$(this).addClass("dot-selected").siblings().removeClass("dot-selected");var e=$(n).index();t.el.find(".bdv-tabslider-item").removeClass("selected").eq(e).addClass("selected")},function(){})})},bindSugEvent:function(){var t=this;t.sugEl.find(".pgc-author-subscript").on("click",function(){t.currentEle=$(this),t.subEvent()}),t.sugEl.find(".pgc-author-unsubscript").on("click",function(){t.currentEle=$(this),t.unSubEvent()})},render:function(data){var self=this,htmlTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var i=0;8>i;i++){var item=data[i];__p+='\n    <div class="video pic-item">\n        <span class="number weight ',3>i&&(__p+="top3"),__p+='">'+(null==(__t=i+1)?"":__t)+'</span>\n        <a href="'+(null==(__t=item.url)?"":__t)+'" target="_blank" class="current-title" title="'+(null==(__t=item.title)?"":__t)+'">\n            <img  class="icon" src="'+(null==(__t=item.imgh_url)?"":__t)+'" alt="">\n            <span class="title">'+(null==(__t=item.title)?"":__t)+"</span>\n        </a>\n        ","1"==type&&(__p+='\n            <span class="pingfen">'+(null==(__t=formatCount(item.hot_day))?"":__t)+"</span>\n        "),__p+="\n    </div>\n"}__p+="\n"}return __p};this.el.find(".play-rank").html(htmlTpl({data:data.index_play_num.videos,type:"1",formatCount:self.formatCount})),this.el.find(".share-rank").html(htmlTpl({data:data.index_sub_num.videos,type:"1",formatCount:self.formatCount})),this.bindEvent()},formatCount:function(t){var e="";return 1e4>t?e=t:t>=1e4&&1e8>t?e=(t/1e4).toFixed(1)+"万":t>=1e8&&(e=(t/1e8).toFixed(1)+"亿"),e},formatDuration:function(t){var e=[parseInt(t/60/60,10),Math.floor(t/60%60),t%60];return 3600>t&&e.shift(),e.join(":").replace(/\b(\d)\b/g,"0$1")},renderSug:function(data){function init(){{var elem=$("#prevue-carousel"),temp=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var videoid=videoid||"";__p+="\n";var onepage=onepage,items=items,total=items.length,pagenum=Math.ceil(total/onepage);__p+='\n<!-- Indicators -->\n<!-- Wrapper for slides -->\n<div class="carousel-inner" role="listbox">\n    ';for(var j=0;pagenum>j;j++){__p+='\n        <div class="item ',0==j&&(__p+="active"),__p+=' hide-overflow">\n            <ul >\n                ';for(var n=0;onepage>n;n++){if(__p+="\n                    ",total>j*onepage+n){__p+="\n                    ";var item=items[j*onepage+n];__p+='\n                    <li class="pgc-sug-item ',n==onepage-1&&(__p+="last"),__p+=" ",n==onepage-2&&(__p+="last2"),__p+='" >\n                        <a href="'+(null==(__t=item.url)?"":__t)+'" target="_blank" static="stp=po&videoid='+(null==(__t=videoid)?"":__t)+'" title="'+(null==(__t=item.sub_title)?"":__t)+'" class="item-a view-box">\n                            <span class="view">\n                                <img class="item-img" src="'+(null==(__t=item.imgh_url)?"":__t)+'"/>\n                                <span class="info-bg"></span>\n                                <span class="info">'+(null==(__t=item.duration)?"":__t)+'</span>\n                                <span class="s-mask"></span>\n                                <span class="s-play"></span>\n                                <span class="pgc-img">\n                                    <img src="',__p+=item.imgv_url?""+(null==(__t=item.imgv_url)?"":__t):"http://list.video.baidu.com/default-icon.png",__p+='">\n                                </span>\n                                <span class="pgc-author-name">'+(null==(__t=item.director[0].name)?"":__t)+'</span>\n                            </span>\n                            <span class="title">'+(null==(__t=$.string.widthstr(item.title,23))?"":__t)+'</span>\n                        </a>\n                        <a class="pgc-author-title" href="http://v.baidu.com/i/list?tag='+(null==(__t=item.director[0].name)?"":__t)+'" target="_blank" title="'+(null==(__t=item.director[0].name)?"":__t)+'">'+(null==(__t=item.director[0].name)?"":__t)+'</a>\n                        <span class="pgc-author-subscript" data-name="'+(null==(__t=item.director[0].name)?"":__t)+'">订阅</span>\n                        <span class="pgc-author-unsubscript hide" data-name="'+(null==(__t=item.director[0].name)?"":__t)+'">\n                            <span class="normal-status">已订阅</span>\n                            <span class="hover-status">取消订阅</span>\n                        </span>\n                    </li>\n                    '}__p+="\n                "}__p+="\n            </ul>\n        </div>\n    "}__p+="\n</div>\n\n<!-- Controls -->\n",pagenum>1&&(__p+='\n<a class="left carousel-control" href="#prevue-carousel" role="button" data-slide="prev" static="stp=left"></a>\n<a class="right carousel-control" href="#prevue-carousel" role="button" data-slide="next" static="stp=right"></a>\n<!-- <div class="carousel-page-info"><i>1</i><b>/'+(null==(__t=pagenum)?"":__t)+"</b></div> -->\n"),__p+="\n"}return __p};$("#detailPrevue")}if(data.length<3)return void elem.remove();showPlayBtn(data),elem.show(),elem.find(".content").eq(0).html(temp({items:data,onepage:5,formatDuration:self.formatDuration}));var $left=elem.find(".left.carousel-control"),$right=elem.find(".right.carousel-control");self.bindSugEvent(),elem.find(".item").length&&(elem.carousel({interval:0}),elem.on("slid.bs.carousel",function(){var t=$(this),e=t.find(".carousel-inner").children().length,n=t.find(".item.active").index();0===n?$left.hide():n===e-1?$right.hide():($left.show(),$right.show())}))}var self=this;data=data.index_pgc.videos.length>15?data.index_pgc.videos.slice(0,15):data.index_pgc.videos,require("common:static/vendor/bootstrap/js/transition.js"),require("common:static/vendor/bootstrap/js/carousel.js");var core=require("common:static/ui/core/core.js"),showPlayBtn=(core.config,core.vApp,require("common:static/vendor/underscore/underscore.js"),function(t){var e=$("#j-play-btn.intro-play-btn-more");if(e.length)try{e.removeClass("intro-play-btn-more").addClass("intro-play-btn-yugao").attr("href",t[0].link).attr("static",e.attr("static").replace("ext=more","ext=prev"))}catch(n){}});init()},fetchData:function(){var t=this;$.ajax({url:"http://v.baidu.com/channel/pgcrank?format=json",dataType:"jsonp",success:function(e){e&&0===e.errno&&(t.render(e.data),t.renderSug(e.data))}})}};exports=module.exports=function(){pgcTop.init()}});
;define("play:widget/share/share.js",function(e,t,o){var n,i=(e("play:static/ui/jquery.qrcode.js"),{qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",weibo:"http://service.weibo.com/share/share.php?",douban:"https://www.douban.com/share/service?",renren:"http://widget.renren.com/dialog/share?",tieba:"http://tieba.baidu.com/f/commit/share/openShareApi?",qconnect:"http://connect.qq.com/widget/shareqq/index.html?"}),r=function(e){this.init(e)};r.prototype.init=function(e){n=e,this.bindEvent(),this.hoverRender(e.url),this.checkShare()},r.prototype.checkShare=function(){window.location.href.indexOf("toshare=1")>-1&&$("#shareComponet").trigger("mouseenter")},r.prototype.open=function(e,t){var o=i[e]+$.param(t);window.open(o)},r.prototype.toQzone=function(){var e="qzone";this.open(e,n)},r.prototype.toWeibo=function(){var e="weibo",t=$.extend({},{url:n.url,title:n.desc,pic:n.pics});this.open(e,t)},r.prototype.toDouban=function(){var e="douban",t=$.extend({},{href:n.url,name:n.title,text:n.desc,image:n.pics});this.open(e,t)},r.prototype.toRenren=function(){var e="renren",t=$.extend({},{resourceUrl:n.url,title:n.title,description:n.desc,pic:n.pics});this.open(e,t)},r.prototype.toTieba=function(){var e="tieba",t=$.extend({},{url:n.url,title:n.desc,desc:n.desc,pic:n.pics});this.open(e,t)},r.prototype.toQconnect=function(){var e="qconnect";this.open(e,n)},r.prototype.bindEvent=function(){var e=this;$("#bdvShare").find(".share-item").each(function(t,o){var n=$(o).data("info");$(o).on("click",function(t){t.preventDefault(),e["to"+n]()})})},r.prototype.hoverRender=function(e){var t=$("#shareComponet"),o=t.find(".img-share"),n=$("#bdvShare"),i={normal:"http://video-static.xdcdn.xiaodutv.com/browse_static/v3/play/widget/share/share_e6c68c8.png",hover:"http://video-static.xdcdn.xiaodutv.com/browse_static/v3/play/widget/share/share-hover_ec3bdbf.png"};$("#bdvShare .play-qrcode").qrcode({size:117,text:e,render:"div",ecLevel:"H"}),t.hover(function(){n.removeClass("hide"),o.attr("src",i.hover)},function(){n.addClass("hide"),o.attr("src",i.normal)})},o.exports=t=function(e){new r(e)}});
;define("play:widget/shortfeed/base/index.js",function(n,e,t){var r=function(n){return n>9?n:"0"+n},i=function(n){if(String(n).split(":").length>1)return n;var e=window.parseInt(n);if(!e)return"";var t=0,i=0,a="00:"+r(e);return e>=60&&(t=window.parseInt(e/60),e=window.parseInt(e%60),a=r(t)+":"+r(e),t>=60&&(i=window.parseInt(t/60),t=window.parseInt(t%60),a=r(i)+":"+r(t)+":"+r(e))),a},a=function(n){var e=window.parseInt(n);if(e>1e4)try{e=(e/1e4).toFixed(1)+"万"}catch(t){console.error(t)}return e},o=function(n,e){return n&&e&&(n+=n.indexOf("?")>0?"&"+e:"?"+e),n},u=function(n,e,t){var r,i,a,o,u=0;t||(t={});var l=function(){u=t.leading===!1?0:(new Date).getTime(),r=null,o=n.apply(i,a),r||(i=a=null)},c=function(){var c=(new Date).getTime();u||t.leading!==!1||(u=c);var f=e-(c-u);return i=this,a=arguments,0>=f||f>e?(r&&(clearTimeout(r),r=null),u=c,o=n.apply(i,a),r||(i=a=null)):r||t.trailing===!1||(r=setTimeout(l,f)),o};return c.cancel=function(){clearTimeout(r),u=0,r=i=a=null},c};t.exports={lt10:r,formatSeconds:i,formatCount:a,appendUrl:o,throttle:u}});
;define("play:widget/shortfeed/nav/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),tpl=(Base._,function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var i=0;i<tabs.length;i++)__p+='\n<li class="sc2-nav-li ',tabs[i].name===curTab.name&&(__p+="sc2-nav-active"),__p+='" static="'+(null==(__t=tabs[i].name)?"":__t)+'">\n    <a href="'+(null==(__t=tabs[i].url)?"":__t)+'" class="sc2-nav-a">\n    '+(null==(__t=tabs[i].name)?"":__t)+"\n    </a>\n</li>\n";__p+=""}return __p}),Nav=(require("play:widget/shortfeed/base/index.js"),Base.CC.sub({init:function(n){this.opt=n,this.render(n)},elements:{".sc2-nav-ul":"main"},render:function(n){this.main.append(tpl({tabs:n.tabs,curTab:n.curTab}))}}));exports.init=function(n){new Nav(n)}});
;define("play:widget/shortfeed/rec/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),tpl=(Base._,function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var o,i=0;o=videos[i];i++)__p+='\n    <li class="sc2-item ',0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n        <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n            <div class="sc2-thumb">\n                <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                <span class="mask"></span>\n                <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                <span class="play"></span>\n            </div>\n            <div class="sc2-info">\n                <span class="title">\n                    '+(null==(__t=o.aTitle)?"":__t)+"\n                </span>\n                ",o.aPlayNum&&(__p+='\n                    <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                "),__p+="\n            </div>\n        </a>\n    </li>\n";__p+="\n",__p+=location.hostname.indexOf("v.duba.com")>=0?'\n<li class="sc2-item sc2-item-ad2">\n    <div id="dubashortchannelRight1"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("dubashortchannelRight1", "dubashortchannelRight1", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad2\').show();\n        }\n    });\n    </script>\n</li>\n<li class="sc2-item sc2-item-ad4">\n    <div id="dubashortchannelRight2"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("dubashortchannelRight2", "dubashortchannelRight2", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad4\').show();\n        }\n    });\n    </script>\n</li>\n':"hao123"==window.product_name?'\n<li class="sc2-item sc2-item-ad2">\n    <div id="hao123shortchannelRight1"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("hao123shortchannelRight1", "hao123shortchannelRight1", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad2\').show();\n        }\n    });\n    </script>\n</li>\n<li class="sc2-item sc2-item-ad4">\n    <div id="hao123shortchannelRight2"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("hao123shortchannelRight2", "hao123shortchannelRight2", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad4\').show();\n        }\n    });\n    </script>\n</li>\n':'\n<li class="sc2-item sc2-item-ad2">\n    <div id="PCbashortchannelRight1"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("PCbashortchannelRight1", "PCbashortchannelRight1", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad2\').show();\n        }\n    });\n    </script>\n</li>\n<li class="sc2-item sc2-item-ad4">\n    <div id="PCbashortchannelRight2"></div>\n    <script>\n    BAIDU_VIDEO_ADM_FILL_ASYC("PCbashortchannelRight2", "PCbashortchannelRight2", function(wrap) {\n        if($(wrap)) {\n            $(\'.sc2-item-ad4\').show();\n        }\n    });\n    </script>\n</li>\n',__p+="\n\n\n\n"}return __p}),util=require("play:widget/shortfeed/base/index.js"),Rec=Base.CC.sub({init:function(n){this.opt=n,this.el=$(n.el),this.cache=[],this.isLoding=0,this.load(),this.watchScroll()},elements:{".sc2-loading":"loading",".sc2-rec-ul":"main"},load:function(){var n=this,i=this.opt.relate;i=i.match(/watch\/(.+)\.html/);var t=i[1],a="http://v.baidu.com/watch/wisepgc?callback=?&oldrelated=1&id="+encodeURIComponent(t);this.isLoding||(this.showLoading(),$.getJSON(a,function(i){i=i.data.related_list.videos,i&&(n.cache=n.cache.concat(i),n.render(i)),n.hideLoading()}))},render:function(n){n=this.adapter(n),this.main.append(tpl({videos:n}))},watchScroll:function(){var n=$(document),i=function(){var i=$("#recWrap").offset().top,t=$("#pcshortchannelTopRight");t.length&&(i+=t.height());var a=n.scrollTop();a>i?(this.el.addClass("scroll-fixed").css({width:$("#recWrap").width()}),$(".nav-wrap").addClass("scroll-fixed")):(this.el.removeClass("scroll-fixed"),$(".nav-wrap").removeClass("scroll-fixed"))},t=this;$(document).on("scroll",function(){i.call(t)})},adapter:function(n){var i=this;return n=n||[],$.each(n,function(n,t){t.aDuration=t.duration,t.aTitle=t.title,t.aPlayNum=util.formatCount(t.count),t.aImgUrl=t.img,t.aUrl="http://v.baidu.com/watch/"+t.videoid+".html?fr="+i.opt.fr+"&tabfr="+i.opt.base}),n.slice(0,6)},showLoading:function(){var n=this;this.isLoding=1,this.loading.removeClass("hide"),setTimeout(function(){n.hideLoading()},5e3)},hideLoading:function(){this.isLoding=0,this.loading.addClass("hide")}});exports.init=function(n){new Rec(n)}});
;define("play:widget/shortfeed/main/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),_=Base._,tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{parseInt(5*Math.random()+2)}__p+="\n";for(var o,i=0;o=videos[i];i++){__p+="\n    ";var r=i%5;__p+="\n    ",3==r||4==r?(__p+='\n        <li class="sc2-item sc2-card sc2-card-'+(null==(__t=r)?"":__t)+" ",0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n            <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n                <div class="sc2-info">\n                    <span class="title">\n                        '+(null==(__t=o.aTitle)?"":__t)+'\n                    </span>\n                </div>\n                <div class="sc2-thumb">\n                    <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                    <span class="mask"></span>\n                    <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                    <span class="play"></span>\n                </div>\n                ',o.aPlayNum&&(__p+='\n                    <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                "),__p+="\n            </a>\n        </li>\n    "):(__p+="\n        ",i%2==0&&(__p+="\n            ",__p+="hao123"==window.product_name?'\n            <li class="sc2-item sc2-feed" id="sc2FeedAdSys'+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"\">\n                <script>\n                (function(){\n                    BAIDU_VIDEO_ADM_FILL_ASYC('hao123shortFeedAD', 'sc2FeedAdSys"+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"')\n                })();\n                </script>\n            </li>\n            ":'\n            <li class="sc2-item sc2-feed" id="sc2FeedAdSys'+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"\">\n                <script>\n                (function(){\n                    BAIDU_VIDEO_ADM_FILL_ASYC('PCshortchannelFeedAD', 'sc2FeedAdSys"+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"')\n                })();\n                </script>\n            </li>\n            ",__p+="\n        "),__p+='\n        <li class="sc2-item sc2-feed ',0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n            <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n                <div class="sc2-thumb">\n                    <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                    <span class="mask"></span>\n                    <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                    <span class="play"></span>\n                </div>\n                <div class="sc2-info">\n                    <span class="title">\n                        '+(null==(__t=o.aTitle)?"":__t)+"\n                    </span>\n                    ",o.aPlayNum&&(__p+='\n                        <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                    "),__p+="\n                </div>\n            </a>\n        </li>\n    "),__p+="\n"}__p+="\n\n\n"}return __p},util=require("play:widget/shortfeed/base/index.js"),Main=Base.CC.sub({init:function(n){this.opt=n,this.base=n.base,this.el=$(n.el),this.ps=10,this.pn=1,this.cache=[],this.isLoding=0,this.load(),this.watchScroll(),this.moreBtn()},elements:{".sc2-loading":"loading",".sc2-main-ul":"main"},events:{},moreBtn:function(){var n=this,t=function(){var n=_.debounce(function(){document.documentElement.scrollTop>$(".sc2-wrap")[0].offsetTop-120&&$(".sc2-more-tip").show()},3e4,!1);$(window).off("scroll",n),$(window).on("scroll",n),$(window).trigger("scroll",n)};t(),$("#sc2MoreBtn").on("click",function(){document.documentElement.scrollTop=$(".sc2-wrap")[0].offsetTop-120,document.body.scrollTop=$(".sc2-wrap")[0].offsetTop-120,$(".sc2-more-tip").hide(),t(),n.pn=1,n.load(!0),$(window).off("scroll",n.scrollfunc),$(window).on("scroll",n.scrollfunc),$(".sc2-recommend-tip").height("32px"),setTimeout(function(){$(".sc2-recommend-tip").height(0)},3e3);var i="http://pc.videoclick.baidu.com/v.gif?pid=104&tn="+n.opt.tn+"&tpl="+n.opt.tn+"&bl=tipmore";$.log(i)}),$("#sc2MoreBtnClose").on("click",function(){$(".sc2-more-tip").hide(),t()})},load:function(n){var t=this,i=this.base+"?callback=?&format=json&pn="+this.pn;this.isLoding||(this.showLoading(),$.getJSON(i,function(i){i.data&&i.data.videos&&(t.cache=t.cache.concat(i.data.videos),t.render(i.data.videos,n),t.pn===Math.ceil(i.data.total_num/10)&&$(window).off("scroll",t.scrollfunc)),t.pn++,t.hideLoading()}))},render:function(n,t){this.adapter(n),t?this.main.html(tpl({videos:n,pn:this.pn})):this.main.append(tpl({videos:n,pn:this.pn}))},adapter:function(n){var t=this;n=n||[],$.each(n,function(n,i){i.aDuration=util.formatSeconds(i.duration),i.aTitle=i.title,i.aPlayNum=util.formatCount(i.play_num)||2,i.aImgUrl=i.img_url||i.imgh_url||i.imgv_url,i.aUrl=util.appendUrl(i.url,"fr="+t.opt.fr+"&tabfr="+t.base)})},watchScroll:function(){var n=$(document),t=$(window),i=t.height(),s=function(){var t=n.height(),s=n.scrollTop();s>t-i-800&&this.load()},l=this;l.scrollfunc=util.throttle(s,200,{trailing:!1}).bind(l),$(window).on("scroll",l.scrollfunc),setTimeout(function(){var t=n.height();i>=t&&l.load()},1e3)},showLoading:function(){var n=this;this.isLoding=1,this.loading.removeClass("hide"),setTimeout(function(){n.hideLoading()},5e3)},hideLoading:function(){this.isLoding=0,this.loading.addClass("hide")}});exports.init=function(n){new Main(n)}});
;define("play:widget/shortfeed/feed.js",function(e,a){var n=e("common:static/ui/oo/klass.js"),t=(n._,e("play:widget/shortfeed/base/index.js"),e("play:widget/shortfeed/nav/index.js")),i=e("play:widget/shortfeed/rec/index.js"),s=e("play:widget/shortfeed/main/index.js"),o=n.CC.sub({init:function(e){this.opt=e;var a=$.url.getQueryValue(location.href,"tabfr");if(a&&"undefined"!==a)var n=a+"?format=json";else var n="http://v.baidu.com/channel/short/newamuse?format=json";this.load(n)},load:function(e){var a=this;$.ajax({url:e,dataType:"jsonp",success:function(e){e=e.data,e&&(t.init({tabs:e.tabs,curTab:e.curTab}),i.init({el:"#sc2-rec",channel:e.curTab.channel,name:e.curTab.name,base:e.curTab.url,fr:location.hostname,relate:e.videos[0].url}),s.init({el:"#sc2-main",fr:location.hostname,tn:a.opt.tn,base:e.curTab.url}))},error:function(){}})}});a.init=function(e){new o(e)}});
;define("play:widget/subscript/subscript.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),loginCheck=require("common:static/ui/loginCheck/loginCheck.js"),bdPassPop=require("common:static/ui/bdPassPop/bdPassPop.js"),ViewSubscript=Base.CC.sub({init:function(t){var a=this;a.pgcName=t.pgcName,a.pgcTid=t.pgcTid,a.playEle=$("#pgc-author-play-root"),a.fetchData(a.display),Base.Observer.on("subscriptPGC",function(){a.fnCheckLogin(!0,function(){a.actionSub(!0,a.subShow.call(a))})}),Base.Observer.on("unSubscriptPGC",function(){a.actionSub(!1,a.unSubShow)})},tpl:{playTpl:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var pgcUrl="http://v.baidu.com/i/list?tag_id="+data.tag_info.id;__p+="\n","21431"!=data.tag_info.id&&(__p+='\n<div class="lf-side">\n    <a href="'+(null==(__t=pgcUrl)?"":__t)+'" target="_blank" static="ext=img">\n        <img src="'+(null==(__t=data.tag_info.bigimgurl)?"":__t)+'"/>\n    </a>\n</div>\n<div class="rf-side">\n    <a class="author-play-subscript" static="stp=subRig">\n        <span class="splus">+</span>订阅\n    </a>\n    <a class="is-author-play-subscript hide" href="javascript:void(0);" static="stp=unSubRig">\n        <span class="normalEffect">\n            已订阅\n        </span>\n        <span class="hoverEffect">已订阅</span>\n    </a>\n</div>\n<div class="author-info">\n    <p class="author-info-name">\n        <a href="'+(null==(__t=pgcUrl)?"":__t)+'" static="ext=title" target="_blank">'+(null==(__t=data.tag_info.display_title)?"":__t)+"</a>\n    </p>\n</div>\n"),__p+="\n\n"}return __p}},events:{"click .author-play-subscript":"subEvent","click .is-author-play-subscript":"unSubEvent"},fetchData:function(t){var a=this;$.ajax({url:"http://v.baidu.com/tagapi",data:{type:2,tag:a.pgcName},dataType:"jsonp",success:function(i){i.data&&i.data.length&&t&&t.call(a,i.data[0])}})},formatNumber:function(t){return+t>=1e8?(t/1e8).toFixed(1)+"亿":1e8>=+t&&+t>=1e4?(t/1e4).toFixed(1)+"万":+t>=1e3?(""+t).slice(0,1)+","+(""+t).slice(1):t},display:function(t){var a=this,i=a.tpl.playTpl({data:t,formatNumber:a.formatNumber});a.playEle.html(i),a.fnCheckLogin()},fnCheckLogin:function(t,a){var i=this;loginCheck(function(s){if(s&&s.value)t?a&&a.call(i):i.fnFetchSubList();else if(t)return bdPassPop.show(function(){a&&a.call(i),location.reload()})})},fnFetchSubList:function(){var t=this;$.ajax({url:"http://v.baidu.com/tagapi",data:{type:0},dataType:"jsonp",success:function(a){a&&a.data&&a.data.my_tags&&$.each(a.data.my_tags,function(a,i){return i.tag_title===t.pgcName?(t.subShow(),!1):void 0})}})},actionSub:function(t,a){var i=this,s=t===!0?"/uc/recommand/adductag":"/uc/recommand/deluctag",n=t===!0?1:-1;$.ajax({url:location.protocol+"//"+location.host+s,data:{tag_title:i.pgcName,token:window.sign||""},dataType:"jsonp",timeout:4e3,success:function(t){if(t){a&&a();var s=i.playEle.find(".author-info-desc .sub"),e=+s.data("rel")+n;s.data("rel",e),e=i.formatNumber(e),s.html(e+"订阅")}else alert("订阅出错，请稍后尝试")},error:function(){alert("订阅出错，请稍后尝试")}})},subEvent:function(){Base.Observer.trigger("subscriptPGC")},unSubEvent:function(){Base.Observer.trigger("unSubscriptPGC")},subShow:function(){$(".is-author-play-subscript").removeClass("hide"),$(".author-play-subscript").addClass("hide")},unSubShow:function(){$(".is-author-play-subscript").addClass("hide"),$(".author-play-subscript").removeClass("hide")}});module.exports=function(t){new ViewSubscript(t)}});
;define("play:widget/tabtoplist/tabtoplist.js",function(require,exports,module){function notificationGlobal(t){var i=t[0].data.videos[0],n=["M","TV","T","C"],_={},a=n[parseInt(i.stream_type,10)-1]+i.id;_[a]="",window.topdata=_,ec.trigger("golbal.toplist",{topdata:_})}function init(){var wrap=$("#toplist-body"),api="http://v.baidu.com/videoapi/?format=json&data=pc&page_name=index&block_sign=list_index_top_search,index_top_movie_all,index_top_tv_all,index_top_tamasha,index_top_cartoon",tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var i=0;i<topdata.length;i++){__p+="\n";var section=topdata[i];if(__p+='\n<div class="item ',0==i&&(__p+=" active "),__p+='" id="tab-toplist-'+(null==(__t=i)?"":__t)+'">\n    <ol >\n        ',section.data&&section.data.videos){__p+="\n            ";for(var j=0,len=section.data.videos.length;len>j;j++){if(__p+="\n                ",8>j){__p+="\n                    ";var video=section.data.videos[j];if(__p+='\n                    <li class="list">\n                        <a href="'+(null==(__t=isYingShi?"https://www.baidu.com/s?ie=utf-8&wd="+video.title:video.url)?"":__t)+'" target="_blank" title="'+(null==(__t=video.title)?"":__t)+'" static="stp=ti&no='+(null==(__t=j)?"":__t)+'">\n                            <span class="list-no no'+(null==(__t=j+1)?"":__t)+" ",0==j&&(__p+="first"),__p+="\n                                ",j==len-1&&(__p+="last"),__p+='">0'+(null==(__t=j+1)?"":__t)+'\n                            </span>\n                            <span class="list-title">'+(null==(__t=video.title)?"":__t)+"</span>\n                            ","index_top_search"==section.name&&video.stream_type)__p+='\n                                <span class="list-typeinfo">'+(null==(__t=streamtypeCN[parseInt(video.stream_type,10)-1])?"":__t)+"</span>\n                            ";else{__p+="\n                                ";var hot_day=(video.hot_day/1e4).toFixed(1);__p+="\n                                ",hot_day>0&&(__p+='<span class="list-info">'+(null==(__t=hot_day)?"":__t)+"&nbsp;万</span>"),__p+="\n                            "}__p+="\n                        </a>\n                    </li>\n                "}__p+="\n            "}__p+="\n        "}__p+="\n    </ol>\n</div>\n"}__p+=""}return __p};$.ajax({url:api,dataType:"jsonp",success:function(t){var i,n=!1;"yingshi.baidu.com"===document.location.hostname&&(n=!0),t&&t.length&&(notificationGlobal(t),i=tpl({topdata:t,streamtypeCN:["电影","电视剧","综艺","动漫","资讯","专题"],isYingShi:n}),wrap.html(i),$("#tabToplist .nav-tab").mouseenter(function(){$(this).tab("show")}))}})}{var Base=require("common:static/ui/oo/klass.js"),ec=require("common:static/ui/eventcenter/eventcenter.js");Base._}require("common:static/vendor/bootstrap/js/tab.js"),module.exports=init()});
;define("play:widget/videoList/pgc.js",function(require,exports,module){function renderTagItem(t){$.ajax({url:"http://v.baidu.com/tagapi?format=json&type=2&tag="+t.title,dataType:"jsonp",crossDomain:!0,scriptCharset:"gb2312",success:function(n){n.data&&(n.data[0].tag_info.imgurl=t.bigimgurl,wrap.append(tagItemTpl(n.data[0])),setTimeout(function(){el.find(".scroll-panel").scrollPanel("update")},500))}})}function init(t){el=$(t.el),$.ajax({url:"http://v.baidu.com/i/taglist/?type=0&format=json&pn=0&id=0",dataType:"jsonp",crossDomain:!0,scriptCharset:"gb2312",success:function(t){if(t.data){wrap.empty();for(var n=t.data.data[0].subtag,a=0;a<n.length;a++)!function(t){setTimeout(function(){renderTagItem(t)},500)}(n[a])}}})}var el,tagItemTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="item">\n    <div class="logo">\n        <a target="_blank" href="'+(null==(__t=tag_info.url)?"":__t)+'" static="stp=yclogo"><img src="'+(null==(__t=tag_info.imgurl)?"":__t)+'"/><span>'+(null==(__t=tag_info.title)?"":__t)+'</span></a>\n    </div>\n    <ul class="videos">\n        ';for(var i=0;i<Math.min(video_num,2);i++){__p+="\n            ";var d=videos[i];__p+='\n            <li >\n                <span class="block">\n                    <span class="crop">\n                        <a href="'+(null==(__t=d.play_link)?"":__t)+'" title="'+(null==(__t=d.title)?"":__t)+'" target="_blank" static="to=play&stp=ycvd">\n                        <img src="'+(null==(__t=d.image_link)?"":__t)+'" alt="'+(null==(__t=d.title)?"":__t)+'" />\n                        <span class="s-extra2"></span>\n                        </a>\n                    </span>\n                    <span class="title">\n                        <a href="'+(null==(__t=d.play_link)?"":__t)+'" title="'+(null==(__t=d.title)?"":__t)+'" target="_blank" static="to=play&stp=ycvd">\n                        '+(null==(__t=$.string.widthstr(d.title,20))?"":__t)+"\n                        </a>\n                    </span>\n                </span>\n            </li>\n        "}__p+="\n    </ul>\n</div>"}return __p},wrap=$("#pgcVideoCont");exports.init=init});
;define("play:widget/videoList/recommend.js",function(require,exports,module){require("common:static/vendor/bootstrap/js/tab.js"),require("play:static/ui/scrollPanel/scrollPanel.js");var adDownTime,adUpTime,Base=require("common:static/ui/oo/klass.js"),ec=require("common:static/ui/eventcenter/eventcenter.js"),pgc=require("play:widget/videoList/pgc.js"),Recommend=Base.CC.sub({init:function(t){this.opt=t,this.cache=t.data,this.el=t.el,this.loading=$('<p class="loading">加载中...</p>'),this.el.find(".scroll-panel").append(this.loading),this.fetchData(this.proxy(this.render))},tpls:{videos:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var hasFolder="undefined"!=typeof flag_chapter?flag_chapter:!1;__p+='\n<ul class="videos">\n    ';var data=hasFolder?videos:[{videos:videos}];__p+="\n    ";for(var n=0;n<data.length;n++){__p+="\n        ",hasFolder&&(__p+='\n            <li class="folder ',n==current_index&&(__p+="cur folder-open"),__p+='">\n                <div class="cata-name">\n                    <span class="cata-tit" >'+(null==(__t=data[n].name)?"":__t)+'</span>\n                </div>\n                <ul class="sub-menu">\n        '),__p+="\n        ",playtxt="",__p+="\n        ";var currentIndex=current_index||0;__p+="\n        ";for(var i=0,items=data[n].videos,len=items.length;len>i;i++){__p+="\n            ";var d=items[i],classname="video-item";__p+="\n            ",url=d.url,__p+="\n            ",d.is_ad||(__p+="\n                ",-1==url.indexOf("?")&&(__p+="\n                    ",url+="?",__p+="\n                "),__p+="\n                ",d.recFrom&&(__p+="\n                    ",url+="&recFrom="+d.recFrom,__p+="\n                "),__p+="\n                ",i>0&&(__p+="\n                    ",url+="&list="+i,__p+="\n                "),__p+="\n            "),__p+="\n            ",d.is_ad&&currentIndex>=i&&currentIndex++,__p+="\n            ",currentIndex==i?(classname+=" current",playtxt="播放中"):"播放中"!=playtxt||d.is_ad?(__p+="\n                ",playtxt="",__p+="\n            "):(__p+="\n                ",playtxt="下一个",__p+="\n            "),__p+="\n\n            ",0==i?(__p+="\n                ",classname+=" first",__p+="\n            "):i==len-1&&(__p+="\n                  ",classname+=" last",__p+="\n            "),__p+="\n\n            ",d.is_ad&&(classname+=" ad"),__p+="\n\n            <li ",classname&&(__p+=' class="'+(null==(__t=classname)?"":__t)+'"'),__p+=" data-episode="+(null==(__t=d.eps||"")?"":__t)+' >\n                <span class="crop">\n                    <a  href="'+(null==(__t=url)?"":__t)+(null==(__t=urlappend?"&"+urlappend:"")?"":__t)+'" \n                        title="'+(null==(__t=d.title)?"":__t)+'" \n                        static="to=play&stp=po" \n                        ',d.is_ad&&(__p+='\n                        target="_blank" \n                        data-index="'+(null==(__t=i)?"":__t)+'"\n                        '),__p+=' \n                    >\n                        <img src="'+(null==(__t=d.imgh_url)?"":__t)+'" alt="'+(null==(__t=d.title)?"":__t)+'" />\n                        <span class="s-play"></span>\n                        <span class="s-mask"></span>\n                        ',d.duration&&(__p+='\n                            <span class="sp-duration">\n                                '+(null==(__t=d.duration)?"":__t)+"\n                            </span>\n                        "),__p+="\n                        ",d.is_ad&&(__p+='\n                            <span style="position: absolute; right: 0; bottom: 3px; background: rgb(81, 81, 81); opacity: 0.3; padding: 2px 3px; font-size: 12px; line-height: 12px; color: #fff; filter:alpha(opacity=30);">广告</span>\n                        '),__p+='\n                    </a>\n                </span>\n                <span class="title">\n                    <a  href="'+(null==(__t=url)?"":__t)+(null==(__t=urlappend?"&"+urlappend:"")?"":__t)+'" \n                        title="'+(null==(__t=d.title)?"":__t)+'"  \n                        static="to=play&stp=ti" \n                        ',d.is_ad&&(__p+='\n                        target="_blank" \n                        data-index="'+(null==(__t=i)?"":__t)+'"\n                        '),__p+=' \n                    >\n                        <p class="intro">\n                            '+(null==(__t=$.string.widthstr(d.title,strwidth))?"":__t)+"\n                        </p>\n                        ",d.play_num&&(__p+='\n                            <span class="num">\n                                ',playtxt&&(__p+='\n                                    <span class="s-status">\n                                        '+(null==(__t=playtxt)?"":__t)+"\n                                    </span>\n                                "),__p+='\n                                <i class="icon-play-cont"></i>'+(null==(__t=d.play_num)?"":__t)+"\n                            </span>\n                        "),__p+="\n                        \n                    </a>\n                </span>\n            </li>\n         "}__p+="\n         ",hasFolder&&(__p+="\n                </ul>\n             </li>\n         "),__p+="\n    "}__p+="\n</ul>"}return __p}},events:{"click .videos-folder-style":"folderClick","click .video-item.ad a":"adClick","mousedown .video-item.ad a":"adClickDown","mouseup .video-item.ad a":"adClickUp"},fetchData:function(){var t="http://v.baidu.com/short/recommend/?groupId="+this.opt.tplvars.groupId+"&streamId="+this.opt.tplvars.streamId,e=this;this.opt.ugc===!0?$.ajax({url:t,dataType:"jsonp",success:function(t){t&&t.videos&&t.videos.length&&(e.cache=t,setTimeout(function(){e.ugcRpSetting(t)},0)),e.render()}}):e.render()},htmlAdverAppend:function(){var t=this.$adHtml,e=t.find("img").attr("src"),n=t.find(".intro").html()||"";!t.length||e||n.match(/([^\s]+)/g)||(t.attr("id","adRight"),"hao123"==window.product_name?BAIDU_VIDEO_ADM_FILL_ASYC("hao123rightPlayList2","adRight"):BAIDU_VIDEO_ADM_FILL_ASYC("rightPlayList","adRight"))},render:function(){var t,e=this;this.dealNextListData(e.cache),e.cache.urlappend=e.opt.tplvars.urlappend,e.cache.strwidth=e.opt.tplvars.strwidth||16;var n="";n+=e.getTpl("videos")(e.cache),e.el.find(".episode-wp").eq(0).find("#videoListRoot").html(n),t=this.el.find(".scroll-panel");var a;try{a=$(".video-list-wrap .current")[0].offsetTop}catch(i){a=0}t.scrollPanel({scroll:$(".video-list-wrap .current")[0]?$(".video-list-wrap .current")[0].offsetTop:0}),ec.attach("dimension.change",function(){t.scrollPanel("update")}),this.setupNext(),this.loading.hide(),$.isArray(e.cache.videos)&&$.each(e.cache.videos,function(t,e){e.is_ad&&$.isArray(e.show)&&$.each(e.show,function(t,e){$.log(e)})}),e.$adHtml=$(".video-item.ad"),e.htmlAdverAppend(),e.adOnline=!1;for(var o="",r=0;r<e.cache.videos.length;r++)1===e.cache.videos[r].is_sdk&&(e.$adHtml.remove(),e.adOnline=r,o=e.cache.videos[r].ad_woks_id,e.getsdkLog(e.cache.videos[r].video_click));e.adOnline&&this.fetchAd(o,e.adOnline)},setupNext:function(){for(var t=this,e=this.cache.videos||[],n=this.cache.current_index,a=0;a<e.length;a++)if(n===a&&e[a+1]){var i=t.el.find(".episode-wp li .crop a").not('[target="_blank"]').eq(a+1).attr("href");return void ec.attach("global.playEnd",function(){if($(".player-section").removeClass("play-mode-vd"),$(".player-section").html('<div style="width: 100%; height: 100%; background:url(http://vs3.bdstatic.com/pc_static/common/loading_black.gif) center center no-repeat #151515"></div>'),__VIDEO_INFO_COLLECTION__.backadv){var e=function(t){if(!t)return 0;for(var e=t.split(":"),n=0,a=0,i=e.length;i>a;a++)n+=parseInt(e[a],10)*Math.pow(60,i-a-1);return n},n=e(__VIDEO_INFO_COLLECTION__.duration);$(".player-section").html('<div id="videoFrontAdvContianer" style="width:100%;height:100%;" class="bdv-video-player-contianer"></div>'),BAIDU_VIDEO_ADM_FILL_ASYC("PCbackvideo","videoFrontAdvContianer",null,{type:"videoAdv",onError:function(){clearTimeout(window.adAsyncTimeoutCheck),$(document).ready(function(){window.advPlayComplete()})},arguments:{duration:n}}),window.adAsyncTimeout=!1,clearTimeout(window.adAsyncTimeoutCheck),window.adAsyncTimeoutCheck=setTimeout(function(){$(document).ready(function(){window.advPlayComplete()}),window.adAsyncTimeout=!0},3e3)}window.advPlayComplete=function(){return $.cookie.set("autoloop",1),$.log("http://pc.videoclick.baidu.com/v.gif?pid=104&bl=vlist&stp=auto&"+encodeURI(t.opt.tplvars.log||"")),window.__setframeinfo__?void window.__setframeinfo__("url="+encodeURIComponent(i)):void(location.href=i)};var a=0,o=null;o=setInterval(function(){$("#videoFrontAdvContianer")[0]?clearInterval(o):a>2?(clearInterval(o),window.advPlayComplete()):a++},1e3)})}},getsdkLog:function(t){var t=t;this.sdkLog=t;var e=this.sdkLog.show;e&&$.log(e)},renderPGC:function(){var t=this;t.pgcInited?t.el.find(".scroll-panel").scrollPanel("update"):(t.pgcInited=!0,pgc.init({el:t.el}))},ugcRpSetting:function(){var t=["module=ugcrrshort"],e=location.href;t.push("exp="+this.cache.exp),t.push("rpid="+this.cache.rpid),t.push("rpinfo="+this.cache.rpinfo);var n=t.join("&"),a=this.el.attr("static")+"&"+n;this.el.attr("static",a),$.log(/corpsite/.test(e)?"http://pc.videoclick.baidu.com/p.gif?pid=104&tn=ugcrrshort&"+n+"&partner="+location.href.match(/corpsite/)[0]:"http://pc.videoclick.baidu.com/p.gif?pid=104&tn=ugcrrshort&"+n)},folderClick:function(t){var e=t.target;$(e).hasClass("cata-tit")&&($(e.parentNode.parentNode).toggleClass("folder-open"),this.el.find(".scroll-panel").scrollPanel("update"))},dealNextListData:function(t){var e,n,a=t.videos,i=t.current_index;if(!(a.length<2))for(var o=0,r=a.length;r>o;o++){if(n=a[o].play_num)if(n>1e4)try{a[o].play_num=(n/1e4).toFixed(1)+"万热力值"}catch(s){}else a[o].play_num=n+"热力值";r>1&&i===r-1&&i===o&&!a[o].is_ad&&(e=a[o],a[o]=a[o-1],a[o-1]=e,t.current_index=i-1)}},fetchAd:function(t,e){var t=t,n=e,a=this.hash(document.cookie+window.location.host),i="http://show.g.mediav.com/s?type=1&of=4&newf=1&showid="+t+"&uid="+a+"&reqtimes=1&impct=1",o=this;$.ajax({url:i,dataType:"jsonp",jsonp:"jsonp",success:function(e){if(e&&e.ads&&e.ads[0]){var a={is_ad:1,url:e.ads[0].curl,title:e.ads[0].title,imgh_url:e.ads[0].img,show:e.ads[0].imptk||[],click:e.ads[0].clktk||[]};a.show.push("http://yy.videoclick.baidu.com/third.gif?ref=360&terminal=pc&action=show&cid=1&impid="+t),a.click.push("http://yy.videoclick.baidu.com/third.gif?ref=360&terminal=pc&action=click&cid=1&impid="+t);var i='<li class="video-item ad">                        <span class="crop">                            <a href="'+a.url+'"                                title="'+a.title+'"                                static="to=play&stp=po"                                target="_blank"                                data-index="'+n+'"                            >                                <img src="'+a.imgh_url+'"/>                                <span class="s-play"></span>                                <span class="s-mask"></span>                                <span style="position: absolute; right: 0; bottom: 3px; background: rgb(81, 81, 81); opacity: 0.3; padding: 2px 3px; font-size: 12px; line-height: 12px; color: #fff; filter:alpha(opacity=30);">广告</span>                            </a>                        </span>                        <span class="title">                            <a href="'+a.url+'"                                title="'+a.title+'"                                static="to=play&stp=ti"                                target="_blank"                                data-index="'+n+'"                            >                                <p class="intro">'+$.string.widthstr(a.title,19)+"</p>                            </a>                        </span>                    </li>";$("#videoListRoot .video-item").eq(n-1).after(i),o.cache.videos&&o.cache.videos.splice(n,1,a),$.isArray(a.show)&&$.each(a.show,function(t,e){$.log(e)})}}})},hash:function(t){function e(t){var r=255&t,s=t>>8;n(function(t){var e=(t?a[t-1]:0)+a[t]+t+i+r;e+=(e/o).toFixed(9).slice(-3)-0,a[t]=255&e}),s>0&&e(s)}function n(t){for(var e=0;16>e;e++)t(e)}t+="";var a=new Array,i=t.length,o=Math.SQRT2.toFixed(9)-0;n(function(t){a[t]=0});for(var r=0;r<t.length;r++)e(t.charCodeAt(r));return n(function(t){a[t]=a[t].toString(16),a[t].length<2&&(a[t]="0"+a[t])}),a.reverse(),a.join("")},adClick:function(t){var t=t||window.event;t.preventDefault(),t.stopPropagation()},adClickDown:function(t){var t=t||window.event;t.preventDefault(),t.stopPropagation();var e=t.target||t.srcElement;"a"!==e.tagName.toLowerCase()&&(e=e.parentNode),"a"===e.tagName.toLowerCase()&&(adDownTime=(new Date).getTime())},adClickUp:function(t){var t=t||window.event,e=this;t.preventDefault(),t.stopPropagation();var n=t.target||t.srcElement;if("a"!==n.tagName.toLowerCase()&&(n=n.parentNode),"a"===n.tagName.toLowerCase()){adUpTime=(new Date).getTime();var a=n.href.replace(/__EVENT_TIME_START__/g,adDownTime);a=a.replace(/__EVENT_TIME_END__/g,adUpTime),a=a.replace(/__EVENT_SCREEN_X__/g,t.screenX),a=a.replace(/__EVENT_SCREEN_Y__/g,t.screenY),a=a.replace(/__EVENT_CLIENT_X__/g,t.clientX),a=a.replace(/__EVENT_CLIENT_Y__/g,t.clientY);var i=n.getAttribute("data-index");if(i&&this.cache.videos){var o=this.cache.videos[i];o&&$.isArray(o.click)&&$.each(o.click,function(e,n){n=n.replace(/__EVENT_TIME_START__/g,adDownTime),n=n.replace(/__EVENT_TIME_END__/g,adUpTime),n=n.replace(/__EVENT_SCREEN_X__/g,t.screenX),n=n.replace(/__EVENT_SCREEN_Y__/g,t.screenY),n=n.replace(/__EVENT_CLIENT_X__/g,t.clientX),n=n.replace(/__EVENT_CLIENT_Y__/g,t.clientY),$.log(n)}),$.log(e.sdkLog.click)}else{$.log(e.adVideoClick.click);var a=n.href}{var r=navigator.userAgent,s=r.indexOf("compatible")>-1&&r.indexOf("MSIE")>-1;r.indexOf("Edge")>-1&&!s,r.indexOf("Trident")>-1&&r.indexOf("rv:11.0")>-1}if(s){if(navigator.userAgent.indexOf("MSIE 8.0")>0&&!window.innerWidth);else if(1===t.button)return!1;var l;try{l=document.createElement('<a href="'+a+'" target="_blank"></a>')}catch(t){}l||(l=document.createElement("a"),l.setAttribute("href",a),l.setAttribute("target","_blank")),document.body.appendChild(l),l.click()}else{if(1===t.button)return!1;var l=document.createElement("a");l.href=a,l.target="_blank",window.open(l.href)}}}});module.exports=Recommend});
;define("play:widget/videoList/serial.js",function(require,exports,module){var ec=require("common:static/ui/eventcenter/eventcenter.js"),Base=require("common:static/ui/oo/klass.js"),Episode=require("play:static/ui/episodes.js"),intro=require("play:widget/intro/intro.js");require("play:static/ui/scrollPanel/scrollPanel.js");var _=Base._,types={22:"tv",26:"tvshow",43:"comic",21:"mv"},tpls={videos:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";var hasFolder="undefined"!=typeof flag_chapter?flag_chapter:!1;__p+='\n<ul class="videos">\n    ';var data=hasFolder?videos:[{videos:videos}];__p+="\n    ";for(var n=0;n<data.length;n++){__p+="\n        ",hasFolder&&(__p+='\n            <li class="folder ',n==current_index&&(__p+="cur folder-open"),__p+='">\n                <div class="cata-name">\n                    <span class="cata-tit" >'+(null==(__t=data[n].name)?"":__t)+'</span>\n                </div>\n                <ul class="sub-menu">\n        '),__p+="\n        ",playtxt="",__p+="\n        ";var currentIndex=current_index||0;__p+="\n        ";for(var i=0,items=data[n].videos,len=items.length;len>i;i++){__p+="\n            ";var d=items[i],classname="video-item";__p+="\n            ",url=d.url,__p+="\n            ",d.is_ad||(__p+="\n                ",-1==url.indexOf("?")&&(__p+="\n                    ",url+="?",__p+="\n                "),__p+="\n                ",d.recFrom&&(__p+="\n                    ",url+="&recFrom="+d.recFrom,__p+="\n                "),__p+="\n                ",i>0&&(__p+="\n                    ",url+="&list="+i,__p+="\n                "),__p+="\n            "),__p+="\n            ",d.is_ad&&currentIndex>=i&&currentIndex++,__p+="\n            ",currentIndex==i?(classname+=" current",playtxt="播放中"):"播放中"!=playtxt||d.is_ad?(__p+="\n                ",playtxt="",__p+="\n            "):(__p+="\n                ",playtxt="下一个",__p+="\n            "),__p+="\n\n            ",0==i?(__p+="\n                ",classname+=" first",__p+="\n            "):i==len-1&&(__p+="\n                  ",classname+=" last",__p+="\n            "),__p+="\n\n            ",d.is_ad&&(classname+=" ad"),__p+="\n\n            <li ",classname&&(__p+=' class="'+(null==(__t=classname)?"":__t)+'"'),__p+=" data-episode="+(null==(__t=d.eps||"")?"":__t)+' >\n                <span class="crop">\n                    <a  href="'+(null==(__t=url)?"":__t)+(null==(__t=urlappend?"&"+urlappend:"")?"":__t)+'" \n                        title="'+(null==(__t=d.title)?"":__t)+'" \n                        static="to=play&stp=po" \n                        ',d.is_ad&&(__p+='\n                        target="_blank" \n                        data-index="'+(null==(__t=i)?"":__t)+'"\n                        '),__p+=' \n                    >\n                        <img src="'+(null==(__t=d.imgh_url)?"":__t)+'" alt="'+(null==(__t=d.title)?"":__t)+'" />\n                        <span class="s-play"></span>\n                        <span class="s-mask"></span>\n                        ',d.duration&&(__p+='\n                            <span class="sp-duration">\n                                '+(null==(__t=d.duration)?"":__t)+"\n                            </span>\n                        "),__p+="\n                        ",d.is_ad&&(__p+='\n                            <span style="position: absolute; right: 0; bottom: 3px; background: rgb(81, 81, 81); opacity: 0.3; padding: 2px 3px; font-size: 12px; line-height: 12px; color: #fff; filter:alpha(opacity=30);">广告</span>\n                        '),__p+='\n                    </a>\n                </span>\n                <span class="title">\n                    <a  href="'+(null==(__t=url)?"":__t)+(null==(__t=urlappend?"&"+urlappend:"")?"":__t)+'" \n                        title="'+(null==(__t=d.title)?"":__t)+'"  \n                        static="to=play&stp=ti" \n                        ',d.is_ad&&(__p+='\n                        target="_blank" \n                        data-index="'+(null==(__t=i)?"":__t)+'"\n                        '),__p+=' \n                    >\n                        <p class="intro">\n                            '+(null==(__t=$.string.widthstr(d.title,strwidth))?"":__t)+"\n                        </p>\n                        ",d.play_num&&(__p+='\n                            <span class="num">\n                                ',playtxt&&(__p+='\n                                    <span class="s-status">\n                                        '+(null==(__t=playtxt)?"":__t)+"\n                                    </span>\n                                "),__p+='\n                                <i class="icon-play-cont"></i>'+(null==(__t=d.play_num)?"":__t)+"\n                            </span>\n                        "),__p+="\n                        \n                    </a>\n                </span>\n            </li>\n         "}__p+="\n         ",hasFolder&&(__p+="\n                </ul>\n             </li>\n         "),__p+="\n    "}__p+="\n</ul>"}return __p},sectionselect:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="section-select-wp">\n<ul>\n    ';for(var i=num;i>0;i--){var floor=(i-1)*section-1,ceil=Math.min(i*section,eps.length)-1;0>floor&&(floor=0),0>ceil&&(ceil=0),__p+="<li ",curep>=floor&&ceil>=curep&&(__p+=' class="active" '),__p+=' >\n        <a data-floor="'+(null==(__t=eps[floor].episode)?"":__t)+'" data-ceil="'+(null==(__t=eps[ceil].episode)?"":__t)+'" static="stp=ss&li='+(null==(__t=i)?"":__t)+'">'+(null==(__t=eps[ceil].episode)?"":__t)+"-"+(null==(__t=eps[floor].episode)?"":__t)+"</a>\n      </li>\n    "}__p+="\n</ul>\n</div>\n"}return __p}},Serial=Base.CC.sub({init:function(t){this.opt=t,this.el=$(t.el).eq(0),this.epsection=50,this.introInited=!1,"tvshow"===types[t.ty]&&this.opt.curep&&(this.curYear=this.opt.curep.substring(0,4)),this.params={id:t.id,type:types[t.ty],site:t.site,year:this.curYear||"",frp:t.frp},this.ep=new Episode({params:this.params}),this.ep.on("inited",this.proxy(this.render))},events:{"click .section-select-wp a":"onPickSection"},render:function(){this.el.find(".block-title .relate").eq(0).html("剧集列表"),this.el.find(".block-title .intro").eq(0).removeClass("hide"),this.renderContent(),this.setupNextVideo()},renderContent:function(){var t,e=this.ep.episodes[$.param(this.params)],n=this.el.find(".episode-wp").eq(0),s=this;e.curep=this.opt.curep,e.ty=types[this.opt.ty],e.episodes=e.episodes.sort(function(t,e){return parseInt(e.episode,10)-parseInt(t.episode,10)}),n.parent().addClass("custom-wrap-"+types[this.opt.ty]),n.html(tpls.videos(this.dataAdapt(e))),"tvshow"!==types[this.opt.ty]&&e.episodes.length>this.epsection&&n.addClass("keybord-style"),e.episodes.length>this.epsection&&this.renderTitleTab(e.episodes),t=this.el.find(".scroll-panel"),t.scrollPanel({scroll:$(".video-list-wrap .current")[0].offsetTop}),ec.attach("window:resize",function(){t.scrollPanel("update")}),$('.video-list-wrap a[data-toggle="tab"]').on("shown.bs.tab",function(e){t.scrollPanel("update"),"#episodeWrapCont"===$(e.target).attr("href")?$(".section-select-wp").show():($(".section-select-wp").hide(),s.renderIntro())})},renderTitleTab:function(t){var e=Math.ceil(parseInt(t.length/this.epsection,10)),n=tpls.sectionselect({num:e,curep:this.opt.curep,section:this.epsection,eps:t});$(n).appendTo(this.el.find(".block-title").eq(0)),this.el.find(".section-select-wp").hover(function(){$(this).addClass("section-select-hover")},function(){$(this).removeClass("section-select-hover")})},renderIntro:function(){var t=this;t.introInited?t.el.find(".scroll-panel").scrollPanel("update"):(t.introInited=!0,intro.init({id:t.opt.id,type:t.opt.ty,el:"#introWrapCont",words:300,callback:function(){t.el.find(".scroll-panel").scrollPanel("update")}}))},onPickSection:function(t){t.preventDefault(),this.el.find(".section-select-wp .active").removeClass("active"),$(t.target).parent().addClass("active");var e=$(t.target).data("ceil"),n=this.el.find(".scroll-panel"),s=this.el.find("[data-episode="+e+"]")[0].offsetTop;n.scrollPanel("scrollTo",s)},dataAdapt:function(t){for(var e={video_num:t.episodes.length,urlappend:this.opt.urlappend,strwidth:16,videos:[]},n=0,s=t.episodes;n<s.length;n++){s[n].episode===t.curep&&(e.current_index=n);var i={title:s[n].single_title,imgh_url:s[n].thumbnail,url:s[n].url,eps:s[n].episode};if("tvshow"===types[this.opt.ty]){var l=s[n].episode,a=l.match(/(\d{4})(\d{2})(\d{2})/);a&&(a.shift(),l=a.join("-")),i.duration=l}else i.duration=t.episodes.length>50?s[n].episode:"第"+s[n].episode+"集";e.videos.push(i)}return e},setupNextVideo:function(){var t=this,e=this.ep.episodes[$.param(this.params)].episodes,n=this.opt.curep,s="";e=_.sortBy(e,function(t){return parseInt(t.episode,10)});for(var i=0;i<e.length;i++)if(parseInt(e[i].episode,10)>parseInt(n,10)){s=e[i];break}if(s){var l=t.el.find(".episode-wp li[data-episode="+parseInt(s.episode,10)+"] a").eq(0).attr("href");l=l.replace(/^(http:)?\/\/[^\/]+\//,"/"),ec.attach("global.playEnd",function(){var e=location.host;return $.cookie.set("autoloop",1),$.log("http://pc.videoclick.baidu.com/v.gif?pid=104&bl=vlist&stp=auto&"+encodeURI(t.opt.log)),window.__setframeinfo__?void window.__setframeinfo__("url=http://"+e+encodeURIComponent(l)):void(location.href="http://"+e+l)})}}});module.exports=Serial});
;define("play:widget/windowRec/windowRec.js",function(require,exports,module){function edu(n){$.ajax({url:"http://v.baidu.com/commonapi/edu2level/?filter=true&parent="+encodeURIComponent(n.type),dataType:"jsonp",success:function(a){a&&a.data.video_show.videos.length>8&&wrap.html(eduTpl({value:a.data.video_show.videos,hiderec:n.hiderec,ishao123:n.ishao123,urlappend:n.urlappend,type:n.type})),skylightReady()}})}function baby(n){$.ajax({url:"http://list.video.baidu.com/babyShortrecommend.json",dataType:"jsonp",crossDomain:!0,scriptCharset:"gb2312",jsonpCallback:"babyShortrecommend",success:function(a){a.baby_show_song=a.baby_show_fiveOld.concat(a.baby_show_chineseClassics).concat(a.baby_show_englishSong),wrap.html(babyTpl({value:a,ishao123:n.ishao123,urlappend:n.urlappend,hiderec:n.hiderec})),skylightReady()}})}function insertAd(){window.BAIDU_VIDEO_ADM_FILL_ASYC("dubaplayPagegx","dubaplayPagegxPlace"),window.BAIDU_VIDEO_ADM_FILL_ASYC("dubaplayPagegx2","dubaplayPagegx2Place")}function short(n){getIp(function(a){$.ajax({url:"http://v.baidu.com/staticapi/indextodayhotblocks14.json",dataType:"jsonp",crossDomain:!0,jsonpCallback:"cbVideoAPIindexTodayHot",success:function(t){var i=[];$.each(t,function(n,t){var i=t.name,e=t.data;if(i&&e&&e.videos){var l=a[i];l&&(l.videos=e.videos,l.title=e.block_name||l.title,l.id=i)}}),$.each(a,function(n,a){a.videos&&a.videos.length&&!a.isHide&&i.push(a)}),wrap.html(shortTpl({value:i,urlappend:n.urlappend,hiderec:n.hiderec,defaultImg:defaultImage})).find(".nav-tabs li").mouseenter(function(){$(this).hasClass("block-tab")||(wrap.find(".active").removeClass("active"),wrap.find("."+$(this).attr("tab-for")).addClass("active"),$(this).addClass("active"))}),insertAd(),skylightReady()}}),"function"!=typeof BAIDU_SS_HHRUN?$.getScript("http://su.bdimg.com/static/dspui/js/ls.js?v="+~(-new Date/56e7)):BAIDU_SS_HHRUN()})}function getIp(n){var a=location.search.substr(1).match(/ip=(\d{1,3}\.){3}(\d{1,3}){1}/g),t={ip:a&&a[0]&&a[0].split("=")[1]}||{};$.ajax({url:"http://v.baidu.com/kan/api/ipLocation",dataType:"jsonp",crossDomain:!0,jsonpCallback:"jkfd",data:t,success:function(a){"北京"===a.data.city||"上海"===a.data.city||"广州"===a.data.city||"深圳"===a.data.city?(defaultTabs.index_show_mini_info.isHide=!0,defaultTabs.index_show_mini_law.isHide=!0,defaultTabs.index_show_seek_novelty.isHide=!0):(defaultTabs.index_show_mini_info.isHide=!0,defaultTabs.index_show_mini_law.isHide=!0,defaultTabs.index_show_seek_novelty.isHide=!1),n(defaultTabs)}})}function skylightReady(){$(window).data("isSkylightReady",!0).trigger("skylight:ready")}var wrap,linkUrl,defaultTabs,eduTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="",!hiderec){__p+='\n<div class="hd"><h2>'+(null==(__t=type)?"":__t)+'热门课程</h2></div>\n<div class="tab-content">\n    <div class="tab-pane active">\n        <ul static="site=edu&from=eduplay&bl=eduBottom">\n            ';for(var j=0;10>j;j++){var videos=value[j];if(!videos)return;__p+="\n                <li ",j>7&&(__p+='class="sub-item"'),__p+=" >\n                ",urlappend&&(/fr=(.+\/)/.test(videos.play_url)?videos.play_url=videos.play_url.replace(/fr=(.+\/)/,urlappend):videos.play_url+=-1==videos.play_url.indexOf("?")?"?"+urlappend:"&"+urlappend),__p+='\n                    <a class="view-box" href="'+(null==(__t=videos.play_url)?"":__t)+'" target="_blank" title="'+(null==(__t=videos.name)?"":__t)+'" static="no='+(null==(__t=j+1)?"":__t)+'&to=play">\n                        <span class="view">\n                            <img src="'+(null==(__t=videos.horizontal_poster)?"":__t)+'" class="img"/>\n                            <span class="s-mask"></span>\n                            <span class="s-play"></span>\n                            <span class="info-bg"></span>\n                            <span class="info">'+(null==(__t=videos.video_number)?"":__t)+'课时</span>\n                        </span>\n                        <span class="title">'+(null==(__t=videos.name)?"":__t)+"</span>\n                    </a>\n                </li>\n            "}__p+="\n        </ul>\n    </div>\n</div>\n"}__p+="\n"}return __p},babyTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){if(__p+="",!hiderec){__p+="\n";for(var i=0;1>i;i++){var item,contentTitle;0==i?(item=value.baby_show_song,contentTitle="儿歌"):1==i&&(item=value.baby_story_sleep,contentTitle="故事"),__p+='\n    <div class="hd"><h2>'+(null==(__t=contentTitle)?"":__t)+'</h2></div>\n    <div class="tab-content">\n        <div class="tab-pane active">\n            <ul static="site=baby&from=babyplay&bl=babyBottom">\n                ';for(var j=0;j<Math.min(10,item.length);j++){var videos=item[j];if(!videos)return;__p+="\n                    <li ",j>7&&(__p+='class="sub-item"'),__p+=" >\n                        ",urlappend&&(/fr=(.+\/)/.test(videos.url)?videos.url=videos.url.replace(/fr=(.+\/)/,urlappend):videos.url+=-1==videos.url.indexOf("?")?"?"+urlappend:"&"+urlappend),__p+='\n                        <a class="view-box" href="'+(null==(__t=videos.url)?"":__t)+'" target="_blank" title="'+(null==(__t=videos.title)?"":__t)+'" static="&no='+(null==(__t=j+1)?"":__t)+'&to=play">\n                            <span class="view">\n                                <img src="'+(null==(__t=videos.imgh)?"":__t)+'" class="img"/>\n                                <span class="s-mask"></span>\n                                <span class="s-play"></span>\n                            </span>\n                            <span class="title">'+(null==(__t=videos.title)?"":__t)+"</span>\n                        </a>\n                    </li>\n                "}__p+="\n            </ul>\n        </div>\n    </div>\n    "}__p+="\n"}__p+="\n"}return __p},shortTpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{})__p+="",hiderec||(__p+='\n    <div class="hd">\n        <h3>精彩视频</h3>\n        ',disableMore=urlappend&&-1!=urlappend.indexOf("duba.com")?!0:!1,__p+="\n        ",moreLink=urlappend&&-1!=urlappend.indexOf("hao123.com")?"http://v.hao123.baidu.com/square/":"http://v.baidu.com/square/",__p+='\n        <ul class="nav nav-tabs">\n            ',$.each(value,function(n,a){__p+="\n                ",a.videos&&a.videos.length&&(__p+='\n                    <li tab-for="tab-'+(null==(__t=n)?"":__t)+'" ',0===n&&(__p+='class="active"'),__p+=' >\n                        <a class="tab"\n                        ',a.link&&(__p+=' href="'+(null==(__t=a.link)?"":__t)+'"'),__p+='\n                        target="_blank"\n                        static="bl=dajia&ext=tab">\n                            '+(null==(__t=a.title)?"":__t)+"\n                        </a>\n                    </li>\n                "),__p+="\n            "}),__p+="\n            ",disableMore||(__p+='\n                <li class="block-tab">\n                    <a  href="'+(null==(__t=moreLink)?"":__t)+'"\n                        target="_blank"\n                        static="ext=more"\n                        class="tab a-more">\n                        更多<i class="i-more"></i>\n                    </a>\n                </li>\n            '),__p+='\n        </ul>\n    </div>\n    <div id="dubaplayPagegxPlace"></div>\n    <div id="dubaplayPagegx2Place"></div>\n    <div class="tab-content">\n        ',$.each(value,function(n,a){__p+="\n            ",a.videos&&a.videos.length&&(__p+='\n                <div class="tab-pane tab-'+(null==(__t=n)?"":__t)+"  ",0==n&&(__p+=" active "),__p+="\">\n                    <ul class='ul-item-alllike'>\n                        ",$.each(a.videos,function(t,i){__p+="\n                            ",urlappend&&(/fr=(.+\/)/.test(i.url)?i.url=i.url.replace(/fr=(.+\/)/,urlappend):i.url+=-1==i.url.indexOf("?")?"?"+urlappend:"&"+urlappend),__p+="\n                            ",15>t&&(__p+="\n                            ",i.title=i.title.replace(/<\/?[^>]+>/g,""),__p+="\n                            <li class='li-video-alllike'\n                                ",2==t?__p+='\n                                id="dubaplayPagegx'+(null==(__t=n)?"":__t)+'"\n                                ':9==t&&(__p+='\n                                id="dubaplayPagegx2'+(null==(__t=n)?"":__t)+'"\n                                '),__p+='\n                            >\n                                <a class="view-box" href="'+(null==(__t=i.url)?"":__t)+'" target="_blank" title="'+(null==(__t=i.title)?"":__t)+'" static="bl=dajia&stp='+(null==(__t=a.id)?"":__t)+"&no="+(null==(__t=t+1)?"":__t)+'&to=play">\n                                    <span class="view">\n                                        <img src="'+(null==(__t=i.imgh_url)?"":__t)+'" class="img" onerror="this.src=\''+(null==(__t=defaultImg)?"":__t)+'\';this.onerror=null;">\n                                        <!-- <span class="s-mask"></span> -->\n                                        <span class="s-play"></span>\n                                        <!-- <span class="s-duration">'+(null==(__t=i.duration)?"":__t)+'</span> -->\n                                    </span>\n                                    <span class="title">'+(null==(__t=$.string.widthstr(i.title,21))?"":__t)+"</span>\n                                </a>\n                            </li>\n                            "),__p+="\n                        "}),__p+="\n                    </ul>\n                </div>\n            "),__p+="\n        "}),__p+="\n    </div>\n"),__p+="";return __p},defaultImage="http://video-static.xdcdn.xiaodutv.com/browse_static/v3/play/page/default_preview_60f5938.jpg";module.exports=function(n){var a=n.contype;linkUrl=n.isDuba?"duba":"baidu",defaultTabs={index_show_mini_info:{title:"社会",link:"http://v."+linkUrl+".com/channel/society"},index_show_mini_comic:{title:"搞笑",link:"http://v."+linkUrl+".com/channel/amuse"},index_show_mini_playlet:{title:"明星",link:"http://v."+linkUrl+".com/channel/star"},index_show_mini_drama:{title:"相声小品",link:"http://v."+linkUrl+".com/channel/xiaopin"},index_show_mini_sport:{title:"体育",link:"http://v."+linkUrl+".com/channel/short/tiyu"},index_show_mini_music:{title:"音乐",link:"http://v."+linkUrl+".com/channel/music"},index_show_history_truth:{title:"揭秘",link:"http://v."+linkUrl+".com/channel/history"},index_show_seek_novelty:{title:"猎奇",link:"http://v."+linkUrl+".com/channel/lieqi"},index_show_documentary:{title:"纪录片",link:""},index_show_mini_law:{title:"法制",link:"http://v."+linkUrl+".com/channel/law"}},wrap=$(n.wrap),"edu"===a?edu(n):"baby"===a?baby(n):("baishi"===a||"short"===a||"yingshi"===a)&&short(n)}});