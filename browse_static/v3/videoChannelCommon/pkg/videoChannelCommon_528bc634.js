define("videoChannelCommon:static/ui/carousel/carousel.js",function(t,i,o){var n=t("common:static/vendor/jquery/jquery.js"),s=t("common:static/vendor/underscore/underscore.js"),e=t("common:static/ui/oo/klass.js"),r=t("common:static/ui/eventcenter/eventcenter.js"),l=e.Klass.extend({init:function(t,i){var o=this.$container=n(t),e=this.$list=o.find(".carousel-list"),r=this.$items=e.find("> .carousel-item");if(this.$control=o.find(".control-carousel"),this.$previewer=o.find(".carousel-previewer > li"),r.length||(r=this.$items=e.find("> li")),!o.length)throw new Error("Carousel: ID为 "+t+" 的DOM节点不存在");if(!e.length)throw new Error("Carousel: ID为 "+t+" 的容器里未包含.carousel-list");if(!r.length)throw new Error("Carousel: ID为 "+t+" 的容器里未包含.carousel-list > .carousel-item");this.options=s.extend({duration:300,autoScroll:{enable:!1,interval:1e3},isLoop:!1,isLoopCool:!1},i),this.options.autoScroll&&this.options.autoScroll.enable||this.$previewer.length?this.initAll():this.delayInit()},initAll:function(){this.isinit||(this.isinit=!0,this.initCore(),this.$control.length&&this.initControl(),this.$previewer.length&&this.initPreviewer(),this.options.isLoop&&this.initLoop(),this.options.autoScroll&&this.options.autoScroll.enable&&this.initAutoScroll())},delayInit:function(){function t(){o.isinit?i():o.initAll()}function i(){for(var i=0,o=n.length;o>i;i++){var s=n[i];s[0].off(s[1],t)}}var o=this,n=[];this.$control.length&&(n.push([this.$control,"mouseover"]),this.$control.on("mouseover",t))},initCore:function(){var t=this.$container.innerWidth(),i=0,o=0;this.$items.each(function(s,e){var r=n(e),l=r.outerWidth();i+=l,t>=o+l&&(o+=l)}),this.data={current:0,pos:0,conWidth:t,unitWidth:o,totalWidth:i,totalUnit:Math.ceil(i/(o||1)),maxScroll:i-t},this.$list.width(i).css("margin-right",0)},initControl:function(){var t=this,i=this.data,o=this.$control;o.find(".next").unbind("click").click(function(i){i.preventDefault(),t.toNext()}),o.find(".prev").unbind("click").click(function(i){i.preventDefault(),t.toPrev()}),this.options.isLoop||this.on("scrollend",function(t){0===t.old?o.removeClass("control-carousel-disable-prev"):t.old+1===i.totalUnit&&o.removeClass("control-carousel-disable-next"),0===t.current?o.addClass("control-carousel-disable-prev"):t.current+1===i.totalUnit&&o.addClass("control-carousel-disable-next")})},initPreviewer:function(){function t(t){s&&o.current>=o.totalUnit/2&&(t+=o.totalUnit/2),t!==i.data.current&&i.switchTo(t)}var i=this,o=this.data,s=this.options.isLoop,e=this.$previewer,r=null;e.each(function(i,o){n(o).hover(function(){r=setTimeout(function(){t(i)},200)},function(){clearTimeout(r)})}),this.on("scrollstart",function(t){e.eq(t.current).removeClass("selected"),e.eq(t.target).addClass("selected")})},initLoop:function(){var t=this.data,i=t.totalWidth,o=t.totalUnit;t.totalWidth=2*i,t.totalUnit=2*o,t.maxScroll=t.totalWidth-t.conWidth,t.pos=-i,t.current=o,this.$list.prepend(this.$items.clone()).width(t.totalWidth).css("margin-left",t.pos)},initAutoScroll:function(){var t=this,i=this.options.autoScroll.interval;this.on("scrollstart",function(){clearTimeout(t.timer)}),this.on("scrollend",function(){t.timer=setTimeout(function(){t.toNext()},i)}),this.timer=setTimeout(function(){t.toNext()},i)},switchTo:function(t){if(!this.scrolling&&t!==this.data.current){var i=this,o=this.data,n=o.current,s=this.count(t),e=i.options.isLoop?s.target<0?s.target+o.totalUnit/2:s.target>=o.totalUnit/2?s.target-o.totalUnit/2:s.target:s.target,l=i.options.isLoop?n<o.totalUnit/2?n:n-o.totalUnit/2:n;this.options.isLoop&&this.loopHandle(t),this.trigger("scrollstart",{current:i.options.isLoop&&n>=o.totalUnit/2?n-o.totalUnit:n,target:e}),this.scrolling=!0,this.$list.animate({"margin-left":s.pos},o.duration,function(){i.scrolling=!1,o.current=s.target,o.pos=s.pos,i.trigger("scrollend",{old:l,current:e,position:s.pos})}),r.trigger("lazyLoad.check")}},count:function(t){var i,o,n=this.data,s=n.totalUnit;return i=this.options.isLoop?this.options.isLoopCool?1>t?t+s/2:t>=s-1?s/2-1:t:0>t?t+s/2:t>=s?s/2:t:0>t?0:t>=s?s-1:t,o=n.unitWidth*i,o>n.maxScroll&&(o=n.maxScroll),{target:i,pos:-o}},loopHandle:function(t){var i=this.data;this.options.isLoopCool?1>t?this.$list.css("margin-left",-(i.unitWidth*(i.totalUnit/2+1))):t>=i.totalUnit-1&&this.$list.css("margin-left",-(i.unitWidth*(i.totalUnit/2-2))):0>t?this.$list.css("margin-left",-(i.totalWidth/2)):t>=i.totalUnit&&this.$list.css("margin-left",-(i.unitWidth*(i.totalUnit/2-1)))},toNext:function(){this.switchTo(this.data.current+1)},toPrev:function(){this.switchTo(this.data.current-1)}});o.exports=function(t,i){return new l(t,i)}});
;define("videoChannelCommon:static/ui/hovervideo/hovervideo.js",function(e,o,i){var n=e("common:static/vendor/jquery/jquery.js");i.exports=o=function(e){var o=n("#"+e+" li"),i=0;o.each(function(e,t){n(t).mouseover(function(){e!==i&&(o.eq(i).removeClass("active"),n(this).addClass("active"),i=e)})})}});
;define("videoChannelCommon:static/ui/shieldIe/shieldIe.js",function(e,i,n){n.exports=function(){var e=!!window.ActiveXObject||"ActiveXObject"in window;e&&$("#block_see_foreign").css({display:"none"})}});
;define("videoChannelCommon:static/ui/slideshow/slideshow.js",function(t,s,i){!function(t,s){"use strict";function e(s,i){return this.target=s,this.$target=t(s),this.opts=t.extend({},o,i,this.$target.data()),this.$carousel=this.$target.children(this.opts.carousel),this.$items=this.$carousel.children(this.opts.items),this.count=this.$items.length,this.scrollable=!0,this.count>1&&this._init(),this}var o={carousel:".carousel",items:".slide",slideWidth:!1,jumpQueue:!0,offset:1,skip:!0,pagination:!0,auto:6e3,autostop:!0,hoverPause:!1,loop:!1,nextText:"Next",previousText:"Previous",transition:"scroll",speed:600,easing:"swing",visible:1,onupdate:null,oncomplete:null};e.prototype._init=function(){var s=this;if(this.$wrapper=this.$carousel.wrap('<div style="position:relative;overflow:hidden;">').parent(),this.opts.pagination){this.$pagination=t('<ul class="slides-pagination">');for(var i=0,e=this.count;e>i;i++)this.$pagination.append('<li><a href="#" data-slides="'+i+'">'+(i+1)+"</a></li>");this.$target.append(this.$pagination)}this.opts.skip&&(this.$prev=t('<a href="#" class="slides-prev" data-slides="previous">'+this.opts.previousText+"</a>"),this.$next=t('<a href="#" class="slides-next" data-slides="next">'+this.opts.nextText+"</a>"),this.$target.append(this.$next,this.$prev)),(this.opts.pagination||this.opts.skip)&&this.$target.on("click.slides","[data-slides]",function(i){var e=t(this);i.preventDefault(),e.hasClass("disabled")||s.to(e.data("slides"),!0)}),this.redraw(),this.opts.auto&&(this.opts.hoverPause&&this.$target.hover(function(){s.stopped||s.pause()},function(){s.paused&&s.play()}),this.play())},e.prototype._oncomplete=function(){var t=this.current;this.current=this.future,this.opts.pagination&&this.$pagination.children().removeClass("selected").slice(this.current,this.current+this.opts.visible).addClass("selected"),this.opts.skip&&(this.hasNext()||this.opts.loop?this.$next.removeClass("disabled"):this.$next.addClass("disabled"),this.hasPrevious()||this.opts.loop?this.$prev.removeClass("disabled"):this.$prev.addClass("disabled")),this.opts.oncomplete&&this._handleCallback(this.opts.oncomplete,[this.current,t])},e.prototype._handleCallback=function(t,s){t="string"==typeof t?window[t]:t,t.call&&t.apply(this,s)},e.prototype.hasNext=function(){return this.scrollable&&this.current<this.count-1},e.prototype.hasPrevious=function(){return this.current>0},e.prototype.next=function(){this.to(this.current+1)},e.prototype.previous=function(){this.to(this.current-1)},e.prototype.to=function(t,s){if(this.opts.jumpQueue)this.$items.stop(!0,!0);else if(this.$items.queue("fx").length)return;"next"===t?t=this.current+1:"previous"===t&&(t=this.current-1),"number"!=typeof t&&(t=parseInt(t,10)),t>=this.count?t=this.opts.loop?0:this.count-1:0>t&&(t=this.opts.loop?this.count-1:0),s&&!this.stopped&&(this.opts.autostop?this.stop():this.paused||this.play()),t!==this.current&&(this.future=t,this.transition.execute.call(this),this.opts.onupdate&&this._handleCallback(this.opts.onupdate,[t]))},e.prototype.redraw=function(t){this.transition&&this.transition.teardown.call(this),t&&(this.opts.transition=t),this.current=s,this.transition=this.transitions[this.opts.transition].call(this),this.to(this.opts.offset-1)},e.prototype.play=function(){var t=this;clearInterval(this.timeout),this.paused=this.stopped=!1,this.timeout=setInterval(function(){t.to("next")},this.opts.auto)},e.prototype.pause=function(){this.paused=!0,clearInterval(this.timeout)},e.prototype.stop=function(){this.stopped=!0,this.paused=!1,clearInterval(this.timeout)},e.prototype.transitions={crossfade:function(){var t=this;return this.$items.filter(function(s){return s!==t.opts.offset-1}).css("display","none"),this.execute=function(){var s=this.$items.eq(this.future),i=s.find("img.huge"),e=i&&i.attr("data-src")||!1;i.length>0&&e&&(i.attr("src",e),i.removeAttr("data-src"));var o=this.$items.eq(this.current).css({position:"absolute",left:0,top:0});s.fadeIn(this.opts.speed,this.opts.easing,function(){t._oncomplete.call(t)}),o.fadeOut(this.opts.speed,this.opts.easing,function(){o.css("position","")})},this.teardown=function(){this.$items.stop(!0,!0).removeAttr("style")},this},scroll:function(){var t=this,s=0;this.$items.css({"float":"left",width:this.opts.slideWidth});for(var i=0;i<this.count;i++)s+=this.$items.eq(i).outerWidth(!0);return this.$carousel.css({minWidth:s}),this.execute=function(){var s=this.$items.eq(this.future).position().left+this.$wrapper.scrollLeft(),i=this.$carousel.width()-this.$wrapper.width(),e=s>=i;(!e||this.scrollable)&&this.$wrapper.animate({scrollLeft:e?i:s},this.opts.speed,this.opts.easing,function(){t._oncomplete.call(t)}),this.scrollable=!e},this.teardown=function(){this.scrollable=!0,this.$items.removeAttr("style"),this.$carousel.stop(!0,!0).removeAttr("style")},this}},t.fn.slides=function(s){return this.each(function(){t.data(this,"slides")||t.data(this,"slides",new e(this,s))})},"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof i&&i.exports&&(i.exports=e)}(jQuery)});
;define("videoChannelCommon:static/ui/tab/tab.js",function(t,e,a){var i=t("common:static/vendor/jquery/jquery.js"),n=t("common:static/vendor/underscore/underscore.js"),s=t("common:static/ui/oo/klass.js"),o=s.Klass.extend({init:function(t,e){var a=this.$container=i(t),s=this.$titles=a.find(".tab-title > li"),o=this.$items=a.find(".tab-body > .tab-item");if(!a.length)throw new Error("Tab: ID为 "+t+" 的DOM节点不存在");if(s.length!==o.length)throw new Error("Tab: ID为 "+t+" 的标签和内容区块的数量不一致");this.options=n.extend({index:0,eventType:"mouseover",preventDefault:!0,ajax:{}},e),this.current=this.options.index,this.bind()},bind:function(){function t(t){t!==e.current&&e.switchTo(t)}var e=this,a=this.options.eventType,n=this.options.preventDefault,s=null;this.$titles.each(function(e,o){"mouseover"===a?i(o).hover(function(){s=setTimeout(function(){t(e)},200)},function(){clearTimeout(s)}):i(o).on(a,function(a){n&&a.preventDefault(),t(e)})})},switchTo:function(t){var e=this.current,a=this.$titles.eq(t),i=this.$items.eq(t);this.$titles.eq(e).removeClass("selected"),a.addClass("selected"),this.$items.eq(e).removeClass("selected"),i.addClass("selected"),this.current=t,i.data("loaded")||(i.attr("data-api")?this.loadData(i):this.lazyload(i)),this.trigger("change",{index:t,title:a,item:i})},lazyload:function(t){var e=t.find("> textarea.lazyload");e.length||(e=t.find("> div > textarea.lazyload")),e.length&&t.html(e.val()),t.data("loaded",!0)},loadData:function(t){if(!t.data("loading")){t.data("loading",!0);var e=t.attr("data-api"),a=t.attr("data-type")||"json",s=t.attr("data-callback")||!1;if(!/^https*:\/\//.test(e)){var o=this.options.ajax.baseurl;o&&(e=o+(o.indexOf("?")<0?"?":"&")+e)}t.addClass("loading"),i.ajax({url:e,dataType:a,jsonpCallback:s,success:function(e){if("html"!==a){var s=(i("#"+t.attr("data-tpl"))||t.find('> script[type="text/tpl"]')).html();e=s.length?n.template(s,{data:e}):""}var o=t.find(".tab-item-load");o.length?o.append(e):t.append(e),t.removeClass("loading").data("loaded",!0)}})}}});a.exports=function(t,e){return new o(t,e)}});
;define("videoChannelCommon:static/ui/videosCollection/videosCollection.js",function(t,e,n){var i=t("common:static/vendor/jquery/jquery.js"),o=t("common:static/ui/oo/klass.js"),s=o.Klass.extend({init:function(t,e){{var n=this.$container=i(t);this.$item=n.find(".mod-collection-body > .coll-item")}if(!n.length)throw new Error("Tab: ID为 "+t+" 的DOM节点不存在");this.options=i.extend({index:0,eventType:"mouseover",preventDefault:!0},e),this.current=this.options.index,this.bind()},bind:function(){function t(t){t!==e.current&&e.switchTo(t)}var e=this,n=this.options.eventType,o=this.options.preventDefault;this.$item.each(function(e,s){"mouseover"===n?i(s).on(n,function(){t(e)}):i(s).on(n,function(n){o&&n.preventDefault(),t(e)})})},switchTo:function(t){var e=this,n=this.current,i=this.$item.eq(t);window.Collectiontimer&&clearTimeout(window.Collectiontimer),window.Collectiontimer=setTimeout(function(){e.$item.eq(n).removeClass("current"),i.addClass("current"),e.current=t},50)}});n.exports=function(t,e){return new s(t,e)}});
;define("videoChannelCommon:widget/actorWorks/actorWorks.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),_=Base._,ActorWorks=Base.CC.sub({init:function(e){this.opt=e,this.frameIndex=0,this.scrollSize=6,this.el=e.domId,this.$el=$(e.domId),this.type=e.type,this.url="http://v.baidu.com/person_intro/?dtype=saleworks&service=json&pn=1&ps=12&wt="+e.type+"&id=",this.initDefaultPersion(),this.$fetchLoading=this.$el.find(".fetch-loading")},tpls:{list:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='<div class="d-video-item video-actorWorks " data-personid="'+(null==(__t=personid)?"":__t)+'">\n	<div class="d-video-wrap">\n		',videos.length>6&&(__p+='\n	    <div class="d-video-left hide">\n	        <a class="i-arrow i-scroll-left" static="stp='+(null==(__t=personid)?"":__t)+'&ext=left"></a>\n	    </div>\n	    '),__p+='\n		<ul class="video-items" static="stp='+(null==(__t=personid)?"":__t)+'">\n			';for(var i=0;i<videos.length;i++){__p+="\n		        ";var video=videos[i];__p+="\n				";var workBrief;if(__p+="\n		        ","tvplay"===type)__p+="\n					",workBrief=video.episodeBrief||"",__p+="\n		        ";else if("movie"===type)__p+="\n					",workBrief=video.net_show_time||"",__p+="\n		        ";else if("show"===type){__p+="\n					",workBrief=video.episode||"";var arr=workBrief.match(/\d{2}/g).slice(2,4);arr.unshift(workBrief.match(/\d{4}/g)[0]),workBrief=arr.join("-"),__p+="\n				"}__p+="\n\n		        ";var marginClass=i%6===5?"noMargin":"";if(__p+="\n		        ",i>=limit)break;__p+='\n		        <li class="li-video-item '+(null==(__t=marginClass)?"":__t)+"\">\n		            <a href='"+(null==(__t=video.link)?"":__t)+"' target='_blank' title='"+(null==(__t=video.title)?"":__t)+'\' class="a-video-item" static="ext='+(null==(__t=i)?"":__t)+"\">\n		                <img class='video-cover' src=\""+(null==(__t=video.thumbnail||video.big_poster||video.poster)?"":__t)+'" alt="'+(null==(__t=video.title)?"":__t)+'" />\n		                <i class="i-play-video"></i>\n		                <span class="duration">'+(null==(__t=workBrief)?"":__t)+'</span>\n		                <span class="img-mask"></span>\n		            </a>\n		            <a href=\''+(null==(__t=video.link)?"":__t)+"' target='_blank' title='"+(null==(__t=video.title)?"":__t)+'\' class="a-video-item word-link" static="ext='+(null==(__t=i)?"":__t)+"\">\n		                <p class='video-sub-title'>\n		                    "+(null==(__t=video.title)?"":__t),"movie"==type&&video.rating&&"0.0"!=video.rating&&(__p+='<span class="score">'+(null==(__t=video.rating)?"":__t)+"</span>"),__p+="\n		                </p>\n		                ","show"===type&&(__p+='\n		                <p class="sub-title-brief">\n							'+(null==(__t=video.single_title)?"":__t)+"\n						</p>\n		                "),__p+="\n\n		            </a>\n		        </li>\n			"}__p+="\n			",videos.length||(__p+='\n			<li class="li-works-none">暂无数据</li>\n			'),__p+="\n		</ul>\n		",videos.length>6&&(__p+='\n	    <div class="d-video-right">\n	        <a class="i-arrow i-scroll-right" static="stp='+(null==(__t=personid)?"":__t)+'&ext=right"></a>\n	    </div>\n	    '),__p+="\n	</div>\n</div>\n"}return __p}},events:{"mouseover .li-actor-item":"showActorWorks","mouseleave .li-actor-item":"clearTimeHandler","click .d-video-right, .d-video-left":"scrollLandscape"},initDefaultPersion:function(){var e=$(this.$el.prev().find(".li-actor-item")[0]).data("personid");e?this.fetchData(e):this.$el.parent().addClass("hide")},showActorWorks:function(e){var i=this,t=$(e.target).parents(".li-actor-item "),s=t.data("personid");clearTimeout(i.timer),i.timer=setTimeout(function(){if(!t.hasClass("actor-active")){t.addClass("actor-active").siblings().removeClass("actor-active");var e=i.$el.find("[data-personid]");i.hide(e);var n=e.filter("[data-personid="+s+"]");0===n.length?(i.$fetchLoading.addClass("Hmin250"),i.fetchData(s)):i.show(n)}},100)},show:function(e){e.addClass("video-show"),setTimeout(function(){e.addClass("video-opa1")},50)},hide:function(e){e.removeClass("video-opa1"),e.removeClass("video-show")},clearTimeHandler:function(){clearTimeout(this.timer)},render:function(e,i){e.length<12&&(e=e.splice(0,6));var t=this.tpls.list({type:this.type,personid:i,videos:e,limit:this.opt.limit||6}),s=$(t);this.$el.append(s),this.show(s)},fetchData:function(e){var i=this;i.$el.append(i.$fetchLoading),$.ajax({url:this.url+e,dataType:"jsonp",success:function(t){i.$fetchLoading.remove(),i.dataAdapter(t,e)},error:function(){i.$fetchLoading.remove()}})},dataAdapter:function(e,i){var t=this,s=[],n=e[t.type],o=function(e,i){e.type=i,e.rating=(window.parseInt(+e.rating)/10).toFixed(1),e.cur_episode&&e.max_episode&&(Number(e.max_episode)===Number(e.cur_episode)?e.episodeBrief="全"+e.max_episode+"集":Number(e.max_episode)>e.cur_episode&&(e.episodeBrief="更新至"+e.cur_episode+"集")),e.link=e.works_id?"/"+i+"/"+e.works_id+".html?frp=search":"/v?ie=utf-8&word="+e.title,s.push(e)};n=n.list.reverse(),_.each(e,function(e){var i=e.type;_.each(e.list,function(e){o(e,i)})}),_.each(n,function(e){var i,t=_.find(s,function(t,s){return i=s,t.works_id===e.works_id});t&&(s.splice(i,1),s.unshift(t))}),this.render(s,i)},scrollLandscape:function(e){var i=$(e.target),t=i.parents(".d-video-wrap"),s=t.find(".d-video-left"),n=t.find(".d-video-right"),o=t.find(".li-video-item").css("margin-left",0),a=Math.ceil(o.length/this.scrollSize)-1;i.hasClass("i-scroll-right")?this.frameIndex++:this.frameIndex--,this.frameIndex<=0?(this.frameIndex=0,s.addClass("hide"),1===a&&n.removeClass("hide")):this.frameIndex>=a?(this.frameIndex=a,n.addClass("hide"),1===a&&s.removeClass("hide")):(s.removeClass("hide"),n.removeClass("hide"));var r=this.frameIndex*this.scrollSize,l=Math.ceil(o.outerWidth(!0));o.slice(0,r).css("margin-left",-l+"px")}});module.exports=function(e){new ActorWorks(e)}});
;define("videoChannelCommon:widget/backTop/backTop.js",function(o,t,n){function e(){var o=20,t=_.scrollTop(),n=Math.ceil(t/25),e=setInterval(function(){var o=t-n>0?t-n:0;window.scrollTo(0,o),t=o,0===t&&clearInterval(e)},o)}function a(o){o.preventDefault(),e()}function i(){var o=_.scrollTop(),t=_.height();o>t?r.addClass(u):r.removeClass(u),m&&(r[0].style.top=document.documentElement.scrollTop+200+"px")}function c(t){r=$(f),l=$(d),l.on("click",a),m&&(r[0].style.position="absolute");if(_.unbind("scroll").bind("scroll",i),!t||t.feedback!==!1){var n=o("common:static/ui/showFeedBack/showFeedBack.js");$("#showFeed").on("click",function(o){o.preventDefault(),n()})}}var r,l,s=o("common:static/ui/client/client.js"),d="#back-to-top-btn",f="#back-to-top",u="back-to-top-show",_=$(window),m="ie6"===s.browser.ie?!0:!1;!function(){function o(){$(document).width()<1445?($("#back-to-top").addClass("narrow-back-top"),$("#index_right_float").addClass("narrow_right_float"),$("#ad_user_common_index_right_float").addClass("narrow_right_float")):($("#back-to-top").removeClass("narrow-back-top"),$("#index_right_float").removeClass("narrow_right_float"),$("#ad_user_common_index_right_float").removeClass("narrow_right_float"))}$(document).on("ready",function(){o()}),$(window).on("resize",function(){o()})}(),n.exports=c});
;define("videoChannelCommon:widget/bingeWatching/bingeWatching.js",function(require,exports,module){var $=require("common:static/vendor/jquery/jquery.js"),loginCheck=require("common:static/ui/loginCheck/loginCheck.js"),hovervideo=require("videoChannelCommon:static/ui/hovervideo/hovervideo.js"),userapis={getrecord:"http://v.baidu.com/uc/playrecord/get/",getallbyid:"http://video.baidu.com/playrecord/"},pageType={tvplay:"TV",comic:"C"},trace=($(".page-tv .mod-toppiclist"),window.localStorage,{el:$("#content .block-rec-top-follow"),traceTpl:function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+='\n    <div class="hd" static="bl='+(null==(__t=id)?"":__t)+'Hd">\n        <h2>\n            '+(null==(__t=title)?"":__t)+'\n        </h2>\n    </div>\n    <div class="bd" static="bl='+(null==(__t=id)?"":__t)+"&blname="+(null==(__t=encodeURIComponent(title))?"":__t)+'&to=search">\n\n        <div class="top-piclist" id="'+(null==(__t=id)?"":__t)+'">\n        <ul class="list-tv">\n\n            ';for(var i=0,len=data.length;len>i;i++)if(limit>i){var item=data[i];__p+='\n					<li class="n'+(null==(__t=i)?"":__t)+" ",0==i&&(__p+="active"),__p+='" static="no='+(null==(__t=i)?"":__t)+"&amp;ti="+(null==(__t=encodeURIComponent(title))?"":__t)+'">\n						<a href="'+(null==(__t=item.url)?"":__t)+'" target="_blank">\n							<img src="'+(null==(__t=item.imgv_url)?"":__t)+'" alt="'+(null==(__t=item.title)?"":__t)+'">\n		                        <span class="img-mask"></span>\n		                        <span class="icon-play"></span>\n		                        <span class="title">'+(null==(__t=item.title)?"":__t)+'</span>\n\n\n                            <span class="txt">'+(null==(__t=item.update)?"":__t)+"</span>\n						</a>\n					</li>\n            	"}__p+="\n        	</ul>\n        </div>\n\n    </div>\n\n\n\n"}return __p},data:[],id:"",type:"",limit:9,init:function(t,i){var e=this;e.data=t.videos,e.id=t.id,pageType[i]?e.type=pageType[i]:e.loadRecord("errBack"),loginCheck(function(t){var i=e.islogin=t&&t.value;i?e.loadTrace():e.loadRecord()})},loadTrace:function(){var t=this;$.ajax({url:userapis.getrecord,data:{r:(new Date).valueOf()},type:"get",dataType:"JSONP",success:function(i){for(var e=[],a=0,n=i.data.length;n>a;a++)0===i.data[a].videoid.indexOf(t.type)&&e.push(i.data[a]);return 0===e.length?void t.loadRecord("errBack"):(t.loadVideos(e),void(e=null))},error:function(){}})},loadVideos:function(t){for(var i=this,e=[],a=0,n=t.length;n>a;a++)t[a].videoid&&e.push(t[a].videoid);$.ajax({url:userapis.getallbyid,type:"GET",dataType:"JSONP",data:{id:e.join(","),r:(new Date).valueOf()},success:function(a){for(var n=0,l=a.length;l>n;n++){a[n].imgv_url=a[n].img;for(var o=0,d=e.length;d>o;o++)a[n].id===e[o]&&(a[n].update="看至"+t[o].episode+"集")}a.push.apply(a,i.data);var r=i.uniqueData(a);$(".mod-toppiclist .loading").css({display:"none"}),i.el.html(i.traceTpl({data:r,limit:i.limit,id:i.id,title:"最近追剧"})),hovervideo(i.id),e=null},error:function(){i.loadRecord("errBack")}})},loadRecord:function(t){var i=this;if("errBack"===t)return $(".mod-toppiclist .loading").css({display:"none"}),this.el.html(this.traceTpl({data:i.uniqueData(this.data),limit:this.limit,id:this.id,title:"为你推荐"})),void hovervideo(i.id);var e=localStorage.getItem("VDWatchedTv");if(e)var a=e.substr(e.indexOf("|")+1).split("&").reverse();if(a&&a.length>0){for(var n=[],l=0,o=a.length;o>l;l++)if(0===a[l].indexOf(i.type)){var d=a[l].indexOf("=");a[l]={episode:a[l].substring(d+1),videoid:a[l].substring(0,d)}}else a[l]=!1;for(var l=0,o=a.length;o>l;l++)a[l]!==!1&&n.push(a[l]);return i.loadVideos(n),void(n=null)}$(".mod-toppiclist .loading").css({display:"none"}),this.el.html(this.traceTpl({data:i.uniqueData(this.data),limit:this.limit,id:this.id,title:"为你推荐"})),hovervideo(i.id)},uniqueData:function(t){for(var i=[],e={},a=0,n=t.length;n>a;a++)t[a].title.length>6&&(t[a].title=t[a].title.substr(0,6)+"..."),e[t[a].title]||(i.push(t[a]),e[t[a].title]=!0);return e=null,i}});module.exports=exports=function(t,i){trace.init(t,i)}});
;define("videoChannelCommon:widget/feed/feed.js",function(require,exports,module){var Feed=function(opt){this.opt=opt,this.tmpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var i=0;i<data.length;i++){__p+="\n    ";var item=data[i];if(__p+='\n    <li class="feed-item">\n        <a href='+(null==(__t=item.url)?"":__t)+' target="_blank" class="feed-poster" static="bl=feed&stp='+(null==(__t=type)?"":__t)+"&ext=pos"+(null==(__t=i)?"":__t)+'">\n            <img src='+(null==(__t=item.imgh_url)?"":__t)+' class="poster-img">\n            <div class="poster-mask">\n                ',__p+="movie"===type?'\n                    <span class="year">'+(null==(__t=item.date)?"":__t)+"</span>\n                ":'\n                    <span class="finish-update">'+(null==(__t=item.update)?"":__t)+"</span>\n                ",__p+="\n            </div>\n            ",1===item.has_fufei&&0===item.is_free&&(__p+='\n                <i class="feed-spay"></i>\n            '),__p+='\n            <i class="play-icon"></i>\n        </a>\n        <div class="info">\n            <a href='+(null==(__t=item.url)?"":__t)+' target="_blank" class="feed-title">\n                <span class="title-content">'+(null==(__t=item.title)?"":__t)+"</span>\n                ","movie"===type&&"0"!==item.rating){__p+="\n                    ";var score=item.rating/10;__p+="\n                    ",__p+=item.rating%10==0?'\n                        <span class="score">'+(null==(__t=score)?"":__t)+".0</span>\n                    ":'\n                        <span class="score">'+(null==(__t=score)?"":__t)+"</span>\n                    ",__p+="\n                "}__p+="\n            </a>\n            <a href="+(null==(__t=item.url)?"":__t)+' target="_blank" class="feed-stitle">\n                '+(null==(__t=item.s_intro)?"":__t)+"\n            </a>\n        </div>\n    </li>\n"}__p+="\n"}return __p},this.initDom(),this.page=1,this.fetchUrl="http://v."+this.opt.pro+".com/commonapi/"+this.opt.type+"2level/","shaoer"===this.opt.type&&(this.fetchUrl="http://v."+this.opt.pro+".com/channel/commonapi/"+this.opt.type+"2level/"),this.render(),this.bindEvent()};Feed.prototype.initDom=function(){var t=this.$el=$(this.opt.$el);this.$content=t.find(".feed-content"),this.$btn=t.find(".show-all-btn"),this.$loading=t.find(".feed-loading")},Feed.prototype.showLoading=function(){this.$loading.removeClass("hide")},Feed.prototype.hideLoading=function(){this.$loading.addClass("hide")},Feed.prototype.fetchData=function(t,e){var n=this;$.ajax({url:this.fetchUrl,dataType:"JSONP",data:{channel:this.opt.type,pn:this.page},beforeSend:function(){n.showLoading()},success:function(e){t&&t(e.videoshow)},error:function(t){e&&e(t)},complete:function(){n.hideLoading()}})},Feed.prototype.render=function(){var t=this;this.fetchData(function(e){if(e&&e.videos.length){var n=t.tmpl({data:e.videos,type:t.opt.type});t.$content.append(n)}else t.$btn.find(".arrow-down").addClass("hide")})},Feed.prototype.bindEvent=function(){var t=this;this.$el.on("click",".show-all-btn",function(){var e=$(this);"show-all-btn"===e[0].className&&(t.page++,t.render())})},module.exports=function(t){new Feed(t)}});
;define("videoChannelCommon:widget/moviePlayVideo/union_config.js",function(i,t){function n(i,t){e[i]?e[i].init(t):(window.SITE_PLAY_COMPLETE_CALLBACK=function(n){n[i]&&(e[i]={init:function(){n[i](function(){"function"==typeof t&&t()},$)}},e[i].init())},$.getScript("http://list.video.baidu.com/sitePlayerConf/playcomplete.js"))}var e=(i("common:static/ui/eventcenter/eventcenter.js"),{});e.ku6={init:function(i){window.Player=window._js_PlayerHelper=new this.Player({events:{init:function(){},end:function(){"function"==typeof i&&i()}}}),window.PlayComplete=function(){"function"==typeof i&&i()}},Player:function(){this.init.apply(this,arguments)}},e.ku6.Player.prototype={constructor:e.ku6.Player,init:function(i){this.setOptions(i);var t=this,n=t.options;t.container=document.getElementById(n.container),t.swf={object:document.getElementById(n.id)},t.ready||(t.ready=!0),t.setEvent(n.events)},setEvent:function(i){for(var t in i)this.addEvent(t,i[t])},fire:function(i,t,n){var e=this,o=(e.options,"init");switch(i){case"init":case"initPlayerFinished":e.ready=!0,i=o;break;case"playFinished":i="end"}i===o||e.ready||e.fire(o,t,n),this.fireEvent(i)},setOptions:function(i){this.options={container:"playBox",id:"videoPlayer",ready:!1};for(var t in i)this.options[t]=i[t]},addEvent:function(i,t){this.queue||(this.queue={}),this.queue[i]?this.queue[i].push(t):this.queue[i]=[t]},fireEvent:function(i){if(this.queue){var t=this.queue[i];if(t)for(var n=0,e=t.length;e>n;n++)t[n]&&t[n].apply(this,arguments[1]||[])}}},t.init=n});
;define("videoChannelCommon:widget/moviePlayVideo/moviePlayVideo.js",function(e,i,t){var n=e("videoChannelCommon:widget/moviePlayVideo/union_config.js"),a="http://video-static.xdcdn.xiaodutv.com/browse_static/v3/videoChannelCommon/widget/moviePlayVideo/newPlayer_e2332cd1.swf",o={videos:null,api:"format=json",dataSign:"video",adSign:"ad",nameSign:"name",initPlay:!1,initAdPlay:!1,topEmpty:80,bottomEmpty:120},r=function(e){this.init(e)};r.prototype.checkIe=function(){var e=navigator.appName,i=navigator.appVersion,t=i.split(";"),n=t[1].replace(/[ ]/g,""),a=!1;return"Microsoft Internet Explorer"==e&&"MSIE8.0"==n&&(a=!0),a},r.prototype.checkSafariFlash=function(){var e=this,i=window.navigator.userAgent,t=-1!==i.indexOf("Safari")&&-1!==i.indexOf("Version");if(t){var n=!1;try{n=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){n="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}!n&&e.$wrap.find(".flash-tip").show()}},r.prototype.init=function(e){var i=this;i._validation(e),i._set(e),i.checkIe()?i.bindIe():(i.fetchData(),i.bindEvent(),i.autoPlay())},r.prototype.bindIe=function(){var e=this;e.$wrap.find(".video-list").hide(),e.$wrap.on("click",function(i){i.preventDefault();var t=e.$wrap.find(".video-list-inner .inner-item").eq(0).data("url");window.open(t)})},r.prototype._validation=function(e){if(!e.wrap)throw new Error("MoviePlayVideo: wrap is null");if(!e.videos)throw new Error("MoviePlayVideo: innerData is null")},r.prototype._set=function(e){this.$wrap=$(e.wrap),this.$player=$("#playerBox"),this.videos=o.videos=e.videos},r.prototype.handleScroll=function(e){var i=this,t=i.$wrap.find(".video-list-inner .inner-item"),n=t.eq(0),a=$(window).height(),r=$(document).scrollTop(),l=$("#playerBox").offset().top,d=i.$player.height(),s=r-l;-a+o.topEmpty<s&&s<d-o.bottomEmpty&&!i.checkPlayed(e)&&n.trigger("click")},r.prototype.autoPlay=function(){{var e=this,i=e.$wrap.find(".video-list-inner .inner-item"),t=i.eq(0);setTimeout(function(){var i={src:t.data(o.dataSign),adId:t.data(o.adSign),name:t.data(o.nameSign)};if(!e.checkPlayed(i)){var n;e.handleScroll(i),$(window).on("scroll",function(){clearTimeout(n),n=setTimeout(function(){e.handleScroll(i)},50)})}},3e3)}},r.prototype.checkPlayed=function(){var e=this,i=!1,t=e.$wrap.find(".video-list-inner .inner-item");return t.each(function(e,t){$(t).attr("isplay")&&(i=!0)}),i},r.prototype.playNext=function(){var e=this,i=e.$wrap.find(".video-list-inner .inner-item"),t=e.$wrap.find(".video-list-inner .current"),n=i.index(t)===i.size()-1?0:i.index(t)+1;i.eq(n).trigger("click")},r.prototype.defineAdComplete=function(e){var i=this;window.advPlayComplete=function(){$.swf.remove("playVideo"),$("#videoFrontAdvContianer").remove(),i.insertFeature(e)}},r.prototype.defineWorkComplete=function(e){var i=this;n.init(e,function(){i.playNext()})},r.prototype.playAd=function(e){window.movieAdFrontLogSite="channelMovieCinema",window.BAIDU_CLB_fillSlotAsync?window.BAIDU_CLB_fillSlotAsync(e,"playerBox"):$.getScript("http://cbjs.baidu.com/js/m.js",function(){window.BAIDU_CLB_fillSlotAsync&&window.BAIDU_CLB_fillSlotAsync(e,"playerBox")})},r.prototype.insertFeature=function(e){var i=this;e.match(/\.swf/)||!window.noqueryLib?$.swf.embed({url:e,id:"swfPlayer_playerBox",wrap:i.$player,vars:{autoplay:!0,volume:0},allowScriptAccess:"always",allowscriptaccess:"always"}):window.noqueryLib.swf.embed({url:a,id:"swfPlayer_playerBox",wrap:i.$player[0],vars:{autoplay:!0,volume:0,src:e},allowScriptAccess:"always",allowscriptaccess:"always"}),o.initAdPlay||(o.initAdPlay=!0,$.cookie.set("movieFirstPlay","1",{expires:18e5}))},r.prototype.fetchData=function(){var e=this,i=e.$wrap.find(".video-list-inner .inner-item");i.each(function(i,t){var n=$(t);e.fetchUrl(this,function(e){n.data(o.dataSign,e.src),n.data(o.adSign,e.adId),n.data(o.nameSign,e.name)})})},r.prototype.logFirst=function(){var e=this,i=e.$wrap.find(".video-list-inner .inner-item").eq(0),t="http://pc.videoclick.baidu.com/v.gif?pid=104&tn=movie&tpl=movie&ss=aaa&no=0&"+e.$wrap.parents(".bd").attr("static")+"&"+i.attr("static")+"&r="+(new Date).getTime();$.log(t)},r.prototype.fetchUrl=function(e,i){var t=this,n=$(e).data("url").split("?")[0].replace(/\S+(?=\.com\/\S+)/,"http://v.baidu"),a=n.indexOf("?")>-1?n+"&"+o.api:n+"?"+o.api;$.ajax({url:a,dataType:"jsonp",success:function(e){t.handleRes(e,i)}})},r.prototype.parseUrl=function(e){e="string"==typeof e?e:e.toString();var i={};return decodeURIComponent(e).replace(/([^&=#?]*)=([^&=#?]*)/g,function(e,t,n){i[t]=n}),delete i.tpl,delete i.controls,i},r.prototype.decodeUrl=function(e){var i=this,t=i.parseUrl(e);if(t&&t.video){var n=t.video+"?";for(var a in t)"video"!==a&&(n=n+a+"="+t[a]+"&");return n=n+"_="+(new Date).getTime()}},r.prototype.handleRes=function(e,i){var t=this;try{var n=e.data.video_show_current.play_url,a=e.data.page_config.name?n:t.decodeUrl(n),o={src:a,adId:e.data.frontAdvConfig.adv.id||"975061",name:e.data.page_config.name||"bdys"};"function"==typeof i&&i(o)}catch(r){throw new Error(r.message)}},r.prototype.play=function(e,i){var t=this,n=t.$wrap.find(".video-list-inner .inner-item");o.initPlay||(o.initPlay=!0,t.$wrap.find(".poster").remove(),t.checkSafariFlash()),e&&e.src&&e.adId&&e.name&&("1"===$.cookie.get("movieFirstPlay")&&0===n.index(i)?(t.insertFeature(e.src),t.defineWorkComplete(e.name)):(t.playAd(e.adId),t.defineAdComplete(e.src),t.defineWorkComplete(e.name)))},r.prototype.bindEvent=function(){var e,i=this,t=i.$wrap.find(".video-switch"),n=i.$wrap.find(".video-list-inner .inner-item"),a=i.$wrap.find(".poster");t.click(function(e){e.preventDefault(),e.stopPropagation(),$(this).parent(".video-list").toggleClass("open")}).parent().hover(function(){clearTimeout(e)},function(i){e=setTimeout(function(){var e=$(i.currentTarget);e.hasClass("open")&&e.removeClass("open")},1200)}),n.each(function(e,t){$(t).on("click",function(e){e.preventDefault(),e.stopPropagation();var t={src:$(this).data(o.dataSign),adId:$(this).data(o.adSign),name:$(this).data(o.nameSign)};i.play(t,this),$(this).siblings(".current").removeClass("current"),$(this).addClass("current").attr("isplay","1").siblings(".inner-item").removeAttr("isplay")})}),a.on("click",function(e){e.preventDefault(),n.eq(0).trigger("click")})},t.exports=i=function(e){new r(e)}});
;define("videoChannelCommon:widget/shortfeed/base/index.js",function(n,r,e){var t=function(n){return n>9?n:"0"+n},o=function(n){if(String(n).split(":").length>1)return n;var r=window.parseInt(n);if(!r)return"";var e=0,o=0,i="00:"+t(r);return r>=60&&(e=window.parseInt(r/60),r=window.parseInt(r%60),i=t(e)+":"+t(r),e>=60&&(o=window.parseInt(e/60),e=window.parseInt(e%60),i=t(o)+":"+t(e)+":"+t(r))),i},i=function(n){var r=window.parseInt(n);if(r>1e4)try{r=(r/1e4).toFixed(1)+"万"}catch(e){console.error(e)}return r},a=function(n,r){return n&&r&&(n+=n.indexOf("?")>0?"&"+r:"?"+r),n};e.exports={lt10:t,formatSeconds:o,formatCount:i,appendUrl:a}});
;define("videoChannelCommon:widget/shortfeed/nav/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),tpl=(Base._,function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var i=0;i<tabs.length;i++)__p+='\n<li class="sc2-nav-li ',tabs[i].name===curTab.name&&(__p+="sc2-nav-active"),__p+='" static="'+(null==(__t=tabs[i].name)?"":__t)+'">\n    <a href="'+(null==(__t=tabs[i].url)?"":__t)+'" class="sc2-nav-a">\n    '+(null==(__t=tabs[i].name)?"":__t)+"\n    </a>\n</li>\n";__p+=""}return __p}),Nav=(require("videoChannelCommon:widget/shortfeed/base/index.js"),Base.CC.sub({init:function(n){this.opt=n,this.render(n)},elements:{".sc2-nav-ul":"main"},render:function(n){this.main.append(tpl({tabs:n.tabs,curTab:n.curTab}))}}));exports.init=function(n){new Nav(n)}});
;define("videoChannelCommon:widget/shortfeed/rec/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),tpl=(Base._,function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";for(var o,i=0;o=videos[i];i++)__p+='\n    <li class="sc2-item ',0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n        <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n            <div class="sc2-thumb">\n                <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                <span class="mask"></span>\n                <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                <span class="play"></span>\n            </div>\n            <div class="sc2-info">\n                <span class="title">\n                    '+(null==(__t=o.aTitle)?"":__t)+"\n                </span>\n                ",o.aPlayNum&&(__p+='\n                    <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                "),__p+="\n            </div>\n        </a>\n    </li>\n";__p+="\n\n\n\n"}return __p}),util=require("videoChannelCommon:widget/shortfeed/base/index.js"),Rec=Base.CC.sub({init:function(t){this.opt=t,this.el=$(t.el),this.cache=[],this.isLoding=0,this.load(),this.watchScroll()},elements:{".sc2-loading-recommend":"loading",".sc2-loading-hotnews":"hotloading","#sc2-recommend":"main"},load:function(){var t=this,a=this.opt.relate;if(a=a.match(/watch\/(.+)\.html/)){var i=a[1],n="http://v.baidu.com/watch/wisepgc?callback=?&oldrelated=1&id="+encodeURIComponent(i);this.isLoding||(this.showLoading(),$.getJSON(n,function(a){a=a.data.related_list.videos,a&&(t.cache=t.cache.concat(a),t.render(a)),t.hideLoading()}))}else{var n="http://v.baidu.com/videoapi?format=json&page_name=eastday&block_sign=list_channel_eastday_hotnews,channel_eastday_recommend";$.ajax({url:n,dataType:"jsonp",success:function(a){if(a=a[0].data.videos){$.each(a,function(t,a){a.aDuration=a.duration,a.aTitle=a.title,a.aImgUrl=a.imgv_url,a.aUrl=a.url});var i=Math.floor(Math.random()*a.length);if(i<a.length-6)var n=i+6,e=a.slice(i,n);else var n=i-6,e=a.slice(n,i);t.main.append(tpl({videos:e}))}},error:function(){}})}},render:function(t){t=this.adapter(t),this.main.append(tpl({videos:t}))},watchScroll:function(){var t=$(document),a=function(){var a=$("#recWrap").offset().top,i=$("#pcshortchannelTopRight");i.length&&(a+=i.height());var n=t.scrollTop();n>a?(this.el.addClass("scroll-fixed").css({width:$("#recWrap").width()}),$(".nav-wrap").addClass("scroll-fixed")):(this.el.removeClass("scroll-fixed"),$(".nav-wrap").removeClass("scroll-fixed"))},i=this;$(document).on("scroll",function(){a.call(i)})},adapter:function(t){var a=this;return t=t||[],$.each(t,function(t,i){i.aDuration=i.duration,i.aTitle=i.title,i.aPlayNum=util.formatCount(i.count),i.aImgUrl=i.img,i.aUrl="http://v.baidu.com/watch/"+i.videoid+".html?fr="+a.opt.fr+"&tabfr="+a.opt.base}),t.slice(0,6)},showLoading:function(){var t=this;this.isLoding=1,this.loading.removeClass("hide"),setTimeout(function(){t.hideLoading()},5e3)},hideLoading:function(){this.isLoding=0,this.loading.addClass("hide")}});exports.init=function(t){new Rec(t)}});
;define("videoChannelCommon:widget/shortfeed/main/index.js",function(require,exports,module){var Base=require("common:static/ui/oo/klass.js"),_=Base._,tpl=function(obj){{var __t,__p="";Array.prototype.join}with(obj||{}){__p+="";{parseInt(5*Math.random()+2)}__p+="\n";for(var o,i=0;o=videos[i];i++){__p+="\n    ";var r=i%5;__p+="\n    ",3==r||4==r?(__p+='\n        <li class="sc2-item sc2-card sc2-card-'+(null==(__t=r)?"":__t)+" ",0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n            <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n                <div class="sc2-info">\n                    <span class="title">\n                        '+(null==(__t=o.aTitle)?"":__t)+'\n                    </span>\n                </div>\n                <div class="sc2-thumb">\n                    <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                    <span class="mask"></span>\n                    <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                    <span class="play"></span>\n                </div>\n                ',o.aPlayNum&&(__p+='\n                    <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                "),__p+="\n            </a>\n        </li>\n    "):(__p+="\n        ",i%2==0&&(__p+='\n        <li class="sc2-item sc2-feed" id="sc2FeedAdSys'+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"\">\n            <script>\n            (function(){\n                BAIDU_VIDEO_ADM_FILL_ASYC('PCshortchannelFeedAD', 'sc2FeedAdSys"+(null==(__t=pn)?"":__t)+(null==(__t=i)?"":__t)+"')\n            })();\n            </script>\n        </li>\n        "),__p+='\n        <li class="sc2-item sc2-feed ',0==i&&(__p+="first"),__p+='" data-vid="'+(null==(__t=o.vid)?"":__t)+'">\n            <a class="sc2-a" href="'+(null==(__t=o.aUrl)?"":__t)+'" title="'+(null==(__t=o.title)?"":__t)+'" static="stp=po&ext='+(null==(__t=i)?"":__t)+'&to=play" target="_blank">\n                <div class="sc2-thumb">\n                    <img src="'+(null==(__t=o.aImgUrl)?"":__t)+'" alt="'+(null==(__t=o.title)?"":__t)+'"/>\n                    <span class="mask"></span>\n                    <span class="duration">'+(null==(__t=o.aDuration)?"":__t)+'</span>\n                    <span class="play"></span>\n                </div>\n                <div class="sc2-info">\n                    <span class="title">\n                        '+(null==(__t=o.aTitle)?"":__t)+"\n                    </span>\n                    ",o.aPlayNum&&(__p+='\n                        <div class="num">'+(null==(__t=o.aPlayNum)?"":__t)+"热力值</div>\n                    "),__p+="\n                </div>\n            </a>\n        </li>\n    "),__p+="\n"}__p+="\n\n\n"}return __p},util=require("videoChannelCommon:widget/shortfeed/base/index.js"),Main=Base.CC.sub({init:function(n){this.opt=n,this.base=n.base,this.el=$(n.el),this.ps=10,this.pn=1,this.cache=[],this.isLoding=0,this.load(),this.watchScroll(),this.moreBtn()},elements:{".sc2-loading":"loading",".sc2-main-ul":"main"},events:{},moreBtn:function(){var n=this,t=function(){var n=_.debounce(function(){document.documentElement.scrollTop>$(".sc2-wrap")[0].offsetTop-120&&$(".sc2-more-tip").show()},3e4,!1);$(window).off("scroll",n),$(window).on("scroll",n),$(window).trigger("scroll",n)};t(),$("#sc2MoreBtn").on("click",function(){document.documentElement.scrollTop=$(".sc2-wrap")[0].offsetTop-120,document.body.scrollTop=$(".sc2-wrap")[0].offsetTop-120,$(".sc2-more-tip").hide(),t(),n.pn=1,n.load(!0),$(window).off("scroll",n.scrollfunc),$(window).on("scroll",n.scrollfunc),$(".sc2-recommend-tip").height("32px"),setTimeout(function(){$(".sc2-recommend-tip").height(0)},3e3);var i="http://pc.videoclick.baidu.com/v.gif?pid=104&tn="+n.opt.tn+"&tpl="+n.opt.tn+"&bl=tipmore";$.log(i)}),$("#sc2MoreBtnClose").on("click",function(){$(".sc2-more-tip").hide(),t()})},load:function(n){var t=this,i=this.base+"?callback=?&format=json&pn="+this.pn;this.isLoding||(this.showLoading(),$.getJSON(i,function(i){i.data&&i.data.videos&&(t.cache=t.cache.concat(i.data.videos),t.render(i.data.videos,n),t.pn===Math.ceil(i.data.total_num/10)&&$(window).off("scroll",t.scrollfunc)),t.pn++,t.hideLoading()}))},render:function(n,t){this.adapter(n),t?this.main.html(tpl({videos:n,pn:this.pn})):this.main.append(tpl({videos:n,pn:this.pn}))},adapter:function(n){var t=this;n=n||[],$.each(n,function(n,i){i.aDuration=util.formatSeconds(i.duration),i.aTitle=i.title,i.aPlayNum=util.formatCount(i.play_num),i.aImgUrl=i.img_url||i.imgh_url||i.imgv_url,i.aUrl=util.appendUrl(i.url,"fr="+t.opt.fr+"&tabfr="+t.base)})},watchScroll:function(){var n=$(document),t=$(window),i=t.height(),s=function(){var t=n.height(),s=n.scrollTop();s>t-i-800&&this.load()},l=this;l.scrollfunc=_.throttle(s,200,{trailing:!1}).bind(l),$(window).on("scroll",l.scrollfunc),setTimeout(function(){var t=n.height();i>=t&&l.load()},1e3)},showLoading:function(){var n=this;this.isLoding=1,this.loading.removeClass("hide"),setTimeout(function(){n.hideLoading()},5e3)},hideLoading:function(){this.isLoding=0,this.loading.addClass("hide")}});exports.init=function(n){new Main(n)}});
;define("videoChannelCommon:widget/shortfeed/feed.js",function(n,e){var o=n("common:static/ui/oo/klass.js"),a=(o._,n("videoChannelCommon:widget/shortfeed/base/index.js"),n("videoChannelCommon:widget/shortfeed/nav/index.js")),t=n("videoChannelCommon:widget/shortfeed/rec/index.js"),i=n("videoChannelCommon:widget/shortfeed/main/index.js"),s=o.CC.sub({init:function(n){var e=["newamuse","newstar","newxiaopin"],o=e[Math.floor(Math.random()*e.length)];this.opt=n,this.opt.api="http://v.baidu.com/channel/short/"+o+"?format=json",this.load()},load:function(){var n=this;$.ajax({url:n.opt.api,dataType:"jsonp",success:function(e){e=e.data,e&&(a.init({tabs:e.tabs,curTab:e.curTab}),t.init({el:"#sc2-rec",channel:e.curTab.channel,name:e.curTab.name,base:e.curTab.url,fr:location.hostname,relate:e.videos[0].url}),i.init({el:"#sc2-main",fr:location.hostname,tn:n.opt.tn,base:e.curTab.url}))},error:function(){}})}});e.init=function(n){new s(n)}});