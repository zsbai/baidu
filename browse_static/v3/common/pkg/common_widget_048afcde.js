!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){return t(e)}:t(e)}("undefined"!=typeof window?window:this||{},function(e,t){function o(t,o,n,r){function c(c){var s={vshow:[],show:[],click:[],start:[],request:[]};a.shim(s).keys().forEach(function(e){"string"==typeof c[e]?s[e].push(c[e]):"[object Array]"===Object.prototype.toString.call(c[e])&&(s[e]=s[e].concat(c[e]))}),c.thirdparty_url&&a.shim(c.thirdparty_url).forEach(function(e){a.shim(s).keys().forEach(function(t){"string"==typeof e[t]?s[t].push(e[t]):"[object Array]"===Object.prototype.toString.call(e[t])&&(s[t]=s[t].concat(e[t]))})}),t.admLog=s;var l=arguments.callee,u=setTimeout(function(){++h<o.length&&l(o[h])},1e3*(c.timeout||8));if("img"===c.type){if(!c.url||!c.big_img)return void(t.innerHTML="");var p=t.getAttribute("custom"),d=t.innerHTML;if(p&&d){for(var f=p.split(","),h=0;h<f.length;h++){var m=f[h],w=new RegExp("\\$\\{"+m+"\\}","igm");d=d.replace(w,c[m])}t.innerHTML=d}else{var g=i.createElement("img"),v=i.createElement("a");g.onload=function(){a.log(s.show),clearTimeout(u)},g.src=c.big_img,v.href=c.url,v.target="_blank",v.onclick=function(){a.log(s.click)},v.appendChild(g),"sync"===n?t.parentNode.insertBefore(v,t):t.appendChild(v)}}else if("text"===c.type){var v=i.createElement("a");v.href=c.url,v.title=c.title,v.onclick=function(){a.log(s.click)},v.target="_blank",v.innerHTML=c.title,"sync"===n?t.parentNode.insertBefore(v,t):t.appendChild(v),a.log(s.show),clearTimeout(u)}else if("flash"===c.type);else if("html"===c.type){c.rawHtml?c.html=c.rawHtml:c.rawHtml=c.html,t.id||(t.id="video_adm_cont_"+a.getRandom());var y=a.jsonStringify({id:t.id,show:s.show,click:s.click,width:r.iwidth,height:r.iheight});if(c.html=c.html.replace(/\$\{(AUCTION_CLICK_URL_UNESC|AUCTION_CLICK_URL_ESC)\}/g,""),c.html=c.html.replace(/BAIDU_VIDEO_ADM_FRAME_WRAP\(([^\{]+)?\{/,"BAIDU_VIDEO_ADM_FRAME_WRAP("+y+", {"),c.html=c.html.replace(/BAIDU_VIDEO_ADM_SPRITE\(([^\{]+)?\{/,"BAIDU_VIDEO_ADM_SPRITE("+y+", {"),c.html=c.html.replace(/BAIDU_VIDEO_ADM_SPRITE_ASYNC_STATS\(([^\{]+)?\{/,"BAIDU_VIDEO_ADM_SPRITE_ASYNC_STATS("+y+", {"),c.html=c.html.replace('<script type="text/adm-tpl">','<script type="text/adm-tpl" id="admtpl_'+t.id+'">'),"sync"===n)i.write(c.html);else{t.innerHTML="."+c.html;try{t.removeChild(t.firstChild)}catch(_){}var b=t.getElementsByTagName("script");a.shim(b,"array").forEach(function(e){"ie"===a.broswser.name&&a.broswser.version<9&&e.defer||e.getAttribute("type")&&"text/javascript"!==e.getAttribute("type")||a.globalEval(e.innerHTML)})}clearTimeout(u)}else if("video"===c.type){var E=a.query(t,".video-player");if(E&&E.length||!c.video_url)return;t.id&&"function"==typeof e[t.id+"_afterGetVideoAdData"]&&e[t.id+"_afterGetVideoAdData"](t,o)}}r=r||{};var s=0;c(o[s])}function n(t,n,r,i){function c(e){for(var t,o,n=e.length;0!==n;)o=Math.floor(Math.random()*n),n-=1,t=e[n],e[n]=e[o],e[o]=t;return e}function s(e){var t={vshow:[],show:[],click:[],start:[],request:[]};return a.shim(t).keys().forEach(function(o){"string"==typeof e[o]?t[o].push(e[o]):"[object Array]"===Object.prototype.toString.call(e[o])&&(t[o]=t[o].concat(e[o]))}),e.thirdparty_url&&a.shim(e.thirdparty_url).forEach(function(e){a.shim(t).keys().forEach(function(o){"string"==typeof e[o]?t[o].push(e[o]):"[object Array]"===Object.prototype.toString.call(e[o])&&(t[o]=t[o].concat(e[o]))})}),t}var l=n[0];if(t.admLog=s(l),"video"===l.type){for(var u=[],p=0;p<n.length;p++){var d={},f=n[p];d.id=f.id,d.play_url=f.video_url,d.link=f.url,d.duration=f.video_time,d.contenttype="ad",d.adtitle="",d.title="",d.subtitle="";var h=s(f);d.log={0:h.show};var m="http://pc.videoclick.baidu.com/u.gif?pid=104&tpl="+f.id+"&stp=dianji&bl=qtp&sa=true&wl="+encodeURIComponent(f.video_url);i.arguments&&i.arguments.advtype?(m=m+"&advtype="+i.arguments.advtype,h.show.push(a.getDebugLogUrl("renderADFloat")),h.click.push(m)):(h.show.push(a.getDebugLogUrl("renderADNormal")),h.click.push(m)),h.show.push(a.getDebugLogUrl("renderAD")),d.clickThroughTrack=h.click,u.push(d)}u=c(u);for(var p=0;p<u.length;p++){var w=u[p].log[0].length;u[p].log[0][w-1]+="&frontadNum="+p}try{if(!e.__front_adv_main__&&parent.window.window!=e){for(var g=0,v=e.parent.frames.length;v>g;g++)if(e.parent.frames[g].window==e){var y=e.parent.document.createElement("div");y.id="videoFrontAdvContianer",y.cssText="height:100%;width:100%",y.className="bdv-video-player-contianer",e.parent.frames[g].frameElement.style.cssText="height:0;width:0;display:none;",e.parent.frames[g].frameElement.parentNode.style.cssText="height:100%;width:100%",e.parent.frames[g].frameElement.parentNode.appendChild(y);break}document.documentElement.style.cssText="height:100%;width:100%",document.body.style.cssText="height:100%;width:100%",e.__VIDEO_SITE__=parent.window.__VIDEO_SITE__||"",e.__ADV_MUTE__=parent.window.__ADV_MUTE__||0,e.__VIDEO_INFO_COLLECTION__=parent.window.__VIDEO_INFO_COLLECTION__||{},e.__VIDEO_FR__=parent.window.__VIDEO_FR__||"",e.__front_adv_main__=parent.window.__front_adv_main__,e.advPlayComplete=parent.window.advPlayComplete,e.advPlayStatus=parent.window.advPlayStatus}}catch(_){}var b=e.__VIDEO_SITE__||"",E=/(schflash|detflash)/.test(b)?!0:!1;e.__front_adv_main__({site:b,mute:i.mute||e.__ADV_MUTE__||0,adLength:i.adLength,videoinfo:e.__VIDEO_INFO_COLLECTION__||{},videofr:e.__VIDEO_FR__||"",useH5:E,videos:u,el:t.id})}else"html"===l.type&&o(t,n,r,i)}function r(e,t){var r=e.elem;if("string"==typeof e.elem&&(r=i.getElementById(e.elem)),!r||!e.ad[0])return void(e.option&&e.option.onError&&"function"==typeof e.option.onError&&e.option.onError());var c=e.id,s=e.ad[0].data;if(s&&s[0]&&s[0].type){var l=r.getAttribute("custom");if(l||(r.innerHTML=""),e.option&&"videoAdv"===e.option.type)try{n(r,s,t,e.option),"PCfrontvideo"===c&&a.debugLog(a.getDebugLogUrl("afterRenderFrontAD"))}catch(u){"PCfrontvideo"===c&&a.debugLog(a.getDebugLogUrl("afterRenderFrontADError"))}else o(r,s,t,e.option),"PCfrontvideo"===c&&a.debugLog(a.getDebugLogUrl("afterRenderItemAD"));e.afterRender&&"function"==typeof e.afterRender&&e.afterRender(r)}else e.option&&e.option.onError&&"function"==typeof e.option.onError&&e.option.onError()}if(!e.BAIDU_VIDEO_ADM_FILL){var a=__usebyinline__=function(){function t(e,t){"object"==typeof e&&(t=e,e=t.constructor||function(){}),delete t.constructor;var o={},n=function(){e.apply(this,arguments)};for(var r in e.prototype)e.prototype.hasOwnProperty(r)&&(o[r]=e.prototype[r]);for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);return o.constructor=e.prototype.constructor,n.prototype=o,n}function o(e,t){return Object.prototype.hasOwnProperty.call(e,"shimed")?e:(t=t||Object.prototype.toString.call(e).match(/^\[object ([a-zA-Z]+)\]$/)[1],new(r[t.toLowerCase()])(e))}var n={},r={},a=e.document;return r.array=r.htmlcollection=r.nodelist=t({constructor:function(e){this.value=e,this.shimed=!0},forEach:function(e){for(var t,o=0;o<this.value.length&&(t=e(this.value[o]),"break"!=t);o++);return this},map:function(e){for(var t=0;t<this.value.length;t++)this.value[t]=e(this.value[t]);return this},indexOf:function(){},filter:function(){}}),r.object=t({constructor:function(e){this.value=e,this.shimed=!0},assign:function(){if(arguments.length)for(var e=0;e<arguments.length;e++)if("object"==typeof arguments[e])for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(this.value[t]=arguments[e][t]);return this},keys:function(){var e=[];for(var t in this.value)this.value.hasOwnProperty(t)&&e.push(t);return new r.array(e)},has:function(){}}),n.shim=o,n.jsonToQuery=function(e){var t=o(e).keys().map(function(t){return t+"="+e[t]});return t.value.join("&")},n.queryToJson=function(e){var t={},n=e.split("&");return o(n).forEach(function(e){if(e){var o=e.split("=");o[0]&&o[1]&&(t[o[0]]=o[1])}}),t},n.jsonParse=function(t){if(e.JSON&&e.JSON.parse)try{return e.JSON.parse(t+"")}catch(o){throw o}else Function("return "+t)()},n.jsonStringify=function(t){if(e.JSON&&e.JSON.stringify)try{return e.JSON.stringify(t)}catch(o){throw o}if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],a=0;a<t.length;a++)r.push(n.jsonStringify(t[a]));return"["+r.join(",")+"]"}if("[object Object]"===Object.prototype.toString.call(t)){var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push('"'+i+'":'+n.jsonStringify(t[i]));return"{"+r.join(",")+"}"}return"[object Function]"===Object.prototype.toString.call(t)||"[object Null]"===Object.prototype.toString.call(t)?"null":"[object Number]"===Object.prototype.toString.call(t)?t.toString():'"'+t.toString()+'"'},n.getRandom=function(){return Math.floor(2147483648*Math.random()).toString(32)},n.jsonParse=function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t+""):void Function("return "+t)()},n.trim=function(e){return e?(e+="",e=e.replace(/^(\s+)?/g,""),e=e.replace(/((?:.+)(?:\S))?(\s+)$/g,"$1")):""},n.globalEval=function(t){t&&n.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},n.sendlog=function(t){var o=new Image,r="video_ajax_log_"+n.getRandom();e[r]=o,o.onload=o.onerror=o.onabort=function(){try{delete e[r]}catch(t){e[r]=void 0}o=null},t+=t.indexOf("?")>-1?"&":"?",t+=".stamp="+Math.random(),o.src=t},n.log=function(e){return e?"string"==typeof e?n.sendlog(e):void o(e).forEach(function(e){n.sendlog(e)}):void 0},n.broswser=new(t({constructor:function(){this.ua=e.navigator.userAgent,this.re=e.RegExp,this.name="",this.os="",this.version="",this.regs={ieLow:/(?:ms|\()(ie)\s([\w\.]+)/i,ieHig:/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,webkit:/(webkit)\/([\w\.]+)/i,gecko:/rv\:([\w\.]+).*(gecko)/i,presto:/(presto)\/([\w\.]+)/i,mac:/(macintosh|mac(?=_powerpc)\s)/i,ios:/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i,android:/(android)[\/\s-]?([\w\.]+)*/i},this.checkBrowser()},checkBrowser:function(){var e=this;o(["ieLow","ieHig","webkit","gecko","presto"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.name=e.re.$1.toLowerCase(),"ieHig"===t&&(e.name="ie"),e.version=e.re.$2,"break"):void 0}),o(["mac","ios","android"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.os=t,"break"):void 0})}})),n.cookie={isValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getRaw:function(e){if(n.cookie.isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),o=t.exec(a.cookie);if(o)return o[2]||null}return null},get:function(e){var t=n.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setRaw:function(e,t,o){if(n.cookie.isValidKey(e)){o=o||{};var r=o.expires;"number"==typeof o.expires&&(r=new Date,r.setTime(r.getTime()+o.expires)),a.cookie=e+"="+t+(o.path?"; path="+o.path:"")+(r?"; expires="+r.toGMTString():"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")}},remove:function(e,t){t=t||{},t.expires=new Date(0),n.cookie.setRaw(e,"",t)},set:function(e,t,o){n.cookie.setRaw(e,encodeURIComponent(t),o)}},n.event={isSupportTouch:!!("ontouchstart"in e),touchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",touchcancel:"touchcancel",click:"touchstart"},on:function(t,r,a,i){"function"==typeof a&&(i=a,a="");var c=function(r){if(r.type in n.event.touchMap){if((new Date).getTime()-c.timespan<50)return;c.timespan=(new Date).getTime()}var r=r||e.event;if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.srcElement&&(r.target=r.srcElement),r.touches&&r.touches[0]&&(r.pageX=r.touches[0].pageX,r.pageY=r.touches[0].pageY),a){var s=n.query(t,a),l=!1;if(o(s,"array").forEach(function(e){return e&&e.contains&&e.contains(r.target)||e===r.target?(l=!0,"break"):void 0}),!l)return}i(r)};c.timespan=(new Date).getTime(),i.callee=c,t.addEventListener?(t.addEventListener(r,c,!1),n.event.isSupportTouch&&n.event.touchMap[r]&&"click"!==r&&t.addEventListener(n.event.touchMap[r],c,!1)):t.attachEvent&&t.attachEvent("on"+r,c)},off:function(e,t,o){o.callee||(o.callee=o),e.addEventListener?(e.removeEventListener(t,o.callee,!1),n.event.isSupportTouch&&n.event.touchMap[t]&&e.removeEventListener(n.event.touchMap[t],o.callee,!1)):e.attachEvent&&e.detachEvent("on"+t,o.callee)},trigger:function(e,t){var o;if(document.createEvent)o=document.createEvent("Events"),o.initEvent(t,!0,!0);else{if(!document.createEventObject)return;o=document.createEventObject()}o.target=e,e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent(t,o)}},n.className={has:function(e,t){var o=" "+e.className+" ",n=new RegExp("\\s"+t+"\\s");return n.test(o)?!0:!1},add:function(e,t){e.length&&e.length>0?o(e).forEach(function(e){n.className.has(e,t)||(e.className=n.trim(e.className+" "+t))}):n.className.has(e,t)||(e.className=n.trim(e.className+" "+t))},remove:function(e,t){var r=new RegExp("\\s"+t+"\\s","g");if(e.length&&e.length>0)o(e).forEach(function(e){var t=" "+e.className+" ";r.test(t)&&(t=n.trim(t.replace(r," ")),e.className=t.replace(/\s+/g," "))});else{var a=" "+e.className+" ";r.test(a)&&(a=n.trim(a.replace(r," ")),e.className=a.replace(/\s+/g," "))}}},n.query=function(e,t){function o(e,t,r){var a=r[t],i=e.children;if(i&&i.length)for(var c=0;c<i.length;c++){var s=i[c],l=a.match(/\.(\S+)/),u=a.match(/\#(\S+)/),p=a.match(/\[(.+)\]/),d=!1;if(l){var f=" "+s.className+" ",h=new RegExp("\\s"+l[1]+"\\s");h.test(f)&&(d=!0)}else if(u)s.id&&s.id.toUpperCase()===a.toUpperCase()&&(d=!0);else if(p){var m=p[1].split("="),w=m[0],g=m[1]||"";s.getAttribute(w)===g&&(d=!0)}else s.tagName&&s.tagName.toUpperCase()===a.toUpperCase()&&(d=!0);d?r[t+1]?o(s,t+1,r):n.push(s):o(s,t,r)}}var n=[];if("string"==typeof e)t=e.toString(),e=a.body;else if(!t||"string"!=typeof t)return e;if(e.querySelectorAll)return e.querySelectorAll(t);t=t.replace(/\s+/g," ");var r=t.split(" ");if(e===a.body){var i=r[0].match(/\#(\S+)/);i&&(e=a.getElementById(i[1]),r.shift(),e&&!r.length&&n.push(e))}return r.length&&o(e,0,r),n},n.proxy=function(e,t){return function(){e.apply(t,arguments)}},n.ajax=function(t){t=o({type:"GET",data:{},callbackname:"",charset:"utf-8",dataType:"json",success:function(){},error:function(){}}).assign(t).value;var r=t.callbackname||"video_ajax_callback_"+n.getRandom(),i=a.createElement("script"),c=a.getElementsByTagName("head")[0]||a.body;e[r]=function(o){t.success(o),e[r]=null},i.onload=function(){i.parentNode.removeChild(i)},i.charset=t.charset,i.async=!1,i.src=t.url+(-1===t.url.indexOf("?")?"?":"&")+n.jsonToQuery(o({}).assign(t.data,{callback:r}).value),c.insertBefore(i,c.firstChild)},n.ready=function(){var t,o=!1,r=[],i=0,c=function(){if(i++,a.readyState&&"complete"===a.readyState&&(o=!0),"ie"===n.broswser.name&&n.broswser.version<9)try{a.documentElement.doScroll("left"),o=!0}catch(e){}if(o)for(clearInterval(t);r.length;){var c=r.splice(0,1);c[0]()}i>5e3&&clearInterval(t)};return t=setInterval(c,50),n.event.on(a,"DOMContentLoaded",function(){o=!0,c()}),n.event.on(e,"load",function(){o=!0,c()}),function(e){"function"==typeof e&&(o?e():r.push(e))}}(),n.swf={embed:function(e){var t=e.wrap,r="transparent";if(e.wrap&&"string"==typeof e.wrap)var t=n.query(e.wrap)[0];e.vars&&"object"==typeof e.vars&&(e.vars=n.jsonToQuery(e.vars)),e.movie=e.url,e.data=e.url,e.flashvars=e.vars,location.href.indexOf("baidu.com/kan/play/xdplay?url")&&(r="direct");var a=o({align:"middle",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",wmode:r,allowscriptaccess:"never",type:"application/x-shockwave-flash",width:"100%",height:"100%",allowfullscreen:!0}).assign(e).value,i='<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link" static="stp=clickopenflash">点这里启用Flash</a></div>',c="<object";"ie"===n.broswser.name&&n.broswser.version<11?(o(["classid","codebase","id","width","height","align"]).forEach(function(e){a[e]&&(c+=" "+e+"="+a[e])}),c+=">",o(["movie","flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){a[e]&&(c+=" <param name="+e+" value="+a[e]+" />")}),c+=i+"</object>"):(o(["id","width","height","align","data","type"]).forEach(function(e){a[e]&&(c+=" "+e+"="+a[e])}),c+=">",o(["flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){a[e]&&(c+=" <param name="+e+" value="+a[e]+" />")}),c+=i+"</object>"),t.innerHTML=c},exec:function(e,t){var o=a.getElementById(e);if(o&&"OBJECT"===o.nodeName){var n=arguments;o[t]?o[t].apply(o,Array.prototype.slice.call(n,2)):setTimeout(function(){n.callee.apply(null,n)},200)}},remove:function(e){var t=a.getElementById(e);t&&"OBJECT"===t.nodeName&&("ie"===n.broswser.name&&n.broswser.version<11?(t.style.display="none",function(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},support:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e}()},n.tmpl=function(){var e={};return function t(o,n){var r=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[o]=e[o]||t(document.getElementById(o).innerHTML);return n?r(n):r}}(),n.getDebugLogUrl=function(t,o,r){var a="http://pc.videoclick.baidu.com/u.gif?";try{o=o||0,r=r||"PCfrontvideo";var i="";i=encodeURIComponent(e.parent===e||e.self===e.top?location.href:document.referrer);var c={state:t,position:r,site:i,sync:o},s="";n.shim(c).keys().forEach(function(e){var t="&"+e+"="+c[e];s+=t}),a+=s}catch(l){a=""}return a},n.debugLog=function(e){var t=new Image;e=e+"&stamp="+Math.random(),t.src=e},n}(),i=e.document,c={},s={},l=!1,u="//xda.xiaodutv.com/xda";"https:"==e.location.protocol&&(u="https://xda.xiaodutv.com/xda");var p=function(){return{ku6:"http://www.ku6.com",pptv:"http://www.pptv.com",cztv:"http://www.cztv.com",aipai:"http://www.aipai.com",wasu:"http://www.wasu.cn",baomihua:"http://www.baomihua.com",btime:"http://www.btime.com",mgtvapp:"http://www.mgtvapp.com",mgtv:"http://www.mgtv.com",1905:"http://www.1905.com",boosj:"http://www.boosj.com",beva:"http://www.beva.com",bdzd:"http://www.bdzd.com",ps:"http://www.ps.com",baike:"http://www.baike.com",56:"http://www.56.com/",ifeng:"http://www.v.ifeng.com/",iqiyi:"http://www.iqiyi.com/",kankan:"http://www.p.kankan.com/",tangdou:"http://www.tangdou.com/",yinyuetai:"http://www.yinyuetai.com/",handinfo:"http://handinfo.cn/",letv:"http://www.letv.com/",le:"http://www.le.com/",sina:"http://www.sina.com.cn/",kankanews:"http://www.kankanews.com/",v1:"http://www.v1.cn/",boosj:"http://www.boosj.com/",pps:"http://www.pps.com/",youku:"http://www.youku.com/",sohuapp:"http://www.sohuapp.com/",sohu:"http://www.sohu.com/",m1905:"http://www.m1905.com/",cntv:"http://www.cntv.cn/",joy:"http://www.joy.cn/",pinshan:"http://www.pinshan.com/",mytv365:"http://www.mytv365.com/",17173:"http://www.v.17173.com/",163:"http://www.v.126.net/",funshion:"http://www.funshion.com",fun:"http://www.fun.tv/",baofeng:"http://www.baofeng.com/",hbtv:"http://www.hbtv.com.cn/",s1979:"http://www.s1979.com/",jxntv:"http://v.baidu.com/",people:"http://v.baidu.com/",hunantv:"http://www.hunantv.com/",huya:"http://www.v.huya.com/",rr:"http://www.rrmj.tv/",tudou:"http://www.tudou.com",djhuo1:"http://djhuo.com/",djhuo:"http://djhuo.com/",wangluo1:"http://wangluo1.com/",wangluo2:"http://wangluo2.com/",cctv:"http://www.cctv.com",bilibili:"http://www.bilibili.com",vcinema:"http://www.vcinema.cn",bdys:"http://baishi.baidu.com/",bestv:"http://www.bestv.com.cn",miaopai:"http://www.miaopai.com",migu:"http://www.migu.cn",mtime:"http://www.mtime.com",qq:"http://www.qq.com",cibn:"http://www.cibn.com"}}();if(e.location.search&&-1!==e.location.search.indexOf("adm_debug")){var d=a.queryToJson(e.location.search.substring(1));l=!0,u=d.ad_host}return c.fill=function(t,o){var n="video_adm_cont_"+a.getRandom();if(o=o||function(){},s[t])s[t].pos.push({elem:n,afterRender:o}),s[t].ad&&r({ad:s[t].ad,elem:n,afterRender:o,id:t},"sync");else{s[t]={ad:"",pos:[{elem:n,afterRender:o}]},e.video_adm_callback=function(e){if(e.data[t]&&(s[t].ad=e.data[t]),s[t].ad){var o=s[t].ad[0].data[0].request;"string"==typeof o&&(o=[o]),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("beforeRenderAD",1)),a.log(o),a.shim(s[t].pos).forEach(function(e){r({ad:s[t].ad,elem:e.elem,afterRender:e.afterRender,id:t})},"sync")}else"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("noRenderAD",1))};var c=u+"?callback=video_adm_callback&terminal=pc&position="+t+"&"+a.jsonToQuery({site:encodeURIComponent(document.location.href),refer:encodeURIComponent(document.referrer)});e.testip&&(c+="&ip="+e.testip),e.testversion&&(c+="&version="+e.testversion),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("beforeLoadAD",1)),i.write('<div id="'+n+'"></div><script src="'+c+'"></'),i.write("script>")}},c.fill_asyc=function(t,o,n,c){if(n=n||function(){},c=c||{},c.noCache||!s[t]){s[t]={ad:"",pos:[{elem:o,afterRender:n}]};var l=encodeURIComponent(document.location.href);for(var d in p){if("bdys"===d)var f=document.location.href.match(/(\d*).html/)&&document.location.href.match(/(\d*).html/)[1];if(e.__VIDEO_SITE__&&-1!==e.__VIDEO_SITE__.indexOf(d)){if("bdys"===d)var f=e.__VIDEO_CURRENT_ID__||document.location.href.match(/(\d*).html/)&&document.location.href.match(/(\d*).html/)[1];l=encodeURIComponent(p[d]);break}}var h={id:t,site:l,refer:encodeURIComponent(document.referrer),keywords:encodeURIComponent(e._query&&e._query.wd||"")};f&&(h.works_id=f),c.site&&(h.site=encodeURIComponent(c.site)),c.arguments&&a.shim(h).assign(c.arguments),e.testip&&(h.ip=e.testip),e.testversion&&(h.version=e.testversion),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("beforeLoadAD")),a.ajax({url:u+"?terminal=pc&position="+t,data:h,success:function(e){if(0!==e.errno)return c.onError&&"function"==typeof c.onError&&c.onError(),void("PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("afterLoadADError")));if(e.data[t]&&(s[t].ad=e.data[t]),s[t].ad){var o=s[t].ad[0].data[0].request;"string"==typeof o&&(o=[o]),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("beforeRenderAD")),a.log(o),a.shim(s[t].pos).forEach(function(e){if(c.noRender===!0){var o=e.elem;"string"==typeof e.elem&&(o=i.getElementById(e.elem)),"function"==typeof e.afterRender&&e.afterRender(o,s[t].ad)}else r({ad:s[t].ad,elem:e.elem,afterRender:e.afterRender,option:c,id:t})})}else c.onError&&"function"==typeof c.onError&&c.onError(),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("noRenderAD"))},error:function(){c.onError&&"function"==typeof c.onError&&c.onError(),"PCfrontvideo"===t&&a.debugLog(a.getDebugLogUrl("loadADError"))}})}else if(s[t].pos.push({elem:o,afterRender:n}),s[t].ad)if(c.noRender===!0){var m=o;"string"==typeof o&&(m=i.getElementById(o)),"function"==typeof n&&n(m,s[t].ad)}else r({ad:s[t].ad,elem:o,afterRender:n,option:c,id:t});else c.onError&&"function"==typeof c.onError&&c.onError()},c.frame_wrap=function(e,t){"string"==typeof e&&(e={id:e,show:[]});var o=document.getElementById(e.id);if(o){+e.width&&(t.width=e.width),+e.height&&(t.width=e.height);var n="adframe_wrap_"+Math.floor(2147483648*Math.random()).toString(32);o.innerHTML='<iframe id="'+n+'" src="about:blank" width="'+t.width+'" height="'+t.height+'" style="margin:0 auto 0" allowTransparency="true" scrolling="no" marginwidth="0" marginheight="0" frameborder="0" style="border:0px;"></iframe>';var r=document.getElementById(n),i=r.contentWindow.document;i.open(),i.write('<!DOCTYPE html><head><meta charset="utf-8"></head><body><style>html,body{padding:0;margin:0; width:100%; height:100%}</style>'+t.html+"<script>~function(){            if(typeof window.parent.BAIDU_VIDEO_ADM_TOOLS == 'undefined') return;            var lib = window.parent.BAIDU_VIDEO_ADM_TOOLS;            lib.log("+a.jsonStringify(e.show)+");        }()</script></body></html>"),"ie"!==a.broswser.name&&i.close()}},c.sprite=function(e,t){if(t.__lib=a,t.__tplNode="",!t.filter||"function"!=typeof t.filter||t.filter.call(t)!==!1){var o=i.createElement("div"),n=i.getElementById("admtpl_"+e.id);n&&(o.innerHTML=a.tmpl(n.innerHTML,t.tplData||{}),t.__tplNode=o),t.__wrap=a.query("#"+e.id)[0],t.render&&"function"==typeof t.render&&(t.render.call(t),a.log(e.show));var r=o.innerHTML.match(/adm-on-\w+=".+?"/g);if(r)for(var c=0;c<r.length;c++){var s=r[c].match(/adm-on-(\w+)="(.+?)"/);s&&3===s.length&&"function"==typeof t[s[2]]&&a.event.on(o,s[1],"["+r[c]+"]",a.proxy(t[s[2]],t))}a.event.on(o,"click","[adm-click]",function(){a.log(e.click)})}},c.sprite_async_stats=function(e,t){if(t.__lib=a,t.__tplNode="",t.__conf=e,!t.filter||"function"!=typeof t.filter||t.filter.call(t)!==!1){var o=i.createElement("div"),n=i.getElementById("admtpl_"+e.id);n&&(o.innerHTML=a.tmpl(n.innerHTML,t.tplData||{}),t.__tplNode=o),t.__wrap=a.query("#"+e.id)[0],t.render&&"function"==typeof t.render&&t.render.call(t);var r=o.innerHTML.match(/adm-on-\w+=".+?"/g);if(r)for(var c=0;c<r.length;c++){var s=r[c].match(/adm-on-(\w+)="(.+?)"/);s&&3===s.length&&"function"==typeof t[s[2]]&&a.event.on(o,s[1],"["+r[c]+"]",a.proxy(t[s[2]],t))}a.event.on(o,"click","[adm-click]",function(){a.log(e.click)})}},c.tools=a,"undefined"==typeof t&&a.shim(c).keys().forEach(function(t){e["BAIDU_VIDEO_ADM_"+t.toUpperCase()]=c[t]}),e.__currentIsDevelopMode__&&(e.utils=a),setInterval(function(){var e=document.documentElement.clientHeight,t=document.documentElement.clientWidth;for(var o in s)s[o].pos&&a.shim(s[o].pos).forEach(function(o){var n=o.elem;if("string"==typeof n&&(n=i.getElementById(n)),n&&!(n.admLogCount&&n.admLogCount>1)){var r=n.getBoundingClientRect();(r.width||r.height)&&(r.top>=0&&e-r.top>=r.height/2||r.top<0&&Math.abs(r.top)<=r.height/2)&&(r.left>=0&&t-r.left>=r.width/2||r.left<0&&Math.abs(r.left)<=r.width/2)&&n.admLog&&(n.admLogCount?(n.admLogCount++,2===n.admLogCount&&a.log(n.admLog.vshow)):n.admLogCount=1)}})},1e3),c}});
;define("common:widget/global/backTop/backTop.js",function(o,t,n){function a(){var o=20,t=_.scrollTop(),n=Math.ceil(t/25),a=setInterval(function(){var o=t-n>0?t-n:0;window.scrollTo(0,o),t=o,0==t&&clearInterval(a)},o)}function e(o){o.preventDefault(),a()}function c(){var o=_.scrollTop(),t=_.height();o>t?r.addClass(u):r.removeClass(u),w&&(r[0].style.top=document.documentElement.scrollTop+200+"px")}function i(t){r=$(f),l=$(d),l.on("click",e),w&&(r[0].style.position="absolute");if(m(c),!t||t.feedback!==!1){var n=o("common:static/ui/showFeedBack/showFeedBack.js");$("#showFeed").on("click",function(o){o.preventDefault(),n()})}}var r,l,s=o("common:static/ui/client/client.js"),d="#back-to-top-btn",f="#back-to-top",u="back-to-top-show",_=$(window),m=($("body"),o("common:static/ui/scrolling/scrolling.js")),w="ie6"===s.browser.ie?!0:!1;!function(){function o(){$(document).width()<1445?($("#back-to-top").addClass("narrow-back-top"),$("#index_right_float").addClass("narrow_right_float"),$("#ad_user_common_index_right_float").addClass("narrow_right_float")):($("#back-to-top").removeClass("narrow-back-top"),$("#index_right_float").removeClass("narrow_right_float"),$("#ad_user_common_index_right_float").removeClass("narrow_right_float"))}$(document).on("ready",function(){o()}),$(window).on("resize",function(){o()})}(),n.exports=i});
;define("common:widget/global/bdv_record/bdvRecord.js",function(t,e,i){function o(t){if(t){var e,i,o={},n=t.split("&"),a=n.length;for(e=0;a>e;e++)i=n[e].split("="),i[0]&&i[1]&&(o[i[0]]=i[1]);return o}}function n(t,e){var i=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):v[t]=v[t]||n(document.getElementById(t).innerHTML);return e?i(e):i}var a="http://v.baidu.com/dev_proxy_watch.html?v="+Math.ceil(new Date/72e5)+"#",d="https://ss1.bdstatic.com/6qVSsjikBxIFlNKl8IuM_a/fe/api/dev_proxy_watch.html?v="+Math.ceil(new Date/72e5)+"#",r="http://v.baidu.com/playrecord/",c={getrecord:"http://v.baidu.com/uc/playrecord/get/",setrecord:"http://v.baidu.com/uc/playrecord/set/",delrecord:"http://v.baidu.com/uc/playrecord/del/"};"https:"===location.protocol&&"www.baidu.com"===location.host&&"object"==typeof bds&&bds.util&&bds.util.domain&&"function"==typeof bds.util.domain.get&&(c.getrecord=bds.util.domain.get(c.getrecord),c.setrecord=bds.util.domain.get(c.setrecord),c.delrecord=bds.util.domain.get(c.delrecord),r=bds.util.domain.get(r));var s={proxy:"",islogin:!1},l=location.hostname.match(/\.?[baidu|hao123]\.com$/),u={M:"http://v.hao123.baidu.com/dianying_intro/?page=1&id=",TV:"http://v.hao123.baidu.com/dianshi_intro/?page=1&id=",T:"http://v.hao123.baidu.com/zongyi_intro/?page=1&id=",C:"http://v.hao123.baidu.com/dongman_intro/?page=1&id="},p={getRecord:function(t,e,i){var o=c.getrecord,n=[];"string"==typeof t&&t&&n.push("vid="+t),"string"==typeof e&&e&&n.push("site="+e),n.length&&(o+="?"+n.join("&")),i="function"==typeof i&&i||"function"==typeof t&&t||"function"==typeof e&&e||function(){},$.ajax({url:o,dataType:"jsonp",success:i})},setRecord:function(t,e,i,o){var n=c.setrecord+"?vid="+t+"&view="+e;"string"==typeof i&&i?n+="&site="+i:"function"==typeof i&&(o=i),$.ajax({url:n,dataType:"jsonp",success:o||function(){}})},delRecord:function(t,e,i){var o=c.delrecord,n=[];"string"==typeof t&&t&&n.push("vid="+t),"string"==typeof e&&e?n.push("site="+e):"function"==typeof e&&(i=e),n.length&&(o+="?"+n.join("&")),$.ajax({url:o,dataType:"jsonp",success:i||function(){}})}},f={get:function(t,e){if(s.proxy&&"string"==typeof t&&"function"==typeof e){var i=this,o=this._createFrame(),n=0;!function(t,e){t.attachEvent?t.attachEvent("onload",e):t.onload=e}(o,function(){1===n?i._getData(o,e):(n=1,o.contentWindow.location=s.proxy)}),o.src=t,document.body.appendChild(o)}},post:function(t,e){if("string"==typeof t){var i=this._createFrame();!function(t,e){t.attachEvent?t.attachEvent("onload",e):t.onload=e}(i,function(){"function"==typeof e&&e(),document.body.removeChild(i)}),i.src=t,document.body.appendChild(i)}},_createFrame:function(){var t=document.createElement("iframe");return t.style.display="none",t},_getData:function(t,e){try{var i=t.contentWindow.name}catch(o){}try{t.contentWindow.document.write(""),t.contentWindow.close(),document.body.removeChild(t)}catch(o){}e(i)}},h=window.bdvRecordAPI={init:function(t){this.setConfig(t)},setConfig:function(t){t.proxy&&(s.proxy=t.proxy),t.islogin&&(s.islogin=t.islogin)},get:function(t){if("function"==typeof t){if(l&&s.islogin)return this.getFull(t);f.get(("https:"===location.protocol?d:a)+"action=get",function(e){e=o(decodeURIComponent(e));for(var i in e)e[i]="string"==typeof e[i]&&e[i].indexOf(",")?e[i].split(",")[0]:e[i];t(e)})}},getFull:function(t){if("function"==typeof t){if(l&&s.islogin)return void p.getRecord(function(e){var i=[];0===parseInt(e.errno,10)&&e.data&&e.data.length&&(i=e.data),t(i)});f.get(("https:"===location.protocol?d:a)+"action=get",function(e){var i=[];e=o(decodeURIComponent(e));for(var n in e){var a=e[n]&&e[n].split(",")||"";i.push({videoid:n,episode:a[0],site:a[1]})}t(i)})}},getRecord:function(t,e){"function"==typeof t&&(e=t,t=""),l&&s.islogin?p.getRecord(t,function(t){e({status:t.data?200:0,result:t.data})}):this.getFull(function(i){var o={};if(t){if(i&&i.length)for(var n={},a=0,d=i.length;d>a;a++)n[i[a].videoid]=i[a];n&&n[t]&&(o.result=n[t])}else o.result=i||[];e(o)})},getVideos:function(t){var e=this;"function"==typeof t&&this.get(function(i){e._getVideos(i,t)})},_getVideos:function(t,e){var i=[],o=Object.prototype.toString;if("[object Array]"===o.call(t)){for(var n={},a=t.length;a--;)i.push(t[a].videoid),n[t[a].videoid]=t[a].episode;t=n}else for(var d in t)i.push(d);return i.length?(i.length>30&&(i=i.slice(i.length-30)),void $.ajax({url:r+"?id="+i.join(","),dataType:"jsonp",success:function(i){for(var o={M:"movie",TV:"tvplay",T:"tvshow",C:"comic"},n=0,a=i.length;a>n;n++){var d=i[n],r=t[d.id],c=d.id.match(/^([A-Z]+)([0-9]+)/);void 0!==r&&(r=r.split(","),d.watched=r,0===parseInt(d.finish,10)&&d.update&&parseInt(r[r.length-1],10)<=parseInt(d.update,10)&&(d.isnew=!0)),c&&(d.type=o[c[1]],d.h_url=u[c[1]]+c[2])}e(i)}})):void e()},set:function(t,e,i){var o="object"==typeof t?t:{videoid:t,episode:"number"==typeof e||"string"==typeof e?e:0,callback:"function"==typeof e?e:i};if("string"==typeof o.videoid){var n="action=set&key="+o.videoid+"&value="+o.episode+(o.site?","+o.site:"");this.write(n,i),l&&s.islogin&&p.setRecord(o.videoid,o.episode,o.site)}},remove:function(t,e){"string"==typeof t&&(this.write("action=remove&key="+t,e),l&&s.islogin&&p.delRecord(t))},clean:function(t){this.write("action=clean",t),l&&s.islogin&&p.delRecord()},write:function(t,e){function i(){1===o?"function"==typeof e&&e():o++}var o=0;f.post(a+t,i),f.post(d+t,i)}},v={},b={init:function(t){this.container=$(t.container),this.data={data:t.data,fields:""},this.template=t.template,this.adapter="function"==typeof t.adapter?t.adapter:function(t){return t},this.callback="function"==typeof t.callback?t.callback:function(){},this.render(),this._bindEvent()},render:function(){var t=this.data=this.adapter(this.data);"object"==typeof t&&(this.container.html(n(this.template,t)),this.callback(this.data))},_bindEvent:function(){var t=this;this.container.click(function(e){var i=e.target.getAttribute("data-fields");i&&(e.preventDefault(),t.data.fields=i,t.render())})}},g='<% if ( typeof data === "object" && data.length > 0 ) {%><div class="bdv-record-content">    <div class="bdv-record-bd">        <ul>            <%                var typecns = {                    tvplay: "电视剧",                    tvshow: "综艺",                    movie: "电影",                    comic: "动漫"                };                var i = data.length;                var n = 0;                while ( i-- && n < 5 ) {                    var item = data[i];            %>            <% if (item.type && typecns[item.type]) { n++; %>            <li class="<%=item.type%><% if ( item.isnew ) { %> bdv-record-item-new<% } %>">                <% if ( item.isnew ) { %>                    <span class="bdv-record-icon-new"></span>                <% } %>                <a href="<%=item.url || item.detail_url%>" target="_blank"                 class="bdv-record-item-title"><%=item.title%></a>                <% var watched = item.watched; if ( watched && watched.length > 0 ) { %>                    <% if ( item.type === "tvplay" || item.type === "comic") { %>                    <span class="bdv-record-update">看至第<%=watched[watched.length - 1]%>集</span>                    <% } else if (item.type === "tvshow") { %>                    <span class="bdv-record-update">看至<%=watched[watched.length - 1]                    .replace(/(\\d{4})(\\d{2})(\\d{2})/, "$1-$2-$3")%></span>                    <% } %>                <% } %>                <% if (typecns[item.type]) { %>                    <span class="bdv-record-type"><%=typecns[item.type]%></span>                <% } %>                <a href="javascript:void(0)" data-fields="remove:<%=item.id%>"                 class="bdv-record-control">删除</a>            </li>            <% } %>            <% } %>        </ul>    </div>    <div class="bdv-record-ft">        <%if(bdvRecordConfig.hao123 === "1"){ %>            <a href="http://i.hao123.com/uc/video" class="bdv-usercenter" target="_blank">进入我的影视</a>        <% }%>        <a href="javascript:void(0)" data-fields="clean" class="bdv-record-control">清空记录</a>    </div></div><% } else { %><div class="bdv-record-content bdv-record-noresult">    <div class="bdv-record-bd">        <p>您最近没有观看过剧集节目。</p>    </div>    <div class="bdv-record-ft">        <%if(bdvRecordConfig.hao123 === "1"){ %>            <a href="http://v.hao123.baidu.com/dianshi/"             target="_blank">去看看有什么精彩电视剧 >></a>        <% }else{ %>            <a href="http://v.baidu.com/tvplayindex/"             target="_blank">去看看有什么精彩电视剧 >></a>        <% }%>    </div></div><% } %>',m={init:function(){if("object"==typeof bdvRecordConfig&&bdvRecordConfig.proxy){var t=this.$wrap=$("#bdvRecord"),e=this.$body=t.find(".bdv-record-main");this.$toggle=t.find(".bdv-record-toggle"),this.$num=t.find(".bdv-record-num"),e.length&&(h.init({proxy:bdvRecordConfig.proxy}),this.$toggle.length&&(e.hide(),this.state=0,this._bind()),this.bubbles())}},_bind:function(){var t=this;"mouseover"===this.$toggle.attr("data-event")?this._bindMouseOver():this._bindClick(),$(window).blur(function(){t.state&&t._hide()})},_bindMouseOver:function(){var t,e=this;this.$toggle.mouseenter(function(){clearTimeout(t),e.state||e._show()}),this.$toggle.mouseleave(function(){t=setTimeout(function(){e.state&&e._hide()},300)}),this.$body.mouseenter(function(){clearTimeout(t)}),this.$body.mouseleave(function(){t=setTimeout(function(){e.state&&e._hide()},300)})},_bindClick:function(){var t,e=this;this.$toggle.click(function(t){t.preventDefault(),e.state?e._hide():e._show()}),this.$body.hover(function(){clearTimeout(t)},function(){t=setTimeout(function(){e.state&&e._hide()},2e3)}),$(document).click(function(t){var i=t.target;!e.state||i===e.$toggle[0]||i===e.$body[0]||$.contains(e.$toggle,i)||$.contains(e.$body,i)||i.getAttribute("data-fields")||e._hide()})},_show:function(){var t=this;this.state=1,this.$wrap.addClass("bdv-record-show"),this.$body.show(),this._isinit||(this._isinit=!0,this._docEngineInit(),setTimeout(function(){t.bubbleWrap&&t.bubbleWrap.off("click").remove()},16))},_hide:function(){this.state=0,this.$wrap.removeClass("bdv-record-show"),this.$body.hide()},_docEngineInit:function(){var t=this;h.getVideos(function(e){var i=[],o={TV:"http://v.hao123.baidu.com/dianshi_intro/?page=1&id=",T:"http://v.hao123.baidu.com/zongyi_intro/?page=1&id=",C:"http://v.hao123.baidu.com/dongman_intro/?page=1&id="};if(e&&e.length>0)for(var a=0,d=e.length;d>a;a++)i.push(e[a]);if(!i.length)return void t.$body.html(n(g,{}));if("1"===window.bdvRecordConfig.hao123)for(var a=0,d=e.length;d>a;a++){var r=e[a],c=r.id.match(/(TV|T|C)([0-9]+)/),s=c&&o[c[1]];s&&(r.detail_url=s+c[2])}b.init({container:t.$body,data:i,template:g,adapter:function(t){if(t.fields){var e=t.fields.split(":");if("remove"===e[0]){var i,o=t.data,n=o.length,a=e[1],d=[];for(i=0;n>i;i++){var r=o[i];r.id!==a&&d.push(r)}t.data=d}else"clean"===e[0]&&(t.data=[])}return t},callback:function(t){if(t.fields){var e=t.fields.split(":");"remove"===e[0]?h.remove(e[1]):"clean"===e[0]&&h.clean()}}})})},bubbles:function(){var t=this,e=$.cookie.get("BUBBLESDEl");"1"!==e&&($.cookie.set("BUBBLESDEl","1",{path:"/"}),h.getVideos(function(e){var i=[];if(e&&e.length>0)for(var o=0,n=e.length;n>o;o++)"movie"!==e[o].type&&i.push(e[o]);if(i.length){var a=i[i.length-1],d=a.watched,r="";"tvplay"===a.type||"comic"===a.type?r="第"+d[d.length-1]+"集":"tvshow"===a.type&&(r=d[d.length-1].replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3"));var c=t.bubbleWrap=t.$toggle.after('<div id="bubbleWrap"><i class="i-arrow-top"></i><div class="bdv-bubbles"><a href='+a.url+" title="+a.title+r+' target="_blank" class="bdv-bubbles-item" static="bl=bubbles"><i class="i-bubbles-recd"></i><span class="bdv-bubbles-ttl"> 点击继续观看《'+a.title+"》"+r+'</span></a><i class="i-bubbles-del">×</i></div></div>').next("#bubbleWrap");c.on("click",".i-bubbles-del,.bdv-bubbles-item",function(){setTimeout(function(){c.off("click").remove()},16)})}}))}};i.exports={api:h,ui:m}});