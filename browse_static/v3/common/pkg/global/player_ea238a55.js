__usebyinline__=function(){function e(e){var t=this;return this.option=e,e.wrap&&(e.el=e.wrap),this.el=e.el&&"string"!=typeof e.el?e.el:/^[^\.#:>]+/.test(e.el)?n.query("#"+e.el)[0]:n.query(e.el)[0],this.option.autoplay=0!==this.option.autoplay,this.showAd=!1||e.showAd,"ie"!==n.broswser.name&&a?(n.className.add(this.el,"bdv-video-player-contianer"),this.el.innerHTML=this.getDom(),this.video=n.query(this.el,".video-player")[0],this.poster=n.query(this.el,".player-poster")[0],this.ctrCover=n.query(this.el,".control-cover")[0],this.playButton=n.query(this.el,".play-icon"),this.progressBar=n.query(this.el,".progress-bar-el")[0],this.progressPass=n.query(this.progressBar,".progress-pass")[0],this.controlBar=n.query(this.el,".player-control")[0],this.controlBarEl=n.query(this.controlBar,".control-bar")[0],this.loadingBar=n.query(this.el,".play-loading")[0],this.timeBar=n.query(this.controlBar,".control-cover .time")[0],this.advTimer=n.query(this.el,".adv-timer")[0],this.advMute=n.query(this.el,".adv-mute")[0],this.advLinkEl=n.query(this.el,".ad-link-layer")[0],this.volumnBar=n.query(this.el,".volumn-bar")[0],this.volumnPass=n.query(this.volumnBar,".progress-pass")[0],this.zoomIn=n.query(this.el,".zoom-in")[0],this.clickTips=n.query(this.el,".player-tips-container")[0],t.isAutoLooping=!1,this.hideControlTimer=null,this.width=this.el.offsetWidth,this.height=this.width*(9/16),this.progessTotal=this.progressBar.offsetWidth,this.curPlayedSecond=null,this.logConf={},this.isMute=!1,this.advTimeout=null,this.adcompleteTimer=null,this.saveVolumn="undefined"!=typeof t.option.volume?t.option.volume:.5,this.advLinkEl.style.display="none",this.advTimer.style.display="none",this.playMode=o,this.videoList=[],this.playList=[],this.initEvent(),this.initVideo(this.option.video||[],this.option.poster),void(this.option.autoplay&&setTimeout(function(){t.ctrCover.style.display="none"},2500))):void("[object Array]"===Object.prototype.toString.call(this.option.video)&&this.option.video[0]&&n.swf.embed({wrap:e.wrap,url:i,id:"swfPlayer_"+this.el.id,vars:{autoplay:t.option.autoplay,mute:t.option.mute,volume:"undefined"!=typeof t.option.volume?t.option.volume:.5,src:encodeURIComponent(t.option.video[0].play_url)},allowScriptAccess:"always",allowscriptaccess:"always"}))}var t="ad",o="video",n=window.noqueryLib=__usebyinline__=function(){function e(e,t){"object"==typeof e&&(t=e,e=t.constructor||function(){}),delete t.constructor;var o={},n=function(){e.apply(this,arguments)};for(var i in e.prototype)e.prototype.hasOwnProperty(i)&&(o[i]=e.prototype[i]);for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);return o.constructor=e.prototype.constructor,n.prototype=o,n}function t(e,t){return Object.prototype.hasOwnProperty.call(e,"shimed")?e:(t=t||Object.prototype.toString.call(e).match(/^\[object ([a-zA-Z]+)\]$/)[1],new(n[t.toLowerCase()])(e))}var o={},n={},i=window.document;return n.array=n.htmlcollection=n.nodelist=e({constructor:function(e){this.value=e,this.shimed=!0},forEach:function(e){for(var t,o=0;o<this.value.length&&(t=e(this.value[o]),"break"!=t);o++);return this},map:function(e){for(var t=0;t<this.value.length;t++)this.value[t]=e(this.value[t]);return this},indexOf:function(){},filter:function(){}}),n.object=e({constructor:function(e){this.value=e,this.shimed=!0},assign:function(){if(arguments.length)for(var e=0;e<arguments.length;e++)if("object"==typeof arguments[e])for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(this.value[t]=arguments[e][t]);return this},keys:function(){var e=[];for(var t in this.value)this.value.hasOwnProperty(t)&&e.push(t);return new n.array(e)},has:function(){}}),o.shim=t,o.jsonToQuery=function(e){var o=t(e).keys().map(function(t){return t+"="+e[t]});return o.value.join("&")},o.queryToJson=function(e){var o={},n=e.split("&");return t(n).forEach(function(e){if(e){var t=e.split("=");t[0]&&t[1]&&(o[t[0]]=t[1])}}),o},o.jsonParse=function(e){if(window.JSON&&window.JSON.parse)try{return window.JSON.parse(e+"")}catch(t){throw t}else Function("return "+e)()},o.jsonStringify=function(e){if(window.JSON&&window.JSON.stringify)try{return window.JSON.stringify(e)}catch(t){throw t}if("[object Array]"===Object.prototype.toString.call(e)){for(var n=[],i=0;i<e.length;i++)n.push(o.jsonStringify(e[i]));return"["+n.join(",")+"]"}if("[object Object]"===Object.prototype.toString.call(e)){var n=[];for(var a in e)e.hasOwnProperty(a)&&n.push('"'+a+'":'+o.jsonStringify(e[a]));return"{"+n.join(",")+"}"}return"[object Function]"===Object.prototype.toString.call(e)||"[object Null]"===Object.prototype.toString.call(e)?"null":"[object Number]"===Object.prototype.toString.call(e)?e.toString():'"'+e.toString()+'"'},o.getRandom=function(){return Math.floor(2147483648*Math.random()).toString(32)},o.jsonParse=function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e+""):void Function("return "+e)()},o.trim=function(e){return e?(e+="",e=e.replace(/^(\s+)?/g,""),e=e.replace(/((?:.+)(?:\S))?(\s+)$/g,"$1")):""},o.globalEval=function(e){e&&o.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},o.sendlog=function(e){var t=new Image,n="video_ajax_log_"+o.getRandom();window[n]=t,t.onload=t.onerror=t.onabort=function(){try{delete window[n]}catch(e){window[n]=void 0}t=null},e+=e.indexOf("?")>-1?"&":"?",e+=".stamp="+Math.random(),t.src=e},o.log=function(e){return e?"string"==typeof e?o.sendlog(e):void t(e).forEach(function(e){o.sendlog(e)}):void 0},o.broswser=new(e({constructor:function(){this.ua=window.navigator.userAgent,this.re=window.RegExp,this.name="",this.os="",this.version="",this.regs={ieLow:/(?:ms|\()(ie)\s([\w\.]+)/i,ieHig:/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,webkit:/(webkit)\/([\w\.]+)/i,gecko:/rv\:([\w\.]+).*(gecko)/i,presto:/(presto)\/([\w\.]+)/i,mac:/(macintosh|mac(?=_powerpc)\s)/i,ios:/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i,android:/(android)[\/\s-]?([\w\.]+)*/i},this.checkBrowser()},checkBrowser:function(){var e=this;t(["ieLow","ieHig","webkit","gecko","presto"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.name=e.re.$1.toLowerCase(),"ieHig"===t&&(e.name="ie"),e.version=e.re.$2,"break"):void 0}),t(["mac","ios","android"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.os=t,"break"):void 0})}})),o.cookie={isValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getRaw:function(e){if(o.cookie.isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(i.cookie);if(n)return n[2]||null}return null},get:function(e){var t=o.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setRaw:function(e,t,n){if(o.cookie.isValidKey(e)){n=n||{};var a=n.expires;"number"==typeof n.expires&&(a=new Date,a.setTime(a.getTime()+n.expires)),i.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(a?"; expires="+a.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},remove:function(e,t){t=t||{},t.expires=new Date(0),o.cookie.setRaw(e,"",t)},set:function(e,t,n){o.cookie.setRaw(e,encodeURIComponent(t),n)}},o.event={isSupportTouch:!!("ontouchstart"in window),touchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",touchcancel:"touchcancel",click:"touchstart"},on:function(e,n,i,a){"function"==typeof i&&(a=i,i="");var r=function(n){if(n.type in o.event.touchMap){if((new Date).getTime()-r.timespan<50)return;r.timespan=(new Date).getTime()}var n=n||window.event;if(n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),n.srcElement&&(n.target=n.srcElement),n.touches&&n.touches[0]&&(n.pageX=n.touches[0].pageX,n.pageY=n.touches[0].pageY),i){var s=o.query(e,i),l=!1;if(t(s,"array").forEach(function(e){return e&&e.contains&&e.contains(n.target)||e===n.target?(l=!0,"break"):void 0}),!l)return}a(n)};r.timespan=(new Date).getTime(),a.callee=r,e.addEventListener?(e.addEventListener(n,r,!1),o.event.isSupportTouch&&o.event.touchMap[n]&&"click"!==n&&e.addEventListener(o.event.touchMap[n],r,!1)):e.attachEvent&&e.attachEvent("on"+n,r)},off:function(e,t,n){n.callee||(n.callee=n),e.addEventListener?(e.removeEventListener(t,n.callee,!1),o.event.isSupportTouch&&o.event.touchMap[t]&&e.removeEventListener(o.event.touchMap[t],n.callee,!1)):e.attachEvent&&e.detachEvent("on"+t,n.callee)},trigger:function(e,t){var o;if(document.createEvent)o=document.createEvent("Events"),o.initEvent(t,!0,!0);else{if(!document.createEventObject)return;o=document.createEventObject()}o.target=e,e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent(t,o)}},o.className={has:function(e,t){var o=" "+e.className+" ",n=new RegExp("\\s"+t+"\\s");return n.test(o)?!0:!1},add:function(e,n){e.length&&e.length>0?t(e).forEach(function(e){o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))}):o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))},remove:function(e,n){var i=new RegExp("\\s"+n+"\\s","g");if(e.length&&e.length>0)t(e).forEach(function(e){var t=" "+e.className+" ";i.test(t)&&(t=o.trim(t.replace(i," ")),e.className=t.replace(/\s+/g," "))});else{var a=" "+e.className+" ";i.test(a)&&(a=o.trim(a.replace(i," ")),e.className=a.replace(/\s+/g," "))}}},o.query=function(e,t){function o(e,t,i){var a=i[t],r=e.children;if(r&&r.length)for(var s=0;s<r.length;s++){var l=r[s],c=a.match(/\.(\S+)/),u=a.match(/\#(\S+)/),d=a.match(/\[(.+)\]/),p=!1;if(c){var v=" "+l.className+" ",m=new RegExp("\\s"+c[1]+"\\s");m.test(v)&&(p=!0)}else if(u)l.id&&l.id.toUpperCase()===a.toUpperCase()&&(p=!0);else if(d){var f=d[1].split("="),y=f[0],h=f[1]||"";l.getAttribute(y)===h&&(p=!0)}else l.tagName&&l.tagName.toUpperCase()===a.toUpperCase()&&(p=!0);p?i[t+1]?o(l,t+1,i):n.push(l):o(l,t,i)}}var n=[];if("string"==typeof e)t=e.toString(),e=i.body;else if(!t||"string"!=typeof t)return e;if(e.querySelectorAll)return e.querySelectorAll(t);t=t.replace(/\s+/g," ");var a=t.split(" ");if(e===i.body){var r=a[0].match(/\#(\S+)/);r&&(e=i.getElementById(r[1]),a.shift(),e&&!a.length&&n.push(e))}return a.length&&o(e,0,a),n},o.proxy=function(e,t){return function(){e.apply(t,arguments)}},o.ajax=function(e){e=t({type:"GET",data:{},callbackname:"",charset:"utf-8",dataType:"json",success:function(){},error:function(){}}).assign(e).value;var n=e.callbackname||"video_ajax_callback_"+o.getRandom(),a=i.createElement("script"),r=i.getElementsByTagName("head")[0]||i.body;window[n]=function(t){e.success(t),window[n]=null},a.onload=function(){a.parentNode.removeChild(a)},a.charset=e.charset,a.async=!1,a.src=e.url+(-1===e.url.indexOf("?")?"?":"&")+o.jsonToQuery(t({}).assign(e.data,{callback:n}).value),r.insertBefore(a,r.firstChild)},o.ready=function(){var e,t=!1,n=[],a=0,r=function(){if(a++,i.readyState&&"complete"===i.readyState&&(t=!0),"ie"===o.broswser.name&&o.broswser.version<9)try{i.documentElement.doScroll("left"),t=!0}catch(r){}if(t)for(clearInterval(e);n.length;){var s=n.splice(0,1);s[0]()}a>5e3&&clearInterval(e)};return e=setInterval(r,50),o.event.on(i,"DOMContentLoaded",function(){t=!0,r()}),o.event.on(window,"load",function(){t=!0,r()}),function(e){"function"==typeof e&&(t?e():n.push(e))}}(),o.swf={embed:function(e){var n=e.wrap,i="transparent";if(e.wrap&&"string"==typeof e.wrap)var n=o.query(e.wrap)[0];e.vars&&"object"==typeof e.vars&&(e.vars=o.jsonToQuery(e.vars)),e.movie=e.url,e.data=e.url,e.flashvars=e.vars,location.href.indexOf("baidu.com/kan/play/xdplay?url")&&(i="direct");var a=t({align:"middle",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",wmode:i,allowscriptaccess:"never",type:"application/x-shockwave-flash",width:"100%",height:"100%",allowfullscreen:!0}).assign(e).value,r='<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link" static="stp=clickopenflash">点这里启用Flash</a></div>',s="<object";"ie"===o.broswser.name&&o.broswser.version<11?(t(["classid","codebase","id","width","height","align"]).forEach(function(e){a[e]&&(s+=" "+e+"="+a[e])}),s+=">",t(["movie","flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){a[e]&&(s+=" <param name="+e+" value="+a[e]+" />")}),s+=r+"</object>"):(t(["id","width","height","align","data","type"]).forEach(function(e){a[e]&&(s+=" "+e+"="+a[e])}),s+=">",t(["flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){a[e]&&(s+=" <param name="+e+" value="+a[e]+" />")}),s+=r+"</object>"),n.innerHTML=s},exec:function(e,t){var o=i.getElementById(e);if(o&&"OBJECT"===o.nodeName){var n=arguments;o[t]?o[t].apply(o,Array.prototype.slice.call(n,2)):setTimeout(function(){n.callee.apply(null,n)},200)}},remove:function(e){var t=i.getElementById(e);t&&"OBJECT"===t.nodeName&&("ie"===o.broswser.name&&o.broswser.version<11?(t.style.display="none",function(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},support:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e}()},o.tmpl=function(){var e={};return function t(o,n){var i=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[o]=e[o]||t(document.getElementById(o).innerHTML);return n?i(n):i}}(),o.getDebugLogUrl=function(e,t,n){var i="http://pc.videoclick.baidu.com/u.gif?";try{t=t||0,n=n||"PCfrontvideo";var a="";a=encodeURIComponent(window.parent===window||window.self===window.top?location.href:document.referrer);var r={state:e,position:n,site:a,sync:t},s="";o.shim(r).keys().forEach(function(e){var t="&"+e+"="+r[e];s+=t}),i+=s}catch(l){i=""}return i},o.debugLog=function(e){var t=new Image;e=e+"&stamp="+Math.random(),t.src=e},o}(),i="http://video-static.xdcdn.xiaodutv.com/browse_static/v3/common/widget/global/player/newPlayer_e2332cd1.swf",a=!!document.createElement("video").canPlayType,r=navigator.userAgent,s=r.indexOf("Safari")>-1&&r.indexOf("Chrome")<1,l=function(){try{var e=r.indexOf("Chrome")>-1&&parseInt(/chrome\/([\d]+)/gi.exec(navigator.userAgent)[1])>=66,t=s&&parseInt(/Version\/([\d]+)/gi.exec(navigator.userAgent)[1])>=11;return e||t}catch(o){}}(),c=0;return e.prototype.initVideo=function(e,t){var i=this;i.playList=i.videoList="[object Array]"===Object.prototype.toString.call(e)?e:[e],i.reset(),i.curPlayNum=1,i.setPlayMode(o),i.setupVideoSrc(t,i.playList[0]),i.option.autoplay||(i.video.pause(),n.event.trigger(i.video,"pause")),i.setVolumn(i.option.mute?0:i.saveVolumn)},e.prototype.updateVideo=function(e,t){var o=this;o.initVideo(e,t),o.showAd&&o.frontAd&&o.initFrontAd(o.frontAd)},e.prototype.playNextChip=function(){var e=this,n=e.playList.length;e.reset(),e.curPlayNum<n?(e.curPlayNum++,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.curPlayNum===n&&(e.playMode===t?e.videoList.length>0&&(e.setPlayMode(o),e.playList=e.videoList,e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.playMode===o&&("undefined"!=typeof window.PlayComplete&&window.PlayComplete(),e.isAutoLooping&&(e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play())))},e.prototype.initFrontAd=function(e){function r(e){try{return 100==Math.floor(e.PercentLoaded())}catch(t){return!1}}var s=this;if(e&&(s.frontAd=e,s.frontAd.timeLast=Math.round(s.frontAd.duration),s.showAd)){if("ie"===n.broswser.name||!a||window.video_isnot_baishi)return n.swf.support&&s.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+s.frontAd.log+"&"+s.frontAd.logTail+"&stp=flashsupport"),e.tracking[0].push(utils.getDebugLogUrl("flashSuccPlay")),n.swf.embed({wrap:s.el,url:i,id:"swfPlayer_"+this.el.id,vars:{autoplay:1,mute:!1,volume:"undefined"!=typeof s.option.volume?s.option.volume:.5,showtimer:s.frontAd.showtimer,videotype:"ad",adconfig:encodeURIComponent(n.jsonStringify(s.frontAd))},allowScriptAccess:"always",allowscriptaccess:"always"}),setTimeout(function(){var e=n.query("#swfPlayer_"+s.el.id)[0];if(n.swf.support){e.style="opacity: 0";var t=setInterval(function(){r(e)&&(setTimeout(function(){e.style="opacity:1"},500),clearInterval(t)),n.swf.support||(e.style="opacity:1",clearInterval(t))},50)}},0),void n.debugLog(n.getDebugLogUrl("flashRenderPlayerEnd"));if(s.playList=s.frontAd.ad,/baidu\.com\/live/gi.test(location.href))var l=15e3;else var l=1e3*(s.frontAd.timeLast+4);s.adcompleteTimer=setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(clearTimeout(s.advTimeout),window.advPlayComplete())},l),/baidu\.com\/live/gi.test(location.href)&&clearTimeout(s.adcompleteTimer)}s.advTimeout=setTimeout(function(){s.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+s.frontAd.log+"&"+s.frontAd.logTail+"&stp=advtimeout"),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(s.setPlayMode(o),clearTimeout(s.adcompleteTimer),window.advPlayComplete())},1e3)},7e3),s.setPlayMode(t),s.setupVideoSrc(null,s.playList[0]),n.debugLog(n.getDebugLogUrl("h5VideoRenderPlayerEnd"))},e.prototype.setPlayMode=function(e){var i=this;i.playMode=e,e===t?(i.advLinkEl.style.display="block",i.advTimer.style.display="block",i.ctrCover.style.display="none",n.className.add(i.el,"play-mode-ad"),n.className.remove(i.el,"play-mode-vd"),i.el.appendChild(i.advMute)):e===o&&(i.advLinkEl.style.display="none",i.advTimer.style.display="none",i.ctrCover.style.display="block",n.className.add(i.el,"play-mode-vd"),n.className.remove(i.el,"play-mode-ad"),i.controlBarEl.appendChild(i.advMute))},e.prototype.setupVideoSrc=function(e,t){var o=this,n=(new Date).getTime();t=t||{},e&&o.poster.html('<img src="'+e+'" alt="" />'),t.link&&"javascript:;"!==t.link&&(o.advLinkEl.setAttribute("href",t.link),o.advLinkEl["static"]=t.clickThroughTrack);try{o.video.removeAttribute("src")}catch(i){}if(t.play_url)try{o.video.src=t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+n}catch(i){o.video.setAttribute("src",t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+n)}},e.prototype.getDom=function(){return'<video class="video-player" webkit-playsinline x-webkit-airplay="allow" autoplay preload="auto">        </video>        <div class="video-watermask-bg"></div>        <div class="adv-timer" ></div><div class="adv-mute"></div>        <a class="ad-link-layer" target="_blank"></a>        <div class="player-poster"></div>        <div class="play-loading"></div>        <div class="player-control">            <div class="control-cover">                <span class="play-icon play-icon-pause"></span>                <div class="control-bar">                        <div class="bg"></div>                        <span class="play-icon"></span>                        <span class="time"></span>                        <div class="progress-bar progress-bar-el">                            <div class="progress-track"></div>                            <div class="progress-pass">                                <span class="cur"></span>                                <span class="cur-heart"></span>                            </div>                        </div>                        <div class="progress-bar volumn-bar">                            <div class="progress-track"></div>                            <div class="progress-pass">                                <span class="cur"></span>                                <span class="cur-heart"></span>                            </div>                        </div>                        <span class="zoom-in"></span>                </div>            </div>        </div>        <div class="player-tips-container">            <div class="player-tips-wrap">                <div class="player-tips-image"></div>                <div class="player-tips-title">您的浏览器暂不支持视频自动播放</div>                <div class="player-tips-btn">点击播放</div>            </div>        </div>'},e.prototype.reset=function(){var e=this;e.video.pause(),e.poster.style.display="block",e.timeBar.innerHTML="",e.progressPass.style.width=0},e.prototype.updateProgress=function(e){var t=this,o=e.pageX;t.progessTotal=this.progressBar.offsetWidth;var n=o-t.progressBar.getBoundingClientRect().left,i=n/t.progessTotal;t.setProgress(i)},e.prototype.setProgress=function(e){var t=this;0>e&&(e=0),e>1&&(e=1),t.progressPass.style.width=100*e+"%",t.timeBar.innerHTML=t.formatTime(t.video.duration*e)+"/"+t.formatTime(t.video.duration),t.video.currentTime=t.video.duration*e},e.prototype.setVolumn=function(e){var t=this;t.saveVolumn=t.video.volume,0>=e?(e=0,t.isMute=!0,n.className.add(t.advMute,"mute"),t.video.muted=!0):(t.isMute=!1,n.className.remove(t.advMute,"mute"),t.video.muted=!1),e>1&&(e=1),t.volumnPass.style.width=100*e+"%",t.video.volume=e},e.prototype.updateVolumn=function(e){var t=this,o=e.pageX;t.volumnTotal=t.volumnBar.offsetWidth;var n=o-t.volumnBar.getBoundingClientRect().left,i=n/t.volumnTotal;t.setVolumn(i)},e.prototype.formatTime=function(e){e||(e=0);var e=Math.round(e),t=Math.floor(e/3600),o=Math.floor((e-60*t*60)/60),n=e-60*t*60-60*o,i=[];return t&&(t=10>t?"0"+t:t,i.push(t)),o=10>o?"0"+o:o,n=10>n?"0"+n:n,i=i.concat([o,n]),i.join(":")},e.prototype.log=function(e){var e=e||"";e=e.replace(/^http\:\/\/nsclick\.baidu\.com/g,"http://pc.videoclick.baidu.com");var t=new Image,o="_log_"+Math.floor(2147483648*Math.random()).toString(36);window[o]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[o]=null,t=null},t.src=e+(-1!==e.indexOf("?")?"&":"?")+"vpl=hw"},e.prototype.updateAdvTimer=function(){var e=this,t=e.frontAd.timeLast--;if(0===t&&"undefined"!=typeof window.advPlayComplete&&(clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete()),e.frontAd&&e.frontAd.tracking){var o=e.frontAd.tracking[e.frontAd.duration-t];if(o)for(var i=0;i<o.length;i++)e.log(o[i]+(-1!==o[i].indexOf("?")?"&":"?")+e.frontAd.logTail);2!==c&&(c++,0===e.curPlayedSecond?n.debugLog(n.getDebugLogUrl("H5StartPlayOn0s")):1===e.curPlayedSecond&&n.debugLog(n.getDebugLogUrl("H5StartPlayOn1s")))}1>t?this.advTimer.style.display="none":this.advTimer.innerHTML="广告还剩: <em>"+t+"</em> 秒"},e.prototype.initEvent=function(){var e=this;n.event.on(e.video,"pause",function(){n.className.add(e.el,"play-status-pause"),e.playMode===o&&(e.ctrCover.style.display="block","undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playPause")),clearTimeout(e.hideControlTimer)}),n.event.on(e.video,"play",function(){n.className.remove(e.el,"play-status-pause"),clearTimeout(e.hideControlTimer),e.playMode===t?"undefined"!=typeof window.advPlayStatus&&window.advPlayStatus("playResume"):"undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playResume"),e.hideControlTimer=setTimeout(function(){e.ctrCover.style.display="none"},1500),e.poster.style.display="none"}),n.event.on(e.video,"ended",function(){e.playNextChip()}),n.event.on(e.video,"loadstart",function(){e.video.style.width="100%",e.video.style.height="100%",e.loadingBar.style.display="block";try{if(l){e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+e.frontAd.log+"&"+e.frontAd.logTail+"&stp=autoplaypolicy");var t=e.video.play();void 0!==t&&(t.then(function(){e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+e.frontAd.log+"&"+e.frontAd.logTail+"&stp=autoplay")}),t["catch"](function(){e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+e.frontAd.log+"&"+e.frontAd.logTail+"&stp=unautoplay"),clearTimeout(e.advTimeout),clearTimeout(e.adcompleteTimer),e.loadingBar.style.display="none",e.clickTips.style.display="block",n.event.on(e.clickTips,"click",function(){if(e.video.play(),e.loadingBar.style.display="none",e.clickTips.style.display="none",e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+e.frontAd.log+"&"+e.frontAd.logTail+"&stp=unautoplayclick"),e.frontAd){var t=1e3*(e.frontAd.timeLast+1);e.adcompleteTimer=setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(clearTimeout(e.advTimeout),window.advPlayComplete())},t)}})}))}}catch(o){}});var i=0,a=0,r=e.curPlayedSecond;setInterval(function(){e.curPlayedSecond!==r?(i++,i>2&&(i=0,a=0,r=e.curPlayedSecond,e.loadingBar.style.display="none")):(a++,a>3&&(a=0,i=0,e.loadingBar.style.display="block"))},500),n.event.on(e.video,"playing",function(){e.loadingBar.style.display="none",e.clickTips.style.display="none",clearTimeout(e.advTimeout)}),n.event.on(e.video,"seek",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"seeking",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"timeupdate",function(){var t=e.video.duration,o=e.video.currentTime;if(t){var n=o/t;e.progressPass.style.width=100*n+"%",e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t),Math.floor(o)!==e.curPlayedSecond&&(e.curPlayedSecond=Math.floor(o),e.showAd&&e.updateAdvTimer(),1===e.curPlayedSecond&&e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&tpl=xdplayer&stp=start&ty="+e.playMode+"&refer="+encodeURIComponent(document.referrer)))}}),n.event.on(e.video,"durationchange",function(){var t=e.video.duration,o=e.video.currentTime;e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t)}),n.event.on(e.video,"error",function(){var t={fr:document.referrer,pg:document.location.href,mod:e.playMode,stp:"h5playerror",sr:encodeURIComponent(e.video.src)};e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+n.jsonToQuery(t)+"&"+(e.frontAd?e.frontAd.log+"&"+e.frontAd.logTail:"")),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(e.setPlayMode(o),clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete())},1e3),e.frontAd&&e.frontAd.tracking&&n.debugLog(n.getDebugLogUrl("H5PlayError"))});var s=null;n.event.on(e.video,"click",function(){clearTimeout(s),s=setTimeout(function(){e.togglePlay()},300)}),n.event.on(e.video,"dblclick",function(){clearTimeout(s),e.toggleFullscreen()}),n.event.on(e.controlBar,"mousemove",function(){clearTimeout(e.hideControlTimer),e.ctrCover.style.display="block"}),n.event.on(e.controlBar,"mouseout",function(){e.video.paused||(e.ctrCover.style.display="block",clearTimeout(e.hideControlTimer),e.hideControlTimer=setTimeout(function(){e.ctrCover.style.display="none"},300))}),n.event.on(e.zoomIn,"click",function(t){t.stopPropagation(),e.requestFullscreen()}),n.event.on(e.controlBar,"click",function(t){var o=t.target,i=t.currentTarget;clearTimeout(s),s=setTimeout(function(){e.video.paused||(e.ctrCover.style.display="block",clearTimeout(e.hideControlTimer),e.hideControlTimer=setTimeout(function(){e.ctrCover.style.display="none"},2500)),n.className.has(o,"play-icon")?e.togglePlay():e.progressBar.contains(o)?e.updateProgress(t):e.volumnBar.contains(o)?e.updateVolumn(t):n.className.has(o,"zoom-in")||o==i&&e.togglePlay()},300)}),n.event.on(e.controlBar,"dblclick",function(t){clearTimeout(s),t.target==t.currentTarget&&e.toggleFullscreen()}),n.event.on(document,"keydown",function(t){var n=t||window.event||arguments.callee.caller.arguments[0];if(n&&e.playMode===o){var i=!0;switch(n.keyCode){case 32:e.togglePlay();break;case 38:e.setVolumn(e.video.volume+.1);break;case 40:e.setVolumn(e.video.volume-.1);break;case 37:e.setProgress((e.video.currentTime-15)/e.video.duration);break;case 39:e.setProgress((e.video.currentTime+15)/e.video.duration);break;default:i=!1}i&&(n.preventDefault(),n.stopPropagation())}});var c=n.proxy(e.updateProgress,e),u=n.proxy(e.updateVolumn,e);n.event.on(e.controlBar,"mousedown",".progress-bar-el .cur-heart",function(){n.event.on(document.body,"mousemove",c)}),n.event.on(e.controlBar,"mouseup",function(){n.event.off(document.body,"mousemove",c),n.event.off(document.body,"mousemove",u)}),n.event.on(e.controlBar,"mousedown",".volumn-bar .cur-heart",function(){n.event.on(document.body,"mousemove",u)}),n.event.on(e.advMute,"click",function(t){t.stopPropagation(),e.setVolumn(e.isMute?e.saveVolumn||.5:0)}),n.event.on(e.advLinkEl,"click",function(t){t.stopPropagation();var o=t.target["static"];if(o&&o.length)for(var n=0;n<o.length;n++)e.log(o[n]+(-1!==o[n].indexOf("?")?"&":"?")+e.frontAd.logTail)})},e.prototype.play=function(){this.video&&this.video.play()},e.prototype.pause=function(){this.video&&this.video.pause()},e.prototype.togglePlay=function(){this.video&&(this.video.paused?this.video.play():this.video.pause())},e.prototype.requestFullscreen=function(e){this.video&&(e||(e=this.video),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())},e.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},e.prototype.toggleFullscreen=function(){var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;e?this.exitFullscreen():this.requestFullscreen()},e.swf=n.swf,e}();
;define("common:widget/global/playList/playList.js",function(e,t){function o(){var e=!!document.createElement("video").canPlayType,t=!!window.ActiveXObject||"ActiveXObject"in window;return!e||t?!0:!1}function n(e){var t={vshow:[],show:[],click:[],start:[],request:[]};return i.shim(t).keys().forEach(function(o){"string"==typeof e[o]?t[o].push(e[o]):"[object Array]"===Object.prototype.toString.call(e[o])&&(t[o]=t[o].concat(e[o]))}),e.thirdparty_url&&i.shim(e.thirdparty_url).forEach(function(e){i.shim(t).keys().forEach(function(o){"string"==typeof e[o]?t[o].push(e[o]):"[object Array]"===Object.prototype.toString.call(e[o])&&(t[o]=t[o].concat(e[o]))})}),t}var a=window.document,r=__usebyinline__=function(){function e(e){var t=this;this.option=e,e.wrap&&(e.el=e.wrap),this.el=e.el&&"string"!=typeof e.el?e.el:/^[^\.#:>]+/.test(e.el)?n.query("#"+e.el)[0]:n.query(e.el)[0],this.option.autoplay=0!==this.option.autoplay,this.showAd=!1||e.showAd,n.className.add(this.el,"bdv-video-player-contianer"),this.el.innerHTML=this.getDom(),this.video=n.query(this.el,".video-player")[0],this.poster=n.query(this.el,".player-poster")[0],this.ctrCover=n.query(this.el,".control-cover")[0],this.playButton=n.query(this.el,".play-icon"),this.progressBar=n.query(this.el,".progress-bar-el")[0],this.progressPass=n.query(this.progressBar,".progress-pass")[0],this.controlBar=n.query(this.el,".player-control")[0],this.volumeBaseBar=n.query(this.el,".progress-track-icon")[0],this.controlBarEl=n.query(this.controlBar,".control-bar")[0],this.loadingBar=n.query(this.el,".play-loading")[0],this.timeBar=n.query(this.controlBar,".control-cover .time")[0],this.contentTitle=n.query(this.el,".video-adv-wrap-desc .title")[0],this.adIconWrap=n.query(this.el,".ad-icon")[0],this.adVolumIco=n.query(this.el,".volumn-bar-el .cur-heart")[0],this.advTimer=n.query(this.el,".adv-timer")[0],this.advMute=n.query(this.el,".adv-mute")[0],this.advLinkElement=n.query(this.el,".ad-link-layer"),this.advLinkEl=this.advLinkElement[0],this.volumnBar=n.query(this.el,".volumn-bar-wrap")[0],this.volumnPass=n.query(this.volumnBar,".progress-pass")[0],t.isAutoLooping=this.option.isAutoLooping||!1,this.hideControlTimer=null,this.width=this.el.offsetWidth,this.height=this.width*(9/16),this.progessTotal=this.progressBar.offsetWidth,this.curPlayedSecond=null,this.logConf={},this.isMute=!1,this.advTimeout=null,this.adcompleteTimer=null,this.defaultMuted=this.option.defaultMuted||!1,this.saveVolumn=this.option.volume||0,this.advTimer.style.display="none",this.playMode=o,this.videoList=[],this.playList=[],this.hoverVolumeTimer=null,this.initEvent(),this.initVideo(this.option.video||[],this.option.poster)}var t="ad",o="video",n=__usebyinline__=function(){function e(e,t){"object"==typeof e&&(t=e,e=t.constructor||function(){}),delete t.constructor;var o={},n=function(){e.apply(this,arguments)};for(var a in e.prototype)e.prototype.hasOwnProperty(a)&&(o[a]=e.prototype[a]);for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);return o.constructor=e.prototype.constructor,n.prototype=o,n}function t(e,t){return Object.prototype.hasOwnProperty.call(e,"shimed")?e:(t=t||Object.prototype.toString.call(e).match(/^\[object ([a-zA-Z]+)\]$/)[1],new(n[t.toLowerCase()])(e))}var o={},n={},a=window.document;return n.array=n.htmlcollection=n.nodelist=e({constructor:function(e){this.value=e,this.shimed=!0},forEach:function(e){for(var t,o=0;o<this.value.length&&(t=e(this.value[o]),"break"!=t);o++);return this},map:function(e){for(var t=0;t<this.value.length;t++)this.value[t]=e(this.value[t]);return this},indexOf:function(){},filter:function(){}}),n.object=e({constructor:function(e){this.value=e,this.shimed=!0},assign:function(){if(arguments.length)for(var e=0;e<arguments.length;e++)if("object"==typeof arguments[e])for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(this.value[t]=arguments[e][t]);return this},keys:function(){var e=[];for(var t in this.value)this.value.hasOwnProperty(t)&&e.push(t);return new n.array(e)},has:function(){}}),o.shim=t,o.jsonToQuery=function(e){var o=t(e).keys().map(function(t){return t+"="+e[t]});return o.value.join("&")},o.queryToJson=function(e){var o={},n=e.split("&");return t(n).forEach(function(e){if(e){var t=e.split("=");t[0]&&t[1]&&(o[t[0]]=t[1])}}),o},o.jsonParse=function(e){if(window.JSON&&window.JSON.parse)try{return window.JSON.parse(e+"")}catch(t){throw t}else Function("return "+e)()},o.jsonStringify=function(e){if(window.JSON&&window.JSON.stringify)try{return window.JSON.stringify(e)}catch(t){throw t}if("[object Array]"===Object.prototype.toString.call(e)){for(var n=[],a=0;a<e.length;a++)n.push(o.jsonStringify(e[a]));return"["+n.join(",")+"]"}if("[object Object]"===Object.prototype.toString.call(e)){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push('"'+r+'":'+o.jsonStringify(e[r]));return"{"+n.join(",")+"}"}return"[object Function]"===Object.prototype.toString.call(e)||"[object Null]"===Object.prototype.toString.call(e)?"null":"[object Number]"===Object.prototype.toString.call(e)?e.toString():'"'+e.toString()+'"'},o.getRandom=function(){return Math.floor(2147483648*Math.random()).toString(32)},o.jsonParse=function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e+""):void Function("return "+e)()},o.trim=function(e){return e?(e+="",e=e.replace(/^(\s+)?/g,""),e=e.replace(/((?:.+)(?:\S))?(\s+)$/g,"$1")):""},o.globalEval=function(e){e&&o.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},o.sendlog=function(e){var t=new Image,n="video_ajax_log_"+o.getRandom();window[n]=t,t.onload=t.onerror=t.onabort=function(){try{delete window[n]}catch(e){window[n]=void 0}t=null},e+=e.indexOf("?")>-1?"&":"?",e+=".stamp="+Math.random(),t.src=e},o.log=function(e){return e?"string"==typeof e?o.sendlog(e):void t(e).forEach(function(e){o.sendlog(e)}):void 0},o.broswser=new(e({constructor:function(){this.ua=window.navigator.userAgent,this.re=window.RegExp,this.name="",this.os="",this.version="",this.regs={ieLow:/(?:ms|\()(ie)\s([\w\.]+)/i,ieHig:/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,webkit:/(webkit)\/([\w\.]+)/i,gecko:/rv\:([\w\.]+).*(gecko)/i,presto:/(presto)\/([\w\.]+)/i,mac:/(macintosh|mac(?=_powerpc)\s)/i,ios:/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i,android:/(android)[\/\s-]?([\w\.]+)*/i},this.checkBrowser()},checkBrowser:function(){var e=this;t(["ieLow","ieHig","webkit","gecko","presto"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.name=e.re.$1.toLowerCase(),"ieHig"===t&&(e.name="ie"),e.version=e.re.$2,"break"):void 0}),t(["mac","ios","android"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.os=t,"break"):void 0})}})),o.cookie={isValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getRaw:function(e){if(o.cookie.isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(a.cookie);if(n)return n[2]||null}return null},get:function(e){var t=o.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setRaw:function(e,t,n){if(o.cookie.isValidKey(e)){n=n||{};var r=n.expires;"number"==typeof n.expires&&(r=new Date,r.setTime(r.getTime()+n.expires)),a.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},remove:function(e,t){t=t||{},t.expires=new Date(0),o.cookie.setRaw(e,"",t)},set:function(e,t,n){o.cookie.setRaw(e,encodeURIComponent(t),n)}},o.event={isSupportTouch:!!("ontouchstart"in window),touchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",touchcancel:"touchcancel",click:"touchstart"},on:function(e,n,a,r){"function"==typeof a&&(r=a,a="");var i=function(n){if(n.type in o.event.touchMap){if((new Date).getTime()-i.timespan<50)return;i.timespan=(new Date).getTime()}var n=n||window.event;if(n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),n.srcElement&&(n.target=n.srcElement),n.touches&&n.touches[0]&&(n.pageX=n.touches[0].pageX,n.pageY=n.touches[0].pageY),a){var s=o.query(e,a),l=!1;if(t(s,"array").forEach(function(e){return e&&e.contains&&e.contains(n.target)||e===n.target?(l=!0,"break"):void 0}),!l)return}r(n)};i.timespan=(new Date).getTime(),r.callee=i,e.addEventListener?(e.addEventListener(n,i,!1),o.event.isSupportTouch&&o.event.touchMap[n]&&"click"!==n&&e.addEventListener(o.event.touchMap[n],i,!1)):e.attachEvent&&e.attachEvent("on"+n,i)},off:function(e,t,n){n.callee||(n.callee=n),e.addEventListener?(e.removeEventListener(t,n.callee,!1),o.event.isSupportTouch&&o.event.touchMap[t]&&e.removeEventListener(o.event.touchMap[t],n.callee,!1)):e.attachEvent&&e.detachEvent("on"+t,n.callee)},trigger:function(e,t){var o;if(document.createEvent)o=document.createEvent("Events"),o.initEvent(t,!0,!0);else{if(!document.createEventObject)return;o=document.createEventObject()}o.target=e,e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent(t,o)}},o.className={has:function(e,t){var o=" "+e.className+" ",n=new RegExp("\\s"+t+"\\s");return n.test(o)?!0:!1},add:function(e,n){e.length&&e.length>0?t(e).forEach(function(e){o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))}):o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))},remove:function(e,n){var a=new RegExp("\\s"+n+"\\s","g");if(e.length&&e.length>0)t(e).forEach(function(e){var t=" "+e.className+" ";a.test(t)&&(t=o.trim(t.replace(a," ")),e.className=t.replace(/\s+/g," "))});else{var r=" "+e.className+" ";a.test(r)&&(r=o.trim(r.replace(a," ")),e.className=r.replace(/\s+/g," "))}}},o.query=function(e,t){function o(e,t,a){var r=a[t],i=e.children;if(i&&i.length)for(var s=0;s<i.length;s++){var l=i[s],c=r.match(/\.(\S+)/),u=r.match(/\#(\S+)/),d=r.match(/\[(.+)\]/),p=!1;if(c){var v=" "+l.className+" ",f=new RegExp("\\s"+c[1]+"\\s");f.test(v)&&(p=!0)}else if(u)l.id&&l.id.toUpperCase()===r.toUpperCase()&&(p=!0);else if(d){var h=d[1].split("="),m=h[0],y=h[1]||"";l.getAttribute(m)===y&&(p=!0)}else l.tagName&&l.tagName.toUpperCase()===r.toUpperCase()&&(p=!0);p?a[t+1]?o(l,t+1,a):n.push(l):o(l,t,a)}}var n=[];if("string"==typeof e)t=e.toString(),e=a.body;else if(!t||"string"!=typeof t)return e;if(e.querySelectorAll)return e.querySelectorAll(t);t=t.replace(/\s+/g," ");var r=t.split(" ");if(e===a.body){var i=r[0].match(/\#(\S+)/);i&&(e=a.getElementById(i[1]),r.shift(),e&&!r.length&&n.push(e))}return r.length&&o(e,0,r),n},o.proxy=function(e,t){return function(){e.apply(t,arguments)}},o.ajax=function(e){e=t({type:"GET",data:{},callbackname:"",charset:"utf-8",dataType:"json",success:function(){},error:function(){}}).assign(e).value;var n=e.callbackname||"video_ajax_callback_"+o.getRandom(),r=a.createElement("script"),i=a.getElementsByTagName("head")[0]||a.body;window[n]=function(t){e.success(t),window[n]=null},r.onload=function(){r.parentNode.removeChild(r)},r.charset=e.charset,r.async=!1,r.src=e.url+(-1===e.url.indexOf("?")?"?":"&")+o.jsonToQuery(t({}).assign(e.data,{callback:n}).value),i.insertBefore(r,i.firstChild)},o.ready=function(){var e,t=!1,n=[],r=0,i=function(){if(r++,a.readyState&&"complete"===a.readyState&&(t=!0),"ie"===o.broswser.name&&o.broswser.version<9)try{a.documentElement.doScroll("left"),t=!0}catch(i){}if(t)for(clearInterval(e);n.length;){var s=n.splice(0,1);s[0]()}r>5e3&&clearInterval(e)};return e=setInterval(i,50),o.event.on(a,"DOMContentLoaded",function(){t=!0,i()}),o.event.on(window,"load",function(){t=!0,i()}),function(e){"function"==typeof e&&(t?e():n.push(e))}}(),o.swf={embed:function(e){var n=e.wrap,a="transparent";if(e.wrap&&"string"==typeof e.wrap)var n=o.query(e.wrap)[0];e.vars&&"object"==typeof e.vars&&(e.vars=o.jsonToQuery(e.vars)),e.movie=e.url,e.data=e.url,e.flashvars=e.vars,location.href.indexOf("baidu.com/kan/play/xdplay?url")&&(a="direct");var r=t({align:"middle",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",wmode:a,allowscriptaccess:"never",type:"application/x-shockwave-flash",width:"100%",height:"100%",allowfullscreen:!0}).assign(e).value,i='<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link" static="stp=clickopenflash">点这里启用Flash</a></div>',s="<object";"ie"===o.broswser.name&&o.broswser.version<11?(t(["classid","codebase","id","width","height","align"]).forEach(function(e){r[e]&&(s+=" "+e+"="+r[e])}),s+=">",t(["movie","flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){r[e]&&(s+=" <param name="+e+" value="+r[e]+" />")}),s+=i+"</object>"):(t(["id","width","height","align","data","type"]).forEach(function(e){r[e]&&(s+=" "+e+"="+r[e])}),s+=">",t(["flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){r[e]&&(s+=" <param name="+e+" value="+r[e]+" />")}),s+=i+"</object>"),n.innerHTML=s},exec:function(e,t){var o=a.getElementById(e);if(o&&"OBJECT"===o.nodeName){var n=arguments;o[t]?o[t].apply(o,Array.prototype.slice.call(n,2)):setTimeout(function(){n.callee.apply(null,n)},200)}},remove:function(e){var t=a.getElementById(e);t&&"OBJECT"===t.nodeName&&("ie"===o.broswser.name&&o.broswser.version<11?(t.style.display="none",function(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},support:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e}()},o.tmpl=function(){var e={};return function t(o,n){var a=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[o]=e[o]||t(document.getElementById(o).innerHTML);return n?a(n):a}}(),o.getDebugLogUrl=function(e,t,n){var a="http://pc.videoclick.baidu.com/u.gif?";try{t=t||0,n=n||"PCfrontvideo";var r="";r=encodeURIComponent(window.parent===window||window.self===window.top?location.href:document.referrer);var i={state:e,position:n,site:r,sync:t},s="";o.shim(i).keys().forEach(function(e){var t="&"+e+"="+i[e];s+=t}),a+=s}catch(l){a=""}return a},o.debugLog=function(e){var t=new Image;e=e+"&stamp="+Math.random(),t.src=e},o}();return!!document.createElement("video").canPlayType,e.prototype.initVideo=function(e,t){var a=this;a.playList=a.videoList="[object Array]"===Object.prototype.toString.call(e)?e:[e],a.reset(),a.curPlayNum=1,a.setPlayMode(o),a.setupVideoSrc(t,a.playList[0]),a.setVolumn(a.option.mute?0:a.saveVolumn||.5),a.option.autoplay||(a.video.pause(),n.event.trigger(a.video,"pause"))},e.prototype.updateVideo=function(e,t){var o=this;o.initVideo(e,t),o.showAd&&o.frontAd&&o.initFrontAd(o.frontAd)},e.prototype.playNextChip=function(){var e=this,n=e.playList.length;e.reset(),e.curPlayNum<n?(e.curPlayNum++,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.curPlayNum===n&&(e.playMode===t?e.videoList.length>0&&(e.setPlayMode(o),e.playList=e.videoList,e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.playMode===o&&("undefined"!=typeof window.PlayComplete&&window.PlayComplete(),e.isAutoLooping&&(e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play())))},e.prototype.initFrontAd=function(e){var n=this;e&&(n.frontAd=e,n.frontAd.timeLast=Math.round(n.frontAd.duration),n.showAd&&(n.playList=n.frontAd.ad,n.adcompleteTimer=setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(clearTimeout(n.advTimeout),window.advPlayComplete())},1e3*(n.frontAd.timeLast+4)))),n.advTimeout=setTimeout(function(){n.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+n.frontAd.log+"&"+n.frontAd.logTail+"&stp=advtimeout"),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(n.setPlayMode(o),clearTimeout(n.adcompleteTimer),window.advPlayComplete())},1e3)},7e3),n.setPlayMode(t),n.setupVideoSrc(null,n.playList[0]),n.play()},e.prototype.setPlayMode=function(e){var a=this;a.playMode=e,e===t?(a.advTimer.style.display="block",n.className.add(a.el,"play-mode-ad"),n.className.remove(a.el,"play-mode-vd"),a.el.appendChild(a.advMute)):e===o&&(a.advTimer.style.display="none",n.className.add(a.el,"play-mode-vd"),n.className.remove(a.el,"play-mode-ad"),a.controlBarEl.appendChild(a.advMute))},e.prototype.setupVideoSrc=function(e,t){var o=this,a=(new Date).getTime();t=t||{},e&&o.poster.html('<img src="'+e+'" alt="" />'),t.link&&(o.advLinkEl.setAttribute("data-adurl",t.link),o.advLinkEl["static"]=t.clickThroughTrack);try{o.video.removeAttribute("src")}catch(r){}if(t.play_url){if(t&&t.contenttype&&"ad"===t.contenttype)try{i.log(t.log.show)}catch(r){}try{o.video.src=t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+a}catch(r){o.video.setAttribute("src",t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+a)}}t.title&&(o.contentTitle.innerHTML=t.title,o.contentTitle.setAttribute("href",t.href)),t.contenttype&&"ad"===t.contenttype?(n.className.add(o.el,"front-ad-xiaodu-h5player"),o.adIconWrap.innerHTML=t.adtitle):(n.className.remove(o.el,"front-ad-xiaodu-h5player"),o.adIconWrap.innerHTML="")},e.prototype.getDom=function(){return'<video class="video-player" webkit-playsinline x-webkit-airplay="allow" autoplay preload="auto">        </video>        <div class="ad-icon"></div>        <div class="close-icon close-add-before-icon" id="closeIcon">×</div>        <div class="adv-timer" ></div><div class="adv-mute"></div>        <div class="ad-link-layer" data-adurl=""></div>        <div class="player-poster"></div>        <div class="play-loading"></div>        <div class="player-control">            <div class="control-cover">                <span class="play-icon play-icon-pause"></span>                <div class="control-content">                </div>                <div class="control-bar">                        <div class="bg"></div>                        <span class="play-icon"></span>                        <span class="time"></span>                        <div class="progress-bar progress-bar-el">                            <div class="progress-track"></div>                            <div class="progress-pass">                                <span class="cur"></span>                                <span class="cur-heart"></span>                            </div>                        </div>                        <div class="volumn-bar-wrap">                            <div class="volumn-bar-el">                                <div class="progress-track-icon"></div>                                <div class="progress-track"></div>                                <div class="progress-pass">                                    <span class="cur"></span>                                    <span class="cur-heart"></span>                                </div>                            </div>                        </div>                        <span class="zoom-in"></span>                </div>            </div>        </div>        <div class="video-adv-wrap-desc">        <a class="title" target="_blank"></a>        </div>'},e.prototype.reset=function(){var e=this;e.video.pause(),e.poster.style.display="block",e.timeBar.innerHTML="",e.progressPass.style.width=0},e.prototype.updateProgress=function(e){var t=this,o=e.clientX;t.progessTotal=this.progressBar.offsetWidth;var n=o-t.progressBar.getBoundingClientRect().left,a=n/t.progessTotal;0>a&&(a=0),a>1&&(a=1),t.progressPass.style.width=100*a+"%",t.timeBar.innerHTML=t.formatTime(t.video.duration*a)+"/"+t.formatTime(t.video.duration),t.video.currentTime=t.video.duration*a},e.prototype.setVolumn=function(e){var t=this;t.saveVolumn=t.video.volume,0>=e?(e=0,t.isMute=!0,n.className.add(t.advMute,"mute"),t.video.muted=!0):(t.isMute=!1,n.className.remove(t.advMute,"mute"),t.video.muted=!1),e>1&&(e=1),t.volumnPass.style.height=100*e+"%",t.video.volume=e},e.prototype.updateVolumn=function(e){var t=this,o=e.clientY;t.volumnTotal=t.volumnBar.offsetHeight;var n=o-t.volumnBar.getBoundingClientRect().top,a=1-n/t.volumnTotal;t.setVolumn(a)},e.prototype.formatTime=function(e){e||(e=0);var e=Math.round(e),t=Math.floor(e/3600),o=Math.floor((e-60*t*60)/60),n=e-60*t*60-60*o,a=[];return t&&(t=10>t?"0"+t:t,a.push(t)),o=10>o?"0"+o:o,n=10>n?"0"+n:n,a=a.concat([o,n]),a.join(":")},e.prototype.log=function(e){var e=e||"";e=e.replace(/^http\:\/\/nsclick\.baidu\.com/g,"http://pc.videoclick.baidu.com");var t=new Image,o="_log_"+Math.floor(2147483648*Math.random()).toString(36);window[o]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[o]=null,t=null},t.src=e+(-1!==e.indexOf("?")?"&":"?")+"vpl=hw"},e.prototype.updateAdvTimer=function(){var e=this,t=e.frontAd.timeLast--;if(0===t&&"undefined"!=typeof window.advPlayComplete&&(clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete()),e.frontAd&&e.frontAd.tracking){var o=e.frontAd.tracking[e.frontAd.duration-t];if(o)for(var n=0;n<o.length;n++)e.log(o[n]+(-1!==o[n].indexOf("?")?"&":"?")+e.frontAd.logTail)}1>t?this.advTimer.style.display="none":this.advTimer.innerHTML="<em>"+t+"</em> 秒"},e.prototype.initEvent=function(){var e=this;n.event.on(e.video,"pause",function(){n.className.add(e.el,"play-status-pause"),e.playMode===o&&"undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playPause"),clearTimeout(e.hideControlTimer)}),n.event.on(e.video,"play",function(){n.className.remove(e.el,"play-status-pause"),clearTimeout(e.hideControlTimer),e.playMode===t?"undefined"!=typeof window.advPlayStatus&&window.advPlayStatus("playResume"):"undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playResume"),e.hideControlTimer=setTimeout(function(){},1500),e.poster.style.display="none"}),n.event.on(e.video,"ended",function(){e.playNextChip()}),n.event.on(e.video,"loadstart",function(){e.video.style.width="100%",e.video.style.height="100%",e.loadingBar.style.display="block"});var a=0,r=0,s=e.curPlayedSecond;setInterval(function(){e.curPlayedSecond!==s?(a++,a>2&&(a=0,r=0,s=e.curPlayedSecond,e.loadingBar.style.display="none")):(r++,r>3&&(r=0,a=0,e.loadingBar.style.display="block"))},500),n.event.on(e.video,"playing",function(){e.loadingBar.style.display="none",clearTimeout(e.advTimeout)}),n.event.on(e.video,"seek",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"seeking",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"timeupdate",function(){var t=e.video.duration,o=e.video.currentTime;if(t){var n=o/t;e.progressPass.style.width=100*n+"%",e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t),Math.floor(o)!==e.curPlayedSecond&&(e.curPlayedSecond=Math.floor(o),e.showAd&&e.updateAdvTimer(),1===e.curPlayedSecond&&e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&tpl=search_xdplayer&tn=search_xdplayer&stp=start&ty="+e.playMode+"&refer="+encodeURIComponent(document.referrer)))}}),n.event.on(e.video,"durationchange",function(){var t=e.video.duration,o=e.video.currentTime;e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t)}),n.event.on(e.video,"error",function(){var t={fr:document.referrer,pg:document.location.href,mod:e.playMode,stp:"SpecialH5Playerror",sr:encodeURIComponent(e.video.src)};e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+n.jsonToQuery(t)+"&"+(e.frontAd?e.frontAd.log+"&"+e.frontAd.logTail:"")),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(e.setPlayMode(o),clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete())},1e3)}),n.event.on(e.controlBar,"click",function(t){var o=t.target;if(n.className.has(o,"control-content")){if(o.closest(".front-ad-xiaodu-h5player")&&e.advLinkEl&&e.advLinkEl.getAttribute("data-adurl")){var a=e.advLinkEl.getAttribute("data-adurl");return n.event.trigger(e.advLinkEl,"click"),void(a&&window.open(a))}e.video.paused?e.play():e.video.pause()}else if(n.className.has(o,"play-icon"))e.video.paused?e.play():e.video.pause();else if(e.progressBar.contains(o))e.updateProgress(t);else if(e.volumnBar.contains(o))e.updateVolumn(t);else if(n.className.has(o,"zoom-in"))try{document.fullscreenEnabled||document.webkitFullscreenEnabled?e.video.webkitEnterFullscreen():document.fullscreenEnabled||document.mozFullScreenEnabled?e.video.mozRequestFullScreen():(document.fullscreenEnabled||document.msFullscreenEnabled)&&e.video.msRequestFullscreen()}catch(r){}}),n.event.on(e.advLinkEl,"click",function(t){var o=(t.target,e.advLinkEl.getAttribute("data-adurl"));n.event.trigger(e.advLinkEl,"click"),o&&window.open(o)});var l=n.proxy(e.updateProgress,e),c=n.proxy(e.updateVolumn,e);n.event.on(e.controlBar,"mousedown",".progress-bar-el .cur-heart",function(){n.event.on(e.progressBar,"mousemove",l)}),n.event.on(e.controlBar,"mouseup",function(){n.event.off(e.progressBar,"mousemove",l)}),n.event.on(e.controlBar,"mouseleave",function(){n.event.off(e.progressBar,"mousemove",l),n.event.off(e.volumnBar,"mousemove",c)}),n.event.on(e.controlBar,"mouseover",".adv-mute",function(){clearTimeout(e.hoverVolumeTimer),n.className.has(e.volumnBar,"hover-volume")||n.className.add(e.volumnBar,"hover-volume")}),n.event.on(e.controlBar,"mouseout",".adv-mute",function(){e.hoverVolumeTimer=setTimeout(function(){n.className.has(e.volumnBar,"hover-volume")&&n.className.remove(e.volumnBar,"hover-volume")},300)}),n.event.on(e.controlBar,"mouseover",".volumn-bar-wrap",function(){clearTimeout(e.hoverVolumeTimer),n.className.has(e.volumnBar,"hover-volume")||n.className.add(e.volumnBar,"hover-volume")}),n.event.on(e.controlBar,"mouseout",".volumn-bar-wrap",function(){e.hoverVolumeTimer=setTimeout(function(){n.className.has(e.volumnBar,"hover-volume")&&n.className.remove(e.volumnBar,"hover-volume")},300)}),n.event.on(e.controlBar,"mousedown",".volumn-bar-wrap .cur-heart",function(){n.event.on(e.volumnBar,"mousemove",c)}),n.event.on(e.controlBar,"mouseup",function(){n.event.off(e.volumnBar,"mousemove",c)}),n.event.on(e.advMute,"click",function(t){t.stopPropagation(),e.setVolumn(e.isMute?e.saveVolumn||.5:0)}),n.event.on(e.advLinkEl,"mouseover",function(){n.className.add(e.el,"xiaodu-h5player-hover")}),n.event.on(e.advLinkEl,"mouseout",function(){n.className.remove(e.el,"xiaodu-h5player-hover")}),n.event.on(e.advLinkEl,"click",function(t){window.xiaodu_h5player_clickVideoAd&&window.xiaodu_h5player_clickVideoAd(),t.stopPropagation();try{i.log(e.playList[e.curPlayNum-1].log.click)}catch(o){}var n=t.target["static"];if(n&&n.length)for(var a=0;a<n.length;a++)e.log(n[a]+(-1!==n[a].indexOf("?")?"&":"?")+e.frontAd.logTail)})},e.prototype.play=function(){this.video&&this.video.play()},e.prototype.pause=function(){this.video&&this.video.pause()},e.swf=n.swf,e}(),i=__usebyinline__=function(){function e(e,t){"object"==typeof e&&(t=e,e=t.constructor||function(){}),delete t.constructor;var o={},n=function(){e.apply(this,arguments)};for(var a in e.prototype)e.prototype.hasOwnProperty(a)&&(o[a]=e.prototype[a]);for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);return o.constructor=e.prototype.constructor,n.prototype=o,n}function t(e,t){return Object.prototype.hasOwnProperty.call(e,"shimed")?e:(t=t||Object.prototype.toString.call(e).match(/^\[object ([a-zA-Z]+)\]$/)[1],new(n[t.toLowerCase()])(e))}var o={},n={},a=window.document;return n.array=n.htmlcollection=n.nodelist=e({constructor:function(e){this.value=e,this.shimed=!0},forEach:function(e){for(var t,o=0;o<this.value.length&&(t=e(this.value[o]),"break"!=t);o++);return this},map:function(e){for(var t=0;t<this.value.length;t++)this.value[t]=e(this.value[t]);return this},indexOf:function(){},filter:function(){}}),n.object=e({constructor:function(e){this.value=e,this.shimed=!0},assign:function(){if(arguments.length)for(var e=0;e<arguments.length;e++)if("object"==typeof arguments[e])for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(this.value[t]=arguments[e][t]);return this},keys:function(){var e=[];for(var t in this.value)this.value.hasOwnProperty(t)&&e.push(t);return new n.array(e)},has:function(){}}),o.shim=t,o.jsonToQuery=function(e){var o=t(e).keys().map(function(t){return t+"="+e[t]});return o.value.join("&")},o.queryToJson=function(e){var o={},n=e.split("&");return t(n).forEach(function(e){if(e){var t=e.split("=");t[0]&&t[1]&&(o[t[0]]=t[1])}}),o},o.jsonParse=function(e){if(window.JSON&&window.JSON.parse)try{return window.JSON.parse(e+"")}catch(t){throw t}else Function("return "+e)()},o.jsonStringify=function(e){if(window.JSON&&window.JSON.stringify)try{return window.JSON.stringify(e)}catch(t){throw t}if("[object Array]"===Object.prototype.toString.call(e)){for(var n=[],a=0;a<e.length;a++)n.push(o.jsonStringify(e[a]));return"["+n.join(",")+"]"}if("[object Object]"===Object.prototype.toString.call(e)){var n=[];for(var r in e)e.hasOwnProperty(r)&&n.push('"'+r+'":'+o.jsonStringify(e[r]));return"{"+n.join(",")+"}"}return"[object Function]"===Object.prototype.toString.call(e)||"[object Null]"===Object.prototype.toString.call(e)?"null":"[object Number]"===Object.prototype.toString.call(e)?e.toString():'"'+e.toString()+'"'},o.getRandom=function(){return Math.floor(2147483648*Math.random()).toString(32)},o.jsonParse=function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e+""):void Function("return "+e)()},o.trim=function(e){return e?(e+="",e=e.replace(/^(\s+)?/g,""),e=e.replace(/((?:.+)(?:\S))?(\s+)$/g,"$1")):""},o.globalEval=function(e){e&&o.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},o.sendlog=function(e){var t=new Image,n="video_ajax_log_"+o.getRandom();window[n]=t,t.onload=t.onerror=t.onabort=function(){try{delete window[n]}catch(e){window[n]=void 0}t=null},e+=e.indexOf("?")>-1?"&":"?",e+=".stamp="+Math.random(),t.src=e},o.log=function(e){return e?"string"==typeof e?o.sendlog(e):void t(e).forEach(function(e){o.sendlog(e)}):void 0},o.broswser=new(e({constructor:function(){this.ua=window.navigator.userAgent,this.re=window.RegExp,this.name="",this.os="",this.version="",this.regs={ieLow:/(?:ms|\()(ie)\s([\w\.]+)/i,ieHig:/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,webkit:/(webkit)\/([\w\.]+)/i,gecko:/rv\:([\w\.]+).*(gecko)/i,presto:/(presto)\/([\w\.]+)/i,mac:/(macintosh|mac(?=_powerpc)\s)/i,ios:/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i,android:/(android)[\/\s-]?([\w\.]+)*/i},this.checkBrowser()},checkBrowser:function(){var e=this;t(["ieLow","ieHig","webkit","gecko","presto"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.name=e.re.$1.toLowerCase(),"ieHig"===t&&(e.name="ie"),e.version=e.re.$2,"break"):void 0}),t(["mac","ios","android"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.os=t,"break"):void 0})}})),o.cookie={isValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getRaw:function(e){if(o.cookie.isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(a.cookie);if(n)return n[2]||null}return null},get:function(e){var t=o.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setRaw:function(e,t,n){if(o.cookie.isValidKey(e)){n=n||{};var r=n.expires;"number"==typeof n.expires&&(r=new Date,r.setTime(r.getTime()+n.expires)),a.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(r?"; expires="+r.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},remove:function(e,t){t=t||{},t.expires=new Date(0),o.cookie.setRaw(e,"",t)},set:function(e,t,n){o.cookie.setRaw(e,encodeURIComponent(t),n)}},o.event={isSupportTouch:!!("ontouchstart"in window),touchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",touchcancel:"touchcancel",click:"touchstart"},on:function(e,n,a,r){"function"==typeof a&&(r=a,a="");var i=function(n){if(n.type in o.event.touchMap){if((new Date).getTime()-i.timespan<50)return;
i.timespan=(new Date).getTime()}var n=n||window.event;if(n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),n.srcElement&&(n.target=n.srcElement),n.touches&&n.touches[0]&&(n.pageX=n.touches[0].pageX,n.pageY=n.touches[0].pageY),a){var s=o.query(e,a),l=!1;if(t(s,"array").forEach(function(e){return e&&e.contains&&e.contains(n.target)||e===n.target?(l=!0,"break"):void 0}),!l)return}r(n)};i.timespan=(new Date).getTime(),r.callee=i,e.addEventListener?(e.addEventListener(n,i,!1),o.event.isSupportTouch&&o.event.touchMap[n]&&"click"!==n&&e.addEventListener(o.event.touchMap[n],i,!1)):e.attachEvent&&e.attachEvent("on"+n,i)},off:function(e,t,n){n.callee||(n.callee=n),e.addEventListener?(e.removeEventListener(t,n.callee,!1),o.event.isSupportTouch&&o.event.touchMap[t]&&e.removeEventListener(o.event.touchMap[t],n.callee,!1)):e.attachEvent&&e.detachEvent("on"+t,n.callee)},trigger:function(e,t){var o;if(document.createEvent)o=document.createEvent("Events"),o.initEvent(t,!0,!0);else{if(!document.createEventObject)return;o=document.createEventObject()}o.target=e,e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent(t,o)}},o.className={has:function(e,t){var o=" "+e.className+" ",n=new RegExp("\\s"+t+"\\s");return n.test(o)?!0:!1},add:function(e,n){e.length&&e.length>0?t(e).forEach(function(e){o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))}):o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))},remove:function(e,n){var a=new RegExp("\\s"+n+"\\s","g");if(e.length&&e.length>0)t(e).forEach(function(e){var t=" "+e.className+" ";a.test(t)&&(t=o.trim(t.replace(a," ")),e.className=t.replace(/\s+/g," "))});else{var r=" "+e.className+" ";a.test(r)&&(r=o.trim(r.replace(a," ")),e.className=r.replace(/\s+/g," "))}}},o.query=function(e,t){function o(e,t,a){var r=a[t],i=e.children;if(i&&i.length)for(var s=0;s<i.length;s++){var l=i[s],c=r.match(/\.(\S+)/),u=r.match(/\#(\S+)/),d=r.match(/\[(.+)\]/),p=!1;if(c){var v=" "+l.className+" ",f=new RegExp("\\s"+c[1]+"\\s");f.test(v)&&(p=!0)}else if(u)l.id&&l.id.toUpperCase()===r.toUpperCase()&&(p=!0);else if(d){var h=d[1].split("="),m=h[0],y=h[1]||"";l.getAttribute(m)===y&&(p=!0)}else l.tagName&&l.tagName.toUpperCase()===r.toUpperCase()&&(p=!0);p?a[t+1]?o(l,t+1,a):n.push(l):o(l,t,a)}}var n=[];if("string"==typeof e)t=e.toString(),e=a.body;else if(!t||"string"!=typeof t)return e;if(e.querySelectorAll)return e.querySelectorAll(t);t=t.replace(/\s+/g," ");var r=t.split(" ");if(e===a.body){var i=r[0].match(/\#(\S+)/);i&&(e=a.getElementById(i[1]),r.shift(),e&&!r.length&&n.push(e))}return r.length&&o(e,0,r),n},o.proxy=function(e,t){return function(){e.apply(t,arguments)}},o.ajax=function(e){e=t({type:"GET",data:{},callbackname:"",charset:"utf-8",dataType:"json",success:function(){},error:function(){}}).assign(e).value;var n=e.callbackname||"video_ajax_callback_"+o.getRandom(),r=a.createElement("script"),i=a.getElementsByTagName("head")[0]||a.body;window[n]=function(t){e.success(t),window[n]=null},r.onload=function(){r.parentNode.removeChild(r)},r.charset=e.charset,r.async=!1,r.src=e.url+(-1===e.url.indexOf("?")?"?":"&")+o.jsonToQuery(t({}).assign(e.data,{callback:n}).value),i.insertBefore(r,i.firstChild)},o.ready=function(){var e,t=!1,n=[],r=0,i=function(){if(r++,a.readyState&&"complete"===a.readyState&&(t=!0),"ie"===o.broswser.name&&o.broswser.version<9)try{a.documentElement.doScroll("left"),t=!0}catch(i){}if(t)for(clearInterval(e);n.length;){var s=n.splice(0,1);s[0]()}r>5e3&&clearInterval(e)};return e=setInterval(i,50),o.event.on(a,"DOMContentLoaded",function(){t=!0,i()}),o.event.on(window,"load",function(){t=!0,i()}),function(e){"function"==typeof e&&(t?e():n.push(e))}}(),o.swf={embed:function(e){var n=e.wrap,a="transparent";if(e.wrap&&"string"==typeof e.wrap)var n=o.query(e.wrap)[0];e.vars&&"object"==typeof e.vars&&(e.vars=o.jsonToQuery(e.vars)),e.movie=e.url,e.data=e.url,e.flashvars=e.vars,location.href.indexOf("baidu.com/kan/play/xdplay?url")&&(a="direct");var r=t({align:"middle",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",wmode:a,allowscriptaccess:"never",type:"application/x-shockwave-flash",width:"100%",height:"100%",allowfullscreen:!0}).assign(e).value,i='<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link" static="stp=clickopenflash">点这里启用Flash</a></div>',s="<object";"ie"===o.broswser.name&&o.broswser.version<11?(t(["classid","codebase","id","width","height","align"]).forEach(function(e){r[e]&&(s+=" "+e+"="+r[e])}),s+=">",t(["movie","flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){r[e]&&(s+=" <param name="+e+" value="+r[e]+" />")}),s+=i+"</object>"):(t(["id","width","height","align","data","type"]).forEach(function(e){r[e]&&(s+=" "+e+"="+r[e])}),s+=">",t(["flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){r[e]&&(s+=" <param name="+e+" value="+r[e]+" />")}),s+=i+"</object>"),n.innerHTML=s},exec:function(e,t){var o=a.getElementById(e);if(o&&"OBJECT"===o.nodeName){var n=arguments;o[t]?o[t].apply(o,Array.prototype.slice.call(n,2)):setTimeout(function(){n.callee.apply(null,n)},200)}},remove:function(e){var t=a.getElementById(e);t&&"OBJECT"===t.nodeName&&("ie"===o.broswser.name&&o.broswser.version<11?(t.style.display="none",function(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},support:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e}()},o.tmpl=function(){var e={};return function t(o,n){var a=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[o]=e[o]||t(document.getElementById(o).innerHTML);return n?a(n):a}}(),o.getDebugLogUrl=function(e,t,n){var a="http://pc.videoclick.baidu.com/u.gif?";try{t=t||0,n=n||"PCfrontvideo";var r="";r=encodeURIComponent(window.parent===window||window.self===window.top?location.href:document.referrer);var i={state:e,position:n,site:r,sync:t},s="";o.shim(i).keys().forEach(function(e){var t="&"+e+"="+i[e];s+=t}),a+=s}catch(l){a=""}return a},o.debugLog=function(e){var t=new Image;e=e+"&stamp="+Math.random(),t.src=e},o}();t.playVideolist=function(t){o()||"undefined"!=typeof BAIDU_VIDEO_ADM_FILL_ASYC&&(window[t.el+"_afterGetVideoAdData"]=function(o,a){$.ajax({url:"http://v.baidu.com/channel/commonapi/playurl",dataType:"jsonp",method:"get",success:function(s){function l(){return $(window).scrollTop()+$(window).height()}function c(){var e,t=l(),n=!1;if(e=$("#"+o.id)[0],$(e).offset().top<t){var a=new r({el:o.id,volume:0,showAd:!1,mute:!0,isMute:!0,autoplay:1,isAutoLooping:!0,video:m}),s=!1;i.event.on(a.video,"ended",function(){s||(s=!0,a.pause())}),n=!0}n&&(w.remove(window,c),isAddedEvent=!1)}if(s&&s.data&&!(s.data.length<1)){var u=[];for(var d in s.data){var p=d;"duba"===t.site&&(p=d.indexOf("?")?p:p+"?",p+="&fr=v.duba.com"),u.push({play_url:s.data[d].mp4||"",link:d,contenttype:"content",title:s.data[d].title||"",duration:"",href:p})}for(var v=[],d=0;d<a.length;d++){var f={},h=a[d];f.play_url=h.video_url,f.link=h.url,f.duration=h.video_time,f.contenttype="ad",f.adtitle="广告",f.href="",f.title="",f.log=n(h),v.push(f)}for(var m=new Array(20),d=0;10>d;d++){var y=m[2*d]={},g=v[d%v.length];y.adtitle=g.adtitle,y.contenttype=g.contenttype,y.duration=g.duration,y.link=g.link,y.play_url=g.play_url,m[2*d+1]=u[d%u.length],y.title=m[2*d+1].title,y.href=m[2*d+1].href,y.log=g.log}t.callback&&t.callback();var w=e("common:static/ui/scrolling/scrolling.js");w(window,c),c()}}})},BAIDU_VIDEO_ADM_FILL_ASYC(t.material_id,t.el,function(){}))},t.playVideoBefore=function(e){function t(e,t){for(var o=[],s=0;s<t.length;s++){var l={},c=t[s];l.play_url=c.video_url,l.link=c.url,l.duration=c.video_time,l.contenttype="ad",l.adtitle="",l.title="",l.subtitle="",l.log=n(c),o.push(l)}var u={ad:[o[0]],duration:o[0].duration};window.xiaodu_h5player_startPlayVideoAd=function(){i.query(".baidu-adv-rightbottom-pop-container")&&i.query(".baidu-adv-rightbottom-pop-container")[0]&&(i.query(".baidu-adv-rightbottom-pop-container")[0].style.display="none"),a.getElementById("default-full-screen-ad-wrap").style.visibility="visible";var t=new r({el:e.id,volume:.5,showAd:!0,mute:!1,autoplay:0});window.xiaodu_h5player_bindCloseAd&&window.xiaodu_h5player_bindCloseAd(),i.event.on(t.video,"ended",function(){window.xiaodu_h5player_afterPlayVideoAd&&window.xiaodu_h5player_afterPlayVideoAd()});try{t.initFrontAd(u)}catch(o){window.xiaodu_h5player_afterPlayVideoAd&&window.xiaodu_h5player_afterPlayVideoAd()}}}o()||(window[e.el+"_afterGetVideoAdData"]=function(e,o){t(e,o)},"undefined"!=typeof BAIDU_VIDEO_ADM_FILL_ASYC&&BAIDU_VIDEO_ADM_FILL_ASYC(e.material_id,e.el))}});
;__usebyinline__=function(){function e(e){var t=this;this.option=e,e.wrap&&(e.el=e.wrap),this.el=e.el&&"string"!=typeof e.el?e.el:/^[^\.#:>]+/.test(e.el)?n.query("#"+e.el)[0]:n.query(e.el)[0],this.option.autoplay=0!==this.option.autoplay,this.showAd=!1||e.showAd,n.className.add(this.el,"bdv-video-player-contianer"),this.el.innerHTML=this.getDom(),this.video=n.query(this.el,".video-player")[0],this.poster=n.query(this.el,".player-poster")[0],this.ctrCover=n.query(this.el,".control-cover")[0],this.playButton=n.query(this.el,".play-icon"),this.progressBar=n.query(this.el,".progress-bar-el")[0],this.progressPass=n.query(this.progressBar,".progress-pass")[0],this.controlBar=n.query(this.el,".player-control")[0],this.volumeBaseBar=n.query(this.el,".progress-track-icon")[0],this.controlBarEl=n.query(this.controlBar,".control-bar")[0],this.loadingBar=n.query(this.el,".play-loading")[0],this.timeBar=n.query(this.controlBar,".control-cover .time")[0],this.contentTitle=n.query(this.el,".video-adv-wrap-desc .title")[0],this.adIconWrap=n.query(this.el,".ad-icon")[0],this.adVolumIco=n.query(this.el,".volumn-bar-el .cur-heart")[0],this.advTimer=n.query(this.el,".adv-timer")[0],this.advMute=n.query(this.el,".adv-mute")[0],this.advLinkElement=n.query(this.el,".ad-link-layer"),this.advLinkEl=this.advLinkElement[0],this.volumnBar=n.query(this.el,".volumn-bar-wrap")[0],this.volumnPass=n.query(this.volumnBar,".progress-pass")[0],t.isAutoLooping=this.option.isAutoLooping||!1,this.hideControlTimer=null,this.width=this.el.offsetWidth,this.height=this.width*(9/16),this.progessTotal=this.progressBar.offsetWidth,this.curPlayedSecond=null,this.logConf={},this.isMute=!1,this.advTimeout=null,this.adcompleteTimer=null,this.defaultMuted=this.option.defaultMuted||!1,this.saveVolumn=this.option.volume||0,this.advTimer.style.display="none",this.playMode=o,this.videoList=[],this.playList=[],this.hoverVolumeTimer=null,this.initEvent(),this.initVideo(this.option.video||[],this.option.poster)}{var t="ad",o="video",n=__usebyinline__=function(){function e(e,t){"object"==typeof e&&(t=e,e=t.constructor||function(){}),delete t.constructor;var o={},n=function(){e.apply(this,arguments)};for(var a in e.prototype)e.prototype.hasOwnProperty(a)&&(o[a]=e.prototype[a]);for(var a in t)t.hasOwnProperty(a)&&(o[a]=t[a]);return o.constructor=e.prototype.constructor,n.prototype=o,n}function t(e,t){return Object.prototype.hasOwnProperty.call(e,"shimed")?e:(t=t||Object.prototype.toString.call(e).match(/^\[object ([a-zA-Z]+)\]$/)[1],new(n[t.toLowerCase()])(e))}var o={},n={},a=window.document;return n.array=n.htmlcollection=n.nodelist=e({constructor:function(e){this.value=e,this.shimed=!0},forEach:function(e){for(var t,o=0;o<this.value.length&&(t=e(this.value[o]),"break"!=t);o++);return this},map:function(e){for(var t=0;t<this.value.length;t++)this.value[t]=e(this.value[t]);return this},indexOf:function(){},filter:function(){}}),n.object=e({constructor:function(e){this.value=e,this.shimed=!0},assign:function(){if(arguments.length)for(var e=0;e<arguments.length;e++)if("object"==typeof arguments[e])for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(this.value[t]=arguments[e][t]);return this},keys:function(){var e=[];for(var t in this.value)this.value.hasOwnProperty(t)&&e.push(t);return new n.array(e)},has:function(){}}),o.shim=t,o.jsonToQuery=function(e){var o=t(e).keys().map(function(t){return t+"="+e[t]});return o.value.join("&")},o.queryToJson=function(e){var o={},n=e.split("&");return t(n).forEach(function(e){if(e){var t=e.split("=");t[0]&&t[1]&&(o[t[0]]=t[1])}}),o},o.jsonParse=function(e){if(window.JSON&&window.JSON.parse)try{return window.JSON.parse(e+"")}catch(t){throw t}else Function("return "+e)()},o.jsonStringify=function(e){if(window.JSON&&window.JSON.stringify)try{return window.JSON.stringify(e)}catch(t){throw t}if("[object Array]"===Object.prototype.toString.call(e)){for(var n=[],a=0;a<e.length;a++)n.push(o.jsonStringify(e[a]));return"["+n.join(",")+"]"}if("[object Object]"===Object.prototype.toString.call(e)){var n=[];for(var i in e)e.hasOwnProperty(i)&&n.push('"'+i+'":'+o.jsonStringify(e[i]));return"{"+n.join(",")+"}"}return"[object Function]"===Object.prototype.toString.call(e)||"[object Null]"===Object.prototype.toString.call(e)?"null":"[object Number]"===Object.prototype.toString.call(e)?e.toString():'"'+e.toString()+'"'},o.getRandom=function(){return Math.floor(2147483648*Math.random()).toString(32)},o.jsonParse=function(e){return window.JSON&&window.JSON.parse?window.JSON.parse(e+""):void Function("return "+e)()},o.trim=function(e){return e?(e+="",e=e.replace(/^(\s+)?/g,""),e=e.replace(/((?:.+)(?:\S))?(\s+)$/g,"$1")):""},o.globalEval=function(e){e&&o.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},o.sendlog=function(e){var t=new Image,n="video_ajax_log_"+o.getRandom();window[n]=t,t.onload=t.onerror=t.onabort=function(){try{delete window[n]}catch(e){window[n]=void 0}t=null},e+=e.indexOf("?")>-1?"&":"?",e+=".stamp="+Math.random(),t.src=e},o.log=function(e){return e?"string"==typeof e?o.sendlog(e):void t(e).forEach(function(e){o.sendlog(e)}):void 0},o.broswser=new(e({constructor:function(){this.ua=window.navigator.userAgent,this.re=window.RegExp,this.name="",this.os="",this.version="",this.regs={ieLow:/(?:ms|\()(ie)\s([\w\.]+)/i,ieHig:/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i,webkit:/(webkit)\/([\w\.]+)/i,gecko:/rv\:([\w\.]+).*(gecko)/i,presto:/(presto)\/([\w\.]+)/i,mac:/(macintosh|mac(?=_powerpc)\s)/i,ios:/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i,android:/(android)[\/\s-]?([\w\.]+)*/i},this.checkBrowser()},checkBrowser:function(){var e=this;t(["ieLow","ieHig","webkit","gecko","presto"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.name=e.re.$1.toLowerCase(),"ieHig"===t&&(e.name="ie"),e.version=e.re.$2,"break"):void 0}),t(["mac","ios","android"]).forEach(function(t){return e.regs[t].test(e.ua)?(e.os=t,"break"):void 0})}})),o.cookie={isValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getRaw:function(e){if(o.cookie.isValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(a.cookie);if(n)return n[2]||null}return null},get:function(e){var t=o.cookie.getRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setRaw:function(e,t,n){if(o.cookie.isValidKey(e)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),a.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},remove:function(e,t){t=t||{},t.expires=new Date(0),o.cookie.setRaw(e,"",t)},set:function(e,t,n){o.cookie.setRaw(e,encodeURIComponent(t),n)}},o.event={isSupportTouch:!!("ontouchstart"in window),touchMap:{mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend",touchcancel:"touchcancel",click:"touchstart"},on:function(e,n,a,i){"function"==typeof a&&(i=a,a="");var r=function(n){if(n.type in o.event.touchMap){if((new Date).getTime()-r.timespan<50)return;r.timespan=(new Date).getTime()}var n=n||window.event;if(n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),n.srcElement&&(n.target=n.srcElement),n.touches&&n.touches[0]&&(n.pageX=n.touches[0].pageX,n.pageY=n.touches[0].pageY),a){var s=o.query(e,a),l=!1;if(t(s,"array").forEach(function(e){return e&&e.contains&&e.contains(n.target)||e===n.target?(l=!0,"break"):void 0}),!l)return}i(n)};r.timespan=(new Date).getTime(),i.callee=r,e.addEventListener?(e.addEventListener(n,r,!1),o.event.isSupportTouch&&o.event.touchMap[n]&&"click"!==n&&e.addEventListener(o.event.touchMap[n],r,!1)):e.attachEvent&&e.attachEvent("on"+n,r)},off:function(e,t,n){n.callee||(n.callee=n),e.addEventListener?(e.removeEventListener(t,n.callee,!1),o.event.isSupportTouch&&o.event.touchMap[t]&&e.removeEventListener(o.event.touchMap[t],n.callee,!1)):e.attachEvent&&e.detachEvent("on"+t,n.callee)},trigger:function(e,t){var o;if(document.createEvent)o=document.createEvent("Events"),o.initEvent(t,!0,!0);else{if(!document.createEventObject)return;o=document.createEventObject()}o.target=e,e.dispatchEvent?e.dispatchEvent(o):e.fireEvent&&e.fireEvent(t,o)}},o.className={has:function(e,t){var o=" "+e.className+" ",n=new RegExp("\\s"+t+"\\s");return n.test(o)?!0:!1},add:function(e,n){e.length&&e.length>0?t(e).forEach(function(e){o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))}):o.className.has(e,n)||(e.className=o.trim(e.className+" "+n))},remove:function(e,n){var a=new RegExp("\\s"+n+"\\s","g");if(e.length&&e.length>0)t(e).forEach(function(e){var t=" "+e.className+" ";a.test(t)&&(t=o.trim(t.replace(a," ")),e.className=t.replace(/\s+/g," "))});else{var i=" "+e.className+" ";a.test(i)&&(i=o.trim(i.replace(a," ")),e.className=i.replace(/\s+/g," "))}}},o.query=function(e,t){function o(e,t,a){var i=a[t],r=e.children;if(r&&r.length)for(var s=0;s<r.length;s++){var l=r[s],c=i.match(/\.(\S+)/),u=i.match(/\#(\S+)/),d=i.match(/\[(.+)\]/),p=!1;if(c){var v=" "+l.className+" ",m=new RegExp("\\s"+c[1]+"\\s");m.test(v)&&(p=!0)}else if(u)l.id&&l.id.toUpperCase()===i.toUpperCase()&&(p=!0);else if(d){var f=d[1].split("="),h=f[0],y=f[1]||"";l.getAttribute(h)===y&&(p=!0)}else l.tagName&&l.tagName.toUpperCase()===i.toUpperCase()&&(p=!0);p?a[t+1]?o(l,t+1,a):n.push(l):o(l,t,a)}}var n=[];if("string"==typeof e)t=e.toString(),e=a.body;else if(!t||"string"!=typeof t)return e;if(e.querySelectorAll)return e.querySelectorAll(t);t=t.replace(/\s+/g," ");var i=t.split(" ");if(e===a.body){var r=i[0].match(/\#(\S+)/);r&&(e=a.getElementById(r[1]),i.shift(),e&&!i.length&&n.push(e))}return i.length&&o(e,0,i),n},o.proxy=function(e,t){return function(){e.apply(t,arguments)}},o.ajax=function(e){e=t({type:"GET",data:{},callbackname:"",charset:"utf-8",dataType:"json",success:function(){},error:function(){}}).assign(e).value;var n=e.callbackname||"video_ajax_callback_"+o.getRandom(),i=a.createElement("script"),r=a.getElementsByTagName("head")[0]||a.body;window[n]=function(t){e.success(t),window[n]=null},i.onload=function(){i.parentNode.removeChild(i)},i.charset=e.charset,i.async=!1,i.src=e.url+(-1===e.url.indexOf("?")?"?":"&")+o.jsonToQuery(t({}).assign(e.data,{callback:n}).value),r.insertBefore(i,r.firstChild)},o.ready=function(){var e,t=!1,n=[],i=0,r=function(){if(i++,a.readyState&&"complete"===a.readyState&&(t=!0),"ie"===o.broswser.name&&o.broswser.version<9)try{a.documentElement.doScroll("left"),t=!0}catch(r){}if(t)for(clearInterval(e);n.length;){var s=n.splice(0,1);s[0]()}i>5e3&&clearInterval(e)};return e=setInterval(r,50),o.event.on(a,"DOMContentLoaded",function(){t=!0,r()}),o.event.on(window,"load",function(){t=!0,r()}),function(e){"function"==typeof e&&(t?e():n.push(e))}}(),o.swf={embed:function(e){var n=e.wrap,a="transparent";if(e.wrap&&"string"==typeof e.wrap)var n=o.query(e.wrap)[0];e.vars&&"object"==typeof e.vars&&(e.vars=o.jsonToQuery(e.vars)),e.movie=e.url,e.data=e.url,e.flashvars=e.vars,location.href.indexOf("baidu.com/kan/play/xdplay?url")&&(a="direct");var i=t({align:"middle",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",wmode:a,allowscriptaccess:"never",type:"application/x-shockwave-flash",width:"100%",height:"100%",allowfullscreen:!0}).assign(e).value,r='<div class="no-flash-tips">您的flash可能被禁用或版本过低,为了能够正常观看视频，请您<a href="http://get.adobe.com/cn/flashplayer/?no_redirect" target="_blank" class="a-flash-link" static="stp=clickopenflash">点这里启用Flash</a></div>',s="<object";"ie"===o.broswser.name&&o.broswser.version<11?(t(["classid","codebase","id","width","height","align"]).forEach(function(e){i[e]&&(s+=" "+e+"="+i[e])}),s+=">",t(["movie","flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){i[e]&&(s+=" <param name="+e+" value="+i[e]+" />")}),s+=r+"</object>"):(t(["id","width","height","align","data","type"]).forEach(function(e){i[e]&&(s+=" "+e+"="+i[e])}),s+=">",t(["flashvars","wmode","allowscriptaccess","allowfullscreen","scale","salign"]).forEach(function(e){i[e]&&(s+=" <param name="+e+" value="+i[e]+" />")}),s+=r+"</object>"),n.innerHTML=s},exec:function(e,t){var o=a.getElementById(e);if(o&&"OBJECT"===o.nodeName){var n=arguments;o[t]?o[t].apply(o,Array.prototype.slice.call(n,2)):setTimeout(function(){n.callee.apply(null,n)},200)}},remove:function(e){var t=a.getElementById(e);t&&"OBJECT"===t.nodeName&&("ie"===o.broswser.name&&o.broswser.version<11?(t.style.display="none",function(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))},support:function(){var e=!1;try{e=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(t){e="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}return e}()},o.tmpl=function(){var e={};return function t(o,n){var a=/\W/.test(o)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+o.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):e[o]=e[o]||t(document.getElementById(o).innerHTML);return n?a(n):a}}(),o.getDebugLogUrl=function(e,t,n){var a="http://pc.videoclick.baidu.com/u.gif?";try{t=t||0,n=n||"PCfrontvideo";var i="";i=encodeURIComponent(window.parent===window||window.self===window.top?location.href:document.referrer);var r={state:e,position:n,site:i,sync:t},s="";o.shim(r).keys().forEach(function(e){var t="&"+e+"="+r[e];s+=t}),a+=s}catch(l){a=""}return a},o.debugLog=function(e){var t=new Image;e=e+"&stamp="+Math.random(),t.src=e},o}();!!document.createElement("video").canPlayType}return e.prototype.initVideo=function(e,t){var a=this;a.playList=a.videoList="[object Array]"===Object.prototype.toString.call(e)?e:[e],a.reset(),a.curPlayNum=1,a.setPlayMode(o),a.setupVideoSrc(t,a.playList[0]),a.setVolumn(a.option.mute?0:a.saveVolumn||.5),a.option.autoplay||(a.video.pause(),n.event.trigger(a.video,"pause"))},e.prototype.updateVideo=function(e,t){var o=this;o.initVideo(e,t),o.showAd&&o.frontAd&&o.initFrontAd(o.frontAd)},e.prototype.playNextChip=function(){var e=this,n=e.playList.length;e.reset(),e.curPlayNum<n?(e.curPlayNum++,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.curPlayNum===n&&(e.playMode===t?e.videoList.length>0&&(e.setPlayMode(o),e.playList=e.videoList,e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play()):e.playMode===o&&("undefined"!=typeof window.PlayComplete&&window.PlayComplete(),e.isAutoLooping&&(e.curPlayNum=1,e.setupVideoSrc(null,e.playList[e.curPlayNum-1]),e.play())))},e.prototype.initFrontAd=function(e){var n=this;e&&(n.frontAd=e,n.frontAd.timeLast=Math.round(n.frontAd.duration),n.showAd&&(n.playList=n.frontAd.ad,n.adcompleteTimer=setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(clearTimeout(n.advTimeout),window.advPlayComplete())},1e3*(n.frontAd.timeLast+4)))),n.advTimeout=setTimeout(function(){n.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+n.frontAd.log+"&"+n.frontAd.logTail+"&stp=advtimeout"),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(n.setPlayMode(o),clearTimeout(n.adcompleteTimer),window.advPlayComplete())},1e3)},7e3),n.setPlayMode(t),n.setupVideoSrc(null,n.playList[0]),n.play()},e.prototype.setPlayMode=function(e){var a=this;a.playMode=e,e===t?(a.advTimer.style.display="block",n.className.add(a.el,"play-mode-ad"),n.className.remove(a.el,"play-mode-vd"),a.el.appendChild(a.advMute)):e===o&&(a.advTimer.style.display="none",n.className.add(a.el,"play-mode-vd"),n.className.remove(a.el,"play-mode-ad"),a.controlBarEl.appendChild(a.advMute))},e.prototype.setupVideoSrc=function(e,t){var o=this,a=(new Date).getTime();t=t||{},e&&o.poster.html('<img src="'+e+'" alt="" />'),t.link&&(o.advLinkEl.setAttribute("data-adurl",t.link),o.advLinkEl["static"]=t.clickThroughTrack);try{o.video.removeAttribute("src")}catch(i){}if(t.play_url){if(t&&t.contenttype&&"ad"===t.contenttype)try{utils.log(t.log.show)}catch(i){}try{o.video.src=t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+a}catch(i){o.video.setAttribute("src",t.play_url+(-1===t.play_url.indexOf("?")?"?_=":"&_=")+a)}}t.title&&(o.contentTitle.innerHTML=t.title,o.contentTitle.setAttribute("href",t.href)),t.contenttype&&"ad"===t.contenttype?(n.className.add(o.el,"front-ad-xiaodu-h5player"),o.adIconWrap.innerHTML=t.adtitle):(n.className.remove(o.el,"front-ad-xiaodu-h5player"),o.adIconWrap.innerHTML="")},e.prototype.getDom=function(){return'<video class="video-player" webkit-playsinline x-webkit-airplay="allow" autoplay preload="auto">        </video>        <div class="ad-icon"></div>        <div class="close-icon close-add-before-icon" id="closeIcon">×</div>        <div class="adv-timer" ></div><div class="adv-mute"></div>        <div class="ad-link-layer" data-adurl=""></div>        <div class="player-poster"></div>        <div class="play-loading"></div>        <div class="player-control">            <div class="control-cover">                <span class="play-icon play-icon-pause"></span>                <div class="control-content">                </div>                <div class="control-bar">                        <div class="bg"></div>                        <span class="play-icon"></span>                        <span class="time"></span>                        <div class="progress-bar progress-bar-el">                            <div class="progress-track"></div>                            <div class="progress-pass">                                <span class="cur"></span>                                <span class="cur-heart"></span>                            </div>                        </div>                        <div class="volumn-bar-wrap">                            <div class="volumn-bar-el">                                <div class="progress-track-icon"></div>                                <div class="progress-track"></div>                                <div class="progress-pass">                                    <span class="cur"></span>                                    <span class="cur-heart"></span>                                </div>                            </div>                        </div>                        <span class="zoom-in"></span>                </div>            </div>        </div>        <div class="video-adv-wrap-desc">        <a class="title" target="_blank"></a>        </div>'},e.prototype.reset=function(){var e=this;e.video.pause(),e.poster.style.display="block",e.timeBar.innerHTML="",e.progressPass.style.width=0},e.prototype.updateProgress=function(e){var t=this,o=e.clientX;t.progessTotal=this.progressBar.offsetWidth;var n=o-t.progressBar.getBoundingClientRect().left,a=n/t.progessTotal;0>a&&(a=0),a>1&&(a=1),t.progressPass.style.width=100*a+"%",t.timeBar.innerHTML=t.formatTime(t.video.duration*a)+"/"+t.formatTime(t.video.duration),t.video.currentTime=t.video.duration*a},e.prototype.setVolumn=function(e){var t=this;t.saveVolumn=t.video.volume,0>=e?(e=0,t.isMute=!0,n.className.add(t.advMute,"mute"),t.video.muted=!0):(t.isMute=!1,n.className.remove(t.advMute,"mute"),t.video.muted=!1),e>1&&(e=1),t.volumnPass.style.height=100*e+"%",t.video.volume=e},e.prototype.updateVolumn=function(e){var t=this,o=e.clientY;t.volumnTotal=t.volumnBar.offsetHeight;var n=o-t.volumnBar.getBoundingClientRect().top,a=1-n/t.volumnTotal;t.setVolumn(a)},e.prototype.formatTime=function(e){e||(e=0);var e=Math.round(e),t=Math.floor(e/3600),o=Math.floor((e-60*t*60)/60),n=e-60*t*60-60*o,a=[];return t&&(t=10>t?"0"+t:t,a.push(t)),o=10>o?"0"+o:o,n=10>n?"0"+n:n,a=a.concat([o,n]),a.join(":")},e.prototype.log=function(e){var e=e||"";e=e.replace(/^http\:\/\/nsclick\.baidu\.com/g,"http://pc.videoclick.baidu.com");var t=new Image,o="_log_"+Math.floor(2147483648*Math.random()).toString(36);window[o]=t,t.onload=t.onerror=t.onabort=function(){t.onload=t.onerror=t.onabort=null,window[o]=null,t=null},t.src=e+(-1!==e.indexOf("?")?"&":"?")+"vpl=hw"},e.prototype.updateAdvTimer=function(){var e=this,t=e.frontAd.timeLast--;if(0===t&&"undefined"!=typeof window.advPlayComplete&&(clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete()),e.frontAd&&e.frontAd.tracking){var o=e.frontAd.tracking[e.frontAd.duration-t];if(o)for(var n=0;n<o.length;n++)e.log(o[n]+(-1!==o[n].indexOf("?")?"&":"?")+e.frontAd.logTail)}1>t?this.advTimer.style.display="none":this.advTimer.innerHTML="<em>"+t+"</em> 秒"},e.prototype.initEvent=function(){var e=this;n.event.on(e.video,"pause",function(){n.className.add(e.el,"play-status-pause"),e.playMode===o&&"undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playPause"),clearTimeout(e.hideControlTimer)}),n.event.on(e.video,"play",function(){n.className.remove(e.el,"play-status-pause"),clearTimeout(e.hideControlTimer),e.playMode===t?"undefined"!=typeof window.advPlayStatus&&window.advPlayStatus("playResume"):"undefined"!=typeof window.videoPlayStatus&&window.videoPlayStatus("playResume"),e.hideControlTimer=setTimeout(function(){},1500),e.poster.style.display="none"}),n.event.on(e.video,"ended",function(){e.playNextChip()}),n.event.on(e.video,"loadstart",function(){e.video.style.width="100%",e.video.style.height="100%",e.loadingBar.style.display="block"});var a=0,i=0,r=e.curPlayedSecond;setInterval(function(){e.curPlayedSecond!==r?(a++,a>2&&(a=0,i=0,r=e.curPlayedSecond,e.loadingBar.style.display="none")):(i++,i>3&&(i=0,a=0,e.loadingBar.style.display="block"))},500),n.event.on(e.video,"playing",function(){e.loadingBar.style.display="none",clearTimeout(e.advTimeout)}),n.event.on(e.video,"seek",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"seeking",function(){e.loadingBar.style.display="block"}),n.event.on(e.video,"timeupdate",function(){var t=e.video.duration,o=e.video.currentTime;if(t){var n=o/t;e.progressPass.style.width=100*n+"%",e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t),Math.floor(o)!==e.curPlayedSecond&&(e.curPlayedSecond=Math.floor(o),e.showAd&&e.updateAdvTimer(),1===e.curPlayedSecond&&e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&tpl=search_xdplayer&tn=search_xdplayer&stp=start&ty="+e.playMode+"&refer="+encodeURIComponent(document.referrer)))}}),n.event.on(e.video,"durationchange",function(){var t=e.video.duration,o=e.video.currentTime;e.timeBar.innerHTML=e.formatTime(o)+"/"+e.formatTime(t)}),n.event.on(e.video,"error",function(){var t={fr:document.referrer,pg:document.location.href,mod:e.playMode,stp:"SpecialH5Playerror",sr:encodeURIComponent(e.video.src)};e.log("http://pc.videoclick.baidu.com/u.gif?pid=104&"+n.jsonToQuery(t)+"&"+(e.frontAd?e.frontAd.log+"&"+e.frontAd.logTail:"")),setTimeout(function(){"undefined"!=typeof window.advPlayComplete&&(e.setPlayMode(o),clearTimeout(e.adcompleteTimer),clearTimeout(e.advTimeout),window.advPlayComplete())},1e3)}),n.event.on(e.controlBar,"click",function(t){var o=t.target;if(n.className.has(o,"control-content")){if(o.closest(".front-ad-xiaodu-h5player")&&e.advLinkEl&&e.advLinkEl.getAttribute("data-adurl")){var a=e.advLinkEl.getAttribute("data-adurl");return n.event.trigger(e.advLinkEl,"click"),void(a&&window.open(a))}e.video.paused?e.play():e.video.pause()}else if(n.className.has(o,"play-icon"))e.video.paused?e.play():e.video.pause();else if(e.progressBar.contains(o))e.updateProgress(t);else if(e.volumnBar.contains(o))e.updateVolumn(t);else if(n.className.has(o,"zoom-in"))try{document.fullscreenEnabled||document.webkitFullscreenEnabled?e.video.webkitEnterFullscreen():document.fullscreenEnabled||document.mozFullScreenEnabled?e.video.mozRequestFullScreen():(document.fullscreenEnabled||document.msFullscreenEnabled)&&e.video.msRequestFullscreen()}catch(i){}}),n.event.on(e.advLinkEl,"click",function(t){var o=(t.target,e.advLinkEl.getAttribute("data-adurl"));n.event.trigger(e.advLinkEl,"click"),o&&window.open(o)});var s=n.proxy(e.updateProgress,e),l=n.proxy(e.updateVolumn,e);n.event.on(e.controlBar,"mousedown",".progress-bar-el .cur-heart",function(){n.event.on(e.progressBar,"mousemove",s)}),n.event.on(e.controlBar,"mouseup",function(){n.event.off(e.progressBar,"mousemove",s)}),n.event.on(e.controlBar,"mouseleave",function(){n.event.off(e.progressBar,"mousemove",s),n.event.off(e.volumnBar,"mousemove",l)}),n.event.on(e.controlBar,"mouseover",".adv-mute",function(){clearTimeout(e.hoverVolumeTimer),n.className.has(e.volumnBar,"hover-volume")||n.className.add(e.volumnBar,"hover-volume")}),n.event.on(e.controlBar,"mouseout",".adv-mute",function(){e.hoverVolumeTimer=setTimeout(function(){n.className.has(e.volumnBar,"hover-volume")&&n.className.remove(e.volumnBar,"hover-volume")},300)}),n.event.on(e.controlBar,"mouseover",".volumn-bar-wrap",function(){clearTimeout(e.hoverVolumeTimer),n.className.has(e.volumnBar,"hover-volume")||n.className.add(e.volumnBar,"hover-volume")}),n.event.on(e.controlBar,"mouseout",".volumn-bar-wrap",function(){e.hoverVolumeTimer=setTimeout(function(){n.className.has(e.volumnBar,"hover-volume")&&n.className.remove(e.volumnBar,"hover-volume")},300)}),n.event.on(e.controlBar,"mousedown",".volumn-bar-wrap .cur-heart",function(){n.event.on(e.volumnBar,"mousemove",l)}),n.event.on(e.controlBar,"mouseup",function(){n.event.off(e.volumnBar,"mousemove",l)}),n.event.on(e.advMute,"click",function(t){t.stopPropagation(),e.setVolumn(e.isMute?e.saveVolumn||.5:0)}),n.event.on(e.advLinkEl,"mouseover",function(){n.className.add(e.el,"xiaodu-h5player-hover")}),n.event.on(e.advLinkEl,"mouseout",function(){n.className.remove(e.el,"xiaodu-h5player-hover")}),n.event.on(e.advLinkEl,"click",function(t){window.xiaodu_h5player_clickVideoAd&&window.xiaodu_h5player_clickVideoAd(),t.stopPropagation();try{utils.log(e.playList[e.curPlayNum-1].log.click)}catch(o){}var n=t.target["static"];if(n&&n.length)for(var a=0;a<n.length;a++)e.log(n[a]+(-1!==n[a].indexOf("?")?"&":"?")+e.frontAd.logTail)})},e.prototype.play=function(){this.video&&this.video.play()},e.prototype.pause=function(){this.video&&this.video.pause()},e.swf=n.swf,e}();