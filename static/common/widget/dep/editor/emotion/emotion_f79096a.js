define("common:widget/dep/editor/emotion/emotion",function(a,t,e){var o=a("common:widget/js/util/tangram/tangram"),i=a("common:widget/dep/editor/emotion/map"),n=(a("common:widget/js/util/event/event"),{box:o('<div id="editor-emotion-box"></div>'),showFlag:!1,initFlag:!1,init:function(a){var t=this;t.initFlag||(t.render(),t.selFace(a))},render:function(){var a='<span class="icon-sanjiao"><span class="sj2"></span></span><div class="emotion-wrap"><div class="box">',t=this;t.initFlag=!0;for(var e=1;51>e;e++){var n=e+"";1===n.length?a+='<label><span class="sprite-images-00'+e+'" data-value="'+i.face[e-1].value+'">呵</span></label>':2===n.length&&(a+='<label><span class="sprite-images-0'+e+'" data-value="'+i.face[e-1].value+'">呵</span></label>')}a+="</div></div>",t.box.html(a).hide().appendTo(o("body"))},selFace:function(a){var t=this;t.box.on("click","label",function(t){t.stopPropagation();var e=parseInt(o(this).find("span").attr("class").split("-")[2],10);10>e&&(e="0"+e);var i=o(this).find("span").data("value"),n='<img class="facial facial-emotion" data-value="'+i+'" src="'+KID.httpsTrans("http://img.baidu.com/img/iknow/emotion/write_face_")+e+'.png" />';a.execCommand("inserthtml",n)}),t.box.on("mouseenter","label",function(){o(this).css({background:"#e8e8fe"})}),t.box.on("mouseleave","label",function(){o(this).css({background:"#fff"})})},showFace:function(a){var t=this,e=o(a.getDom()).width(),i=o(a.getDom()).offset().left,n=t.box.width(),s=o(a.getDom()).offset().top+50;t.box.css({left:i-n+e+"px",top:s+"px"}).show(),t.showFlag=!0},hideFace:function(a){var t=this;o(document).click(function(e){{var i=o(a.getDom());o(e.target)}i.is(e.target)||0!==i.has(e.target).length||t.showFlag&&(t.box.hide(),t.showFlag=!1)})}});e.exports=n});