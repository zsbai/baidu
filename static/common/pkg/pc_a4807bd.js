;/*!common:widget/lib/jquery/jquery.js*/
define("common:widget/lib/jquery/jquery",function(e,t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xt[e]={};return it.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){ht.addEventListener?(ht.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(ht.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ht.addEventListener||"load"===event.type||"complete"===ht.readyState)&&(a(),it.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Et,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Nt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(it.acceptData(e)){var i,o,a=it.expando,s=e.nodeType,u=s?it.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=J.pop()||it.guid++:a),u[l]||(u[l]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=it.extend(u[l],t):u[l].data=it.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[it.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[it.camelCase(t)])):i=o,i}}function d(e,t,n){if(it.acceptData(e)){var r,i,o=e.nodeType,a=o?it.cache:e,s=o?e[it.expando]:it.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!it.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?it.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return ht.activeElement}catch(e){}}function m(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?o.push(r):it.merge(o,g(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],o):o}function v(e){jt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,o=it._data(e),a=it._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)it.event.add(t,n,s[n][r])}a.data&&(a.data=it.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&jt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),o}function E(e){var t=ht,n=Zt[e];return n||(n=N(e,t),"none"!==n&&n||(Kt=(Kt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Kt[0].contentWindow||Kt[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Kt.detach()),Zt[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=pn.length;i--;)if(t=pn[i]+n,t in e)return t;return r}function A(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=it._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&At(r)&&(o[a]=it._data(r,"olddisplay",E(r.nodeName)))):(i=At(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function D(e,t,n){var r=ln.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function j(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=it.css(e,n+St[o],!0,i)),r?("content"===n&&(a-=it.css(e,"padding"+St[o],!0,i)),"margin"!==n&&(a-=it.css(e,"border"+St[o]+"Width",!0,i))):(a+=it.css(e,"padding"+St[o],!0,i),"padding"!==n&&(a+=it.css(e,"border"+St[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),a=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tn(e,t,o),(0>i||null==i)&&(i=e.style[t]),rn.test(i))return i;r=a&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+j(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){hn=void 0}),hn=it.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=St[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(xn[t]||[]).concat(xn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&At(e),m=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=it.css(e,"display"),c="none"===l?it._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],gn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||it.style(e,r)}else l=void 0;if(it.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=it._data(e,"fxshow",{}),o&&(m.hidden=!h),h?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;it._removeData(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=it.camelCase(n),i=t[r],o=e[n],it.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=it.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function B(e,t,n){var r,i,o=0,a=bn.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=hn||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:hn||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=bn[o].call(l,e,c,l.opts))return r;return it.map(c,M,l),it.isFunction(l.opts.start)&&l.opts.start.call(e,l),it.fx.timer(it.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,it.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===In;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Jn.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var J=[],Y=J.slice,G=J.concat,Q=J.push,K=J.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.2",it=function(e,t){return new it.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:J.sort,splice:J.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,o=e&&it.isArray(e)?e:[]):o=e&&it.isPlainObject(e)?e:{},a[r]=it.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):Q.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return G.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=Y.call(arguments,2),r=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var lt=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=yt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=P,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=bt.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[P]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[P]||(t[P]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[P]&&(i=v(i)),o&&!o[P]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?et(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return et(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[P]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=A,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(A=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=G.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,A=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,A,D,j,L,H,q,_,M,F,O,B,P="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(j=!0),0},V=1<<31,J={}.hasOwnProperty,Y=[],G=Y.pop,Q=Y.push,K=Y.push,Z=Y.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),pt=new RegExp("^"+it+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,xt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ct=function(){L()};try{K.apply(Y=Z.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Nt){K={apply:Y.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=vt.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=P,!r.getElementsByName||!r.getElementsByName(P).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(wt,Tt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=vt.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+P+"'></a><select id='"+P+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+P+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+P+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=vt.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",at)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=vt.test(q.compareDocumentPosition),B=t||vt.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return j=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&B(R,e)?-1:t===r||t.ownerDocument===R&&B(R,t)?1:D?et(D,e)-et(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return j=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:D?et(D,e)-et(D,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(dt,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&J.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(j=!w.detectDuplicates,D=!w.sortStable&&e.slice(0),e.sort(U),j){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(wt,Tt),e[3]=(e[3]||e[4]||e[5]||"").replace(wt,Tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(wt,Tt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[P]||(g[P]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[P]||(d[P]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[P]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=et(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ut,"$1"));return i[P]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(wt,Tt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,Tt).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));for(a in T.filter)!(i=ht[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));
if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[P]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(wt,Tt),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(wt,Tt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,bt.test(e)&&c(t.parentNode)||t),n},w.sortStable=P.split("").sort(U).join("")===P,w.detectDuplicates=!!j,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=lt,it.expr=lt.selectors,it.expr[":"]=it.expr.pseudos,it.unique=lt.uniqueSort,it.text=lt.getText,it.isXMLDoc=lt.isXML,it.contains=lt.contains;var ct=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ct.test(e)?it(e):e||[],!1).length}});var pt,ht=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:ht,!0)),dt.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=ht.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pt.find(e);this.length=1,this[0]=r}return this.context=ht,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof pt.ready?pt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};gt.prototype=it.fn,pt=it(ht);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ct.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(yt[e]||(i=it.unique(i)),vt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,xt={};it.Callbacks=function(e){e="string"==typeof e?xt[e]||o(e):it.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?it.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,o){var a=it.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,u=1===s?e:it.Deferred(),l=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?Y.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,t)):--s;return s||u.resolveWith(r,o),u.promise()}});var wt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!ht.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(wt.resolveWith(ht,[it]),it.fn.triggerHandler&&(it(ht).triggerHandler("ready"),it(ht).off("ready")))}}}),it.ready.promise=function(t){if(!wt)if(wt=it.Deferred(),"complete"===ht.readyState)setTimeout(it.ready);else if(ht.addEventListener)ht.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{ht.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ht.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),it.ready()}}()}return wt.promise(t)};var Tt,Ct="undefined";for(Tt in it(nt))break;nt.ownLast="0"!==Tt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=ht.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),u(o,r,i[r])));it._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):o?u(o,e,it.data(o,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),o=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=it._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var kt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],At=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Dt=it.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===it.type(n)){i=!0;for(s in n)it.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(it(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},jt=/^(?:checkbox|radio)$/i;!function(){var e=ht.createElement("input"),t=ht.createElement("div"),n=ht.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==ht.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=ht.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Lt=/^(?:input|select|textarea)$/i,Ht=/^key/,qt=/^(?:mouse|pointer|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=it.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof it===Ct||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)o=Mt.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=it.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=it.event.special[p]||{},d=it.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=it.hasData(e)&&it._data(e);if(g&&(c=g.events)){for(t=(t||"").match(bt)||[""],l=t.length;l--;)if(s=Mt.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=it.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||it.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)it.event.remove(e,p+t[l],n,r,!0);it.isEmptyObject(c)&&(delete g.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||ht],p=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||ht,3!==r.nodeType&&8!==r.nodeType&&!_t.test(p+it.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[it.expando]?t:new it.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),l=it.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!it.isWindow(r)){for(u=l.delegateType||p,_t.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||ht)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&it.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&it.acceptData(r)&&a&&r[p]&&!it.isWindow(r)){c=r[a],c&&(r[a]=null),it.event.triggered=p;try{r[p]()}catch(m){}it.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,o,a=[],s=Y.call(arguments),u=(it._data(this,"events")||{})[e.type]||[],l=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(u)>=0:it.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qt.test(i)?this.mouseHooks:Ht.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new it.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ht),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||ht,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=ht.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Ct&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Lt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return it().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ot=/ jQuery\d+="(?:null|\d+)"/g,Bt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Pt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,$t=/<tbody/i,zt=/<|&#?\w+;/,It=/<(?:script|style|link)/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^true\/(.*)/,Jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Gt=m(ht),Qt=Gt.appendChild(ht.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,it.extend({clone:function(e,t,n){var r,i,o,a,s,u=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===it.type(o))it.merge(p,o.nodeType?[o]:o);else if(zt.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Wt.exec(o)||["",""])[1].toLowerCase(),c=Yt[u]||Yt._default,s.innerHTML=c[1]+o.replace(Rt,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!nt.leadingWhitespace&&Pt.test(o)&&p.push(t.createTextNode(Pt.exec(o)[0])),!nt.tbody)for(o="table"!==u||$t.test(o)?"<table>"!==c[1]||$t.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)it.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(it.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),nt.appendChecked||it.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===it.inArray(o,r))&&(a=it.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ut.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=it.expando,u=it.cache,l=nt.deleteExpando,c=it.event.special;null!=(n=e[a]);a++)if((t||it.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?it.event.remove(n,r):it.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Ct?n.removeAttribute(s):n[s]=null,J.push(i))}}}),it.fn.extend({text:function(e){return Dt(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ht).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(g(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Dt(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ot,""):void 0;if(!("string"!=typeof e||It.test(e)||!nt.htmlSerialize&&Bt.test(e)||!nt.leadingWhitespace&&Pt.test(e)||Yt[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=G.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=it.isFunction(f);if(p||l>1&&"string"==typeof f&&!nt.checkClone&&Xt.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=it.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=it.clone(r,!0,!0),i&&it.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,it.map(o,x),u=0;i>u;u++)r=o[u],Ut.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(a,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Jt,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],o=it(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),it(o[r])[t](n),Q.apply(i,n.get());return this.pushStack(i)}});var Kt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=ht.getElementsByTagName("body")[0],n&&n.style?(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ht.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+kt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),rn.test(a)&&nn.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""
}):ht.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,o,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!on.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=ht.getElementsByTagName("body")[0],n&&n.style&&(t=ht.createElement("div"),r=ht.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(ht.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=ht.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),it.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,ln=new RegExp("^("+kt+")(.*)$","i"),cn=new RegExp("^([+-])=("+kt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:"0",fontWeight:"400"},pn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=it.camelCase(t),u=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=S(u,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=cn.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=S(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tn(e,t,r)),"normal"===o&&t in fn&&(o=fn[t]),""===n||n?(i=parseFloat(o),n===!0||it.isNumeric(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?un.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,dn,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return D(e,n,r?j(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=an.test(o)?o.replace(an,i):o+" "+i)}}),it.cssHooks.marginRight=k(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+St[r]+t]=o[r]||o[r-2]||o[0];return i}},nn.test(e)||(it.cssHooks[e+t].set=D)}),it.fn.extend({css:function(e,t){return Dt(this,function(e,t,n){var r,i,o={},a=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>a;a++)o[t[a]]=it.css(e,t[a],!1,r);return o}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){At(this)?it(this).show():it(this).hide()})}}),it.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=H.prototype.init,it.fx.step={};var hn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+kt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[F],xn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=vn.exec(t),o=i&&i[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==o&&+r)&&vn.exec(it.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,it.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(B,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],xn[n]=xn[n]||[],xn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(At).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),o=it.speed(t,n,r),a=function(){var t=B(this,it.extend({},e),o);(i||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=it.timers,a=it._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&yn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),it.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(hn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),hn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){mn||(mn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(mn),mn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=ht.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=ht.createElement("select"),i=n.appendChild(ht.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!ht.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=ht.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var wn=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=it.makeArray(t),a=i.length;a--;)if(r=i[a],it.inArray(it.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tn,Cn,Nn=it.expr.attrHandle,En=/^(?:checked|selected)$/i,kn=nt.getSetAttribute,Sn=nt.input;it.fn.extend({attr:function(e,t){return Dt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?it.prop(e,t,n):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?Cn:Tn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void it.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?Sn&&kn||!En.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(kn?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):Sn&&kn||!En.test(n)?e.setAttribute(!kn&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Nn[t]||it.find.attr;Nn[t]=Sn&&kn||!En.test(t)?function(e,t,r){var i,o;return r||(o=Nn[t],Nn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Nn[t]=o),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),Sn&&kn||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?void(e.defaultValue=t):Tn&&Tn.set(e,t,n)}}),kn||(Tn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Nn.id=Nn.name=Nn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Tn.set},it.attrHooks.contenteditable={set:function(e,t,n){Tn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var An=/^(?:input|select|textarea|button|object)$/i,Dn=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Dt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):An.test(e.nodeName)||Dn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var jn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=it.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(bt)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?it.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=it(this),o=e.match(bt)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jn," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ln=it.now(),Hn=/\?/,qn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(qn,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var _n,Mn,Fn=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Wn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,zn={},In={},Xn="*/".concat("*");try{Mn=location.href}catch(Un){Mn=ht.createElement("a"),Mn.href="",Mn=Mn.href}_n=$n.exec(Mn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mn,type:"GET",isLocal:Pn.test(_n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,it.ajaxSettings),t):W(it.ajaxSettings,e)},ajaxPrefilter:P(zn),ajaxTransport:P(In),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(it.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(it.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=it.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?it(f):it.event,h=it.Deferred(),m=it.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Bn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Mn)+"").replace(Fn,"").replace(Wn,_n[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(r=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===_n[1]&&r[2]===_n[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(_n[3]||("http:"===_n[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),R(zn,d,t,w),2===b)return w;u=it.event&&d.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Hn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=On.test(o)?o.replace(On,"$1_="+Ln++):o+(Hn.test(o)?"&":"?")+"_="+Ln++)),d.ifModified&&(it.lastModified[o]&&w.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&w.setRequestHeader("If-None-Match",it.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Xn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(In,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Vn=/%20/g,Jn=/\[\]$/,Yn=/\r?\n/g,Gn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Vn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Qn.test(this.nodeName)&&!Gn.test(e)&&(this.checked||!jt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Yn,"\r\n")}}):{name:t.name,value:n.replace(Yn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Kn=0,Zn={},er=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Kn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Zn[a],t=void 0,o.onreadystatechange=it.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ht.head||it("head")[0]||ht.documentElement;return{send:function(r,i){t=ht.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Ln++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(Hn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||it.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),a&&it.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||ht;var r=dt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=it.css(e,"position"),d=it(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=it.css(e,"top"),u=it.css(e,"left"),l=("absolute"===c||"fixed"===c)&&it.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==Ct&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return Dt(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?it(o).scrollLeft():i,n?i:it(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=k(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Dt(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,a):it.style(t,n,r,a)
},t,o?r:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var or=e.jQuery,ar=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=ar),t&&e.jQuery===it&&(e.jQuery=or),it},typeof t===Ct&&(e.jQuery=e.$=it),it})});
;/*!common:widget/js/util/event/event.js*/
define("common:widget/js/util/event/event",function(e,n,r){function o(e){var n=i(e);return i.extend(e,{on:function(r,o){return n.on(t(r),o),e},once:function(r,o){return n.one(t(r),o),e},trigger:function(r){var o=Array.prototype.slice.call(arguments,1);return o.unshift(t(r)),n.trigger.apply(n,o),e},off:function(r,o){return n.off(t(r),o),e}}),e.once=e.one,e.un=e.off,e.fire=e.trigger,e}function t(e){return"on"+e.replace(/^on/i,"").toLowerCase()}var i=e("common:widget/lib/jquery/jquery");r.exports=o({}),r.exports.create=o,window.F&&(window.F.ec=r.exports)});
;/*!common:widget/js/util/tangram/browser.js*/
define("common:widget/js/util/tangram/browser",function(e,t){var i=/chrome\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0;t.chrome=i;var r=/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?+RegExp.$1:void 0;t.firefox=r;var a=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0;t.ie=a;var o=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);t.isGecko=o;var n="CSS1Compat"==document.compatMode;t.isStrict=n;var d=/webkit/i.test(navigator.userAgent);t.isWebkit=d;try{if(/(\d+\.\d+)/.test(external.max_version)){var s=+RegExp.$1;t.maxthon=s}}catch(g){}var v=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0;t.opera=v,function(){var e=navigator.userAgent,i=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)?+(RegExp.$1||RegExp.$2):void 0;t.safari=i}()});
;/*!common:widget/js/util/tangram/platform.js*/
define("common:widget/js/util/tangram/platform",function(t,i){var a=/android/i.test(navigator.userAgent);i.isAndroid=a;var n=/ipad/i.test(navigator.userAgent);i.isIpad=n;var e=/iphone/i.test(navigator.userAgent);i.isIphone=e;var s=/macintosh/i.test(navigator.userAgent);i.isMacintosh=s;var r=/windows/i.test(navigator.userAgent);i.isWindows=r;var o=/x11/i.test(navigator.userAgent);i.isX11=o});
;/*!common:widget/js/util/tangram/cookie.js*/
define("common:widget/js/util/tangram/cookie",function(e,n){var t=function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},o=function(e){if(t(e)){var n=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),o=n.exec(document.cookie);if(o)return o[2]||null}return null};n.getRaw=o;var i=function(e){var n=o(e);return"string"==typeof n?n=decodeURIComponent(n):null};n.get=i;var r=function(e,n,o){if(t(e)){o=o||{};var i=o.expires;"number"==typeof o.expires&&(i=new Date,i.setTime(i.getTime()+o.expires)),document.cookie=e+"="+n+(o.path?"; path="+o.path:"")+(i?"; expires="+i.toGMTString():"")+(o.domain?"; domain="+o.domain:"")+(o.secure?"; secure":"")}};n.setRaw=r;var u=function(e,n){n=n||{},n.expires=new Date(0),r(e,"",n)};n.remove=u;var a=function(e,n,t){r(e,encodeURIComponent(n),t)};n.set=a});
;/*!common:widget/js/util/tangram/json.js*/
define("common:widget/js/util/tangram/json",function(require,exports,module){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,o,f,u,i=gap,p=e[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof rep&&(p=rep.call(e,t,p)),typeof p){case"string":return quote(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(p)){for(f=p.length,n=0;f>n;n+=1)u[n]=str(n,p)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+i+"]":"["+u.join(",")+"]",gap=i,o}if(rep&&"object"==typeof rep)for(f=rep.length,n=0;f>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));else for(r in p)Object.prototype.hasOwnProperty.call(p,r)&&(o=str(r,p),o&&u.push(quote(r)+(gap?": ":":")+o));return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+i+"}":"{"+u.join(",")+"}",gap=i,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,o=t[e];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r=walk(o,n),void 0!==r?o[n]=r:delete o[n]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),exports.parse=exports.decode=function(t){return new Function("return ("+t+")")()},exports.encode=exports.stringify=JSON.stringify});
;/*!common:widget/js/util/tangram/chain.js*/
define("common:widget/js/util/tangram/chain",function(n,t,r){var e=n("common:widget/lib/jquery/jquery");r.exports=function(n){var t=function(r){var u=e.type(r),a="object"==u||"array"==u?r:n&&new n(r)||{};return a.context=r,e.each(t,function(n,t){e.isFunction(t)&&(a[n]=function(){var n=e.makeArray(arguments);return n.unshift(a.context),t.apply(null,n)})}),a};return t}});
;/*!common:widget/js/util/tangram/number.js*/
define("common:widget/js/util/tangram/number",function(n,t,r){var a=n("common:widget/js/util/tangram/chain"),e=r.exports=a(Number);e.comma=function(n,t){return(!t||1>t)&&(t=3),n=String(n).split("."),n[0]=n[0].replace(new RegExp("(\\d)(?=(\\d{"+t+"})+$)","ig"),"$1,"),n.join(".")},e.pad=function(n,t){var r="",a=0>n,e=String(Math.abs(n));return e.length<t&&(r=new Array(t-e.length+1).join("0")),(a?"-":"")+r+e},e.randomInt=function(n,t){return Math.floor(Math.random()*(t-n+1)+n)}});
;/*!common:widget/js/util/tangram/string.js*/
define("common:widget/js/util/tangram/string",function(r,e,t){var n=(r("common:widget/lib/jquery/jquery"),r("common:widget/js/util/tangram/chain")),a=t.exports=n(String),c=function(r){var e=String(r).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return e.replace(/&#([\d]+);/g,function(r,e){return String.fromCharCode(parseInt(e,10))})};a.decodeHTML=c;var o=function(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};a.encodeHTML=o;var i=function(r){return String(r).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1")};a.escapeReg=i;var f=function(r,e){var t=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return t.length?(t=1==t.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(n.call(e))?e:t,r.replace(/#\{(.+?)\}/g,function(r,e){var a,c,o,i,f;if(!t)return"";for(a=e.split("|"),c=t[a[0]],"[object Function]"==n.call(c)&&(c=c(a[0])),o=1,i=a.length;i>o;++o)f=baidu.string.filterFormat[a[o]],"[object Function]"==n.call(f)&&(c=f(c));return"undefined"==typeof c||null===c?"":c})):r};a.filterFormat=f,f.escapeJs=function(r){if(!r||"string"!=typeof r)return r;var e,t,n,a=[];for(e=0,t=r.length;t>e;++e)n=r.charCodeAt(e),a.push(n>255?r.charAt(e):"\\x"+n.toString(16));return a.join("")},f.js=f.escapeJs,f.escapeString=function(r){return r&&"string"==typeof r?r.replace(/["'<>\\\/`]/g,function(r){return"&#"+r.charCodeAt(0)+";"}):r},f.e=f.escapeString,f.toInt=function(r){return parseInt(r,10)||0},f.i=f.toInt;var u=function(r,e){r=String(r);var t=Array.prototype.slice.call(arguments,1),n=Object.prototype.toString;return t.length?(t=1==t.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(n.call(e))?e:t,r.replace(/#\{(.+?)\}/g,function(r,e){var a=t[e];return"[object Function]"==n.call(a)&&(a=a(e)),"undefined"==typeof a?"":a})):r};a.format=u,function(){var r=/^\#[\da-f]{6}$/i,t=/^rgb\((\d+), (\d+), (\d+)\)$/,n={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff0",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff"},a=function(e){if(r.test(e))return e;if(t.test(e)){for(var a,c=1,e="#";4>c;c++)a=parseInt(RegExp["$"+c]).toString(16),e+=("00"+a).substr(a.length);return e}if(/^\#[\da-f]{3}$/.test(e)){var o=e.charAt(1),i=e.charAt(2),f=e.charAt(3);return"#"+o+o+i+i+f+f}return n[e]?n[e]:""};e.formatColor=a}();var l=function(r){return String(r).replace(/[^\x00-\xff]/g,"ci").length};a.getByteLength=l;var g=function(r){return String(r||"").replace(/<[^>]+>/g,"")};a.stripTags=g;var p=function(r,e,t){return r=String(r),t=t||"",0>e||l(r)<=e?r+t:(r=r.substr(0,e).replace(/([^\x00-\xff])/g,"$1 ").substr(0,e).replace(/[^\x00-\xff]$/,"").replace(/([^\x00-\xff]) /g,"$1"),r+t)};a.subByte=p;var s=function(r){return r.indexOf("-")<0&&r.indexOf("_")<0?r:r.replace(/[-_][^-_]/g,function(r){return r.charAt(1).toUpperCase()})};a.toCamelCase=s;var d=function(r){return String(r).replace(/[\uFF01-\uFF5E]/g,function(r){return String.fromCharCode(r.charCodeAt(0)-65248)}).replace(/\u3000/g," ")};a.toHalfWidth=d;var h=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g"),v=function(r){return String(r).replace(h,"")};a.trim=v;var b=function(r){return String(r).replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")};a.wbr=b});
;/*!common:widget/js/util/tangram/date.js*/
define("common:widget/js/util/tangram/date",function(t,e){var n=t("common:widget/js/util/tangram/number"),g=function(t,e){function g(t,n){e=e.replace(t,n)}var r=n.pad;if("string"!=typeof e)return t.toString();var a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),o=t.getHours(),u=t.getMinutes(),d=t.getSeconds();return g(/yyyy/g,r(a,4)),g(/yy/g,r(parseInt(a.toString().slice(2),10),2)),g(/MM/g,r(i,2)),g(/M/g,i),g(/dd/g,r(s,2)),g(/d/g,s),g(/HH/g,r(o,2)),g(/H/g,o),g(/hh/g,r(o%12,2)),g(/h/g,o%12),g(/mm/g,r(u,2)),g(/m/g,u),g(/ss/g,r(d,2)),g(/s/g,d),e};e.format=g;var r=function(t){var e=new RegExp("^\\d+(\\-|\\/)\\d+(\\-|\\/)\\d+$");if("string"==typeof t){if(e.test(t)||isNaN(Date.parse(t))){var n=t.split(/ |T/),g=n.length>1?n[1].split(/[^\d]/):[0,0,0],r=n[0].split(/[^\d]/);return new Date(r[0]-0,r[1]-1,r[2]-0,g[0]-0,g[1]-0,g[2]-0)}return new Date(t)}return new Date};e.parse=r});
;/*!common:widget/js/util/tangram/object.js*/
define("common:widget/js/util/tangram/object",function(e,r){function t(e,r,t,o,a){r.hasOwnProperty(t)&&(a&&n.isPlainObject(e[t])?i(e[t],r[t],{overwrite:o,recursive:a}):!o&&t in e||(e[t]=r[t]))}var n=e("common:widget/lib/jquery/jquery");r.isPlain=n.isPlainObject,r.isArray=n.isArray,r.clone=function(e){return n.extend(!0,{},e)},r.each=function(e,r,t){if(e){var o=function(e,n){return r.apply(t||n,[n,e])};return n.each(e,o,t)}},r.extend=n.extend,r.isEmpty=n.isEmptyObject,Object.keys||!function(){var e=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=t.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var i=[];for(var a in o)e.call(o,a)&&i.push(a);if(r)for(var c=0;n>c;c++)e.call(o,t[c])&&i.push(t[c]);return i}}(),r.keys=Object.keys;var o=function(e){var r,t=[],n=0;for(r in e)e.hasOwnProperty(r)&&(t[n++]=e[r]);return t};r.values=o,r.map=n.map;var i=function(e,r,n){var o,i=0,a=n||{},c=a.overwrite,u=a.whiteList,s=a.recursive;if(u&&u.length)for(o=u.length;o>i;++i)t(e,r,u[i],c,s);else for(i in r)t(e,r,i,c,s);return e};r.merge=i});
;/*!common:widget/js/util/tangram/array.js*/
define("common:widget/js/util/tangram/array",function(r,t,e){var n=r("common:widget/lib/jquery/jquery"),o=r("common:widget/js/util/tangram/object"),i=r("common:widget/js/util/tangram/chain"),a=e.exports=i(Array);Array.prototype.indexOf||(Array.prototype.indexOf=function(r){"use strict";if(null==this)throw new TypeError;var t,e,n=Object(this),o=n.length>>>0;if(0===o)return-1;if(t=0,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:0!=t&&1/0!=t&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),t>=o)return-1;for(e=t>=0?t:Math.max(o-Math.abs(t),0);o>e;e++)if(e in n&&n[e]===r)return e;return-1}),a.indexOf=function(r,t,e){return Array.prototype.indexOf.apply(r,[t,e])},a.contains=function(r,t){return a.indexOf(r,t)>=0},a.each=n.each,a.forEach=o.forEach;var u=function(r){r.length=0};a.empty=u,Array.prototype.every||(Array.prototype.every=function(r){"use strict";var t,e,n,o;if(null==this)throw new TypeError;if(t=Object(this),e=t.length>>>0,"function"!=typeof r)throw new TypeError;for(o=arguments[1],n=0;e>n;n++)if(n in t&&!r.call(o,t[n],n,t))return!1;return!0}),a.every=function(r,t,e){return Array.prototype.every.apply(r,[t,e])},Array.prototype.filter||(Array.prototype.filter=function(r){"use strict";if(!this)throw new TypeError;{var t=Object(this);t.length>>>0}if("function"!=typeof r)throw new TypeError;var e=[],n=arguments[1];for(var o in t)t.hasOwnProperty(o)&&r.call(n,t[o],o,t)&&e.push(t[o]);return e}),a.filter=function(r,t,e){return Array.prototype.filter.apply(r,[t,e])};var f=function(r,t){var e,n,o=r.length;if("function"==typeof t)for(n=0;o>n;n++)if(e=r[n],!0===t.call(r,e,n))return e;return null};a.find=f;var p=function(r,t){for(var e={},n=t&&t.length,o=0,i=r.length;i>o;o++)e[r[o]]=n&&n>o?t[o]:!0;return e};a.hash=p,Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(r){"use strict";if(null==this)throw new TypeError;var t,e,n=Object(this),o=n.length>>>0;if(0===o)return-1;for(t=o,arguments.length>1&&(t=Number(arguments[1]),t!=t?t=0:0!=t&&t!=1/0&&t!=-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),e=t>=0?Math.min(t,o-1):o-Math.abs(t);e>=0;e--)if(e in n&&n[e]===r)return e;return-1}),a.lastIndexOf=function(r,t,e){return Array.prototype.lastIndexOf.apply(r,[t,e])},a.map=n.map,"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(r,t){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof r)throw new TypeError(r+" is not a function");var e,n,o=this.length>>>0,i=!1;for(1<arguments.length&&(n=t,i=!0),e=0;o>e;++e)this.hasOwnProperty(e)&&(i?n=r(n,this[e],e,this):(n=this[e],i=!0));if(!i)throw new TypeError("Reduce of empty array with no initial value");return n}),a.reduce=function(r,t,e){Array.prototype.reduce.apply(r,[t,e])};var y=function(r,t){for(var e=r.length;e--;)e in r&&r[e]===t&&r.splice(e,1);return r};a.remove=y;var c=function(r,t){return r.splice(t,1)[0]};a.removeAt=c,Array.prototype.some||(Array.prototype.some=function(r){"use strict";if(null==this)throw new TypeError;var t,e,n=Object(this),o=n.length>>>0;if("function"!=typeof r)throw new TypeError;for(t=arguments[1],e=0;o>e;e++)if(e in n&&r.call(t,n[e],e,n))return!0;return!1}),a.some=function(r,t,e){Array.prototype.some.apply(r,[t,e])};var l=function(r,t){var e,n,o=r.length,i=r.slice(0);for("function"!=typeof t&&(t=function(r,t){return r===t});--o>0;)for(n=i[o],e=o;e--;)if(t(n,i[e])){i.splice(o,1);break}return i};a.unique=l});
;/*!common:widget/js/util/tangram/sio.js*/
define("common:widget/js/util/tangram/sio",function(a,r,o){var n=a("common:widget/lib/jquery/jquery"),t=a("common:widget/js/util/tangram/chain"),c=o.exports=t();c.callByBrowser=function(a,r,o){return o&&o.charset&&(o.scriptCharset=o.charset),n.ajax(n.extend({url:a,dataType:"script",crossDomain:!0,success:r},o))},c.callByServer=function(a,r,o){o&&o.charset&&(o.scriptCharset=o.charset);var t=/(\?|&)callback=([^&]*)/;return a=a.replace(t,"$1callback=?"),a.search(t)<0&&(a+=(a.indexOf("?")<0?"?":"&")+"callback=?"),n.ajax({dataType:"jsonp",crossDomain:!0,url:a,success:r})};var e=function(a){var r=new Image,o="tangram_sio_log_"+Math.floor(2147483648*Math.random()).toString(36);window[o]=r,r.onload=r.onerror=r.onabort=function(){r.onload=r.onerror=r.onabort=null,window[o]=null,r=null},r.src=a};c.log=e});
;/*!common:widget/js/util/tangram/url.js*/
define("common:widget/js/util/tangram/url",function(n,r){var e=n("common:widget/lib/jquery/jquery"),t=n("common:widget/js/util/tangram/string"),u=function(n){return String(n).replace(/[#%&+=\/\\\ \u3000\f\r\n\t]/g,function(n){return"%"+(256+n.charCodeAt()).toString(16).substring(1).toUpperCase()})};r.escapeSymbol=u;var i=function(n,r){var e=new RegExp("(^|&|\\?|#)"+t.escapeReg(r)+"=([^&#]*)(&|$|#)",""),u=n.match(e);return u?u[2]:null};r.getQueryValue=i;var o=function(n,r){var t,i=[],o=r||function(n){return u(n)};return e.each(n,function(n,r){if(e.isArray(r))for(t=r.length;t--;)i.push(n+"="+o(r[t],n));else i.push(n+"="+o(r,n))}),i.join("&")};r.jsonToQuery=o;var a=function(n){for(var r,t,u,i,o=n.substr(n.lastIndexOf("?")+1),a=o.split("&"),s=a.length,c={},f=0;s>f;f++)a[f]&&(i=a[f].split("="),r=i[0],t=i[1],u=c[r],"undefined"==typeof u?c[r]=t:e.isArray(u)?u.push(t):c[r]=[u,t]);return c};r.queryToJson=a});
;/*!common:widget/js/util/tangram/form.js*/
define("common:widget/js/util/tangram/form",function(n,e){var r=n("common:widget/lib/jquery/jquery");e.json=function(n){var e=r(n).serializeArray(),i={};return r.each(e,function(n,e){i[e.name]=e.value}),i}});
;/*!common:widget/js/util/tangram/swf.js*/
define("common:widget/js/util/tangram/swf",function(e,a){var t=e("common:widget/lib/jquery/jquery"),r=e("common:widget/js/util/tangram/browser"),i=e("common:widget/js/util/tangram/array"),n=e("common:widget/js/util/tangram/string"),o=function(e){var a,n=document[e];return 9==r.ie?n&&n.length?1==(a=i.remove(t.makeArray(n),function(e){return"embed"!=e.tagName.toLowerCase()})).length?a[0]:a:n:n||window[e]};a.getMovie=o;var s=function(e,a,t){var r,i=this,n=this._flash=o(e);return a?void(r=setInterval(function(){try{n[a]&&(i._initialized=!0,clearInterval(r),t&&t())}catch(e){}},100)):this};a.Proxy=s,s.prototype.getFlash=function(){return this._flash},s.prototype.isReady=function(){return!!this._initialized},s.prototype.call=function(e){try{var a=this.getFlash(),t=Array.prototype.slice.call(arguments);t.shift(),a[e]&&a[e].apply(a,t)}catch(r){}};var l=function(){var e=navigator;if(e.plugins&&e.mimeTypes.length){var a=e.plugins["Shockwave Flash"];if(a&&a.description)return a.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}else if(window.ActiveXObject&&!window.opera)for(var t=12;t>=2;t--)try{var r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t);if(r){var i=r.GetVariable("$version");return i.replace(/WIN/g,"").replace(/,/g,".")}}catch(n){}}();a.version=l;var c=function(e){e=e||{};var a,t,r,i,o,s,c=l,d=e.ver||"6.0.0",p={},u=n.encodeHTML;for(i in e)p[i]=e[i];if(e=p,!c)return"";for(c=c.split("."),d=d.split("."),r=0;3>r&&(a=parseInt(c[r],10),t=parseInt(d[r],10),!(a>t));r++)if(t>a)return"";var v=e.vars,f=["classid","codebase","id","width","height","align"];if(e.align=e.align||"middle",e.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",e.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0",e.movie=e.url||"",delete e.vars,delete e.url,"string"==typeof v)e.flashvars=v;else{var h=[];for(i in v)s=v[i],h.push(i+"="+encodeURIComponent(s));e.flashvars=h.join("&")}var m=["<object "];for(r=0,o=f.length;o>r;r++)s=f[r],m.push(" ",s,'="',u(e[s]),'"');m.push(">");var g={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(i in e)s=e[i],i=i.toLowerCase(),g[i]&&(s||s===!1||0===s)&&m.push('<param name="'+i+'" value="'+u(s)+'" />');e.src=e.movie,e.name=e.id,delete e.id,delete e.movie,delete e.classid,delete e.codebase,e.type="application/x-shockwave-flash",e.pluginspage="http://www.macromedia.com/go/getflashplayer",m.push("<embed");var w;for(i in e)if(s=e[i],s||s===!1||0===s){if(new RegExp("^salign$","i").test(i)){w=s;continue}m.push(" ",i,'="',u(s),'"')}return w&&m.push(' salign="',u(w),'"'),m.push("></embed></object>"),m.join("")};a.createHTML=c;var d=function(e,a){e=e||{};var r=c(e)||e.errorMessage||"";a&&"string"==typeof a&&(a=document.getElementById(a)),t(a||"body").insertHTML("beforeEnd",r)};a.create=d});
;/*!common:widget/js/util/tangram/tangram.js*/
define("common:widget/js/util/tangram/tangram",function(t,e,n){var r=n.exports=t("common:widget/lib/jquery/jquery"),o=t("common:widget/js/util/event/event");r.browser=t("common:widget/js/util/tangram/browser"),r.platform=t("common:widget/js/util/tangram/platform"),r.cookie=t("common:widget/js/util/tangram/cookie"),r.json=t("common:widget/js/util/tangram/json"),r.number=t("common:widget/js/util/tangram/number"),r.string=t("common:widget/js/util/tangram/string"),r.date=t("common:widget/js/util/tangram/date"),r.object=t("common:widget/js/util/tangram/object"),r.array=t("common:widget/js/util/tangram/array"),r.sio=t("common:widget/js/util/tangram/sio"),r.url=t("common:widget/js/util/tangram/url"),r.form=t("common:widget/js/util/tangram/form"),r.swf=t("common:widget/js/util/tangram/swf"),r.createClass=function(t,e){t=r.isFunction(t)?t:function(){},e=e||{};var n=function(){this.guid=r.id(),t.apply(this,arguments),o.create(this)};if(n.extend=function(t){return r.extend(n.prototype,t),n},r.isFunction(e.superClass)){var i=function(){};i.prototype=(n.superClass=e.superClass).prototype;var a=n.prototype=new i;r.extend(n.prototype,t.prototype),a.constructor=t}return n},r.fn.insertHTML=function(t,e){return this.each(function(n,o){var i,a;return o.insertAdjacentHTML&&!r.browser.opera?o.insertAdjacentHTML(t,e):(i=o.ownerDocument.createRange(),t=t.toUpperCase(),"AFTERBEGIN"==t||"BEFOREEND"==t?(i.selectNodeContents(o),i.collapse("AFTERBEGIN"==t)):(a="BEFOREBEGIN"==t,i[a?"setStartBefore":"setEndAfter"](o),i.collapse(a)),i.insertNode(i.createContextualFragment(e))),o}),this},r.isNumber=function(t){return"number"==r.type(t)&&isFinite(t)},r.isString=function(t){return"string"==r.type(t)},r.forEach=r.object.each,r.fn.forEach=function(t){return r.forEach(this,t)};var i=1;r.id=function(){return i++}});
;/*!common:widget/js/util/uri/uri.js*/
define("common:widget/js/util/uri/uri",function(t,a,s){var m=(t("common:widget/lib/jquery/jquery"),{bindok:"/static/html/bindok.html",jump:"/static/html/jump.html",map:"/static/html/map.html",qbasktoteam:"/static/html/qbasktoteam.html",username:"/static/html/username.html",v2Jump:"/static/html/v2Jump.html",v3Jump:"/static/common/html/v3Jump.html",xd:"/static/common/html/xd.html",addmapBrowse:"/static/html/map_add_for_browse.html",addmapAddress:"/static/html/map_add_address.html",userSetJump:"/static/html/user_set_jump.html",clipboardSwf:"/static/swf/zeroClipboard.swf",fileUploaderSwf:"/static/swf/fileUploader.swf",swfupload:"/static/swf/swfupload.swf",songofjoySwf:"/static/swf/songofjoy/songofjoy.swf",lotterySwf:"/static/swf/lottery/lottery.swf",lotteryXml:"/static/swf/lottery/lottery.xml",uploadSwf:"/static/swf/upload.swf",uploadSwfDoc:"/static/swf/uploaderApi.swf",jsUploadSwf:"/static/swf/JSUpload.swf",expertAvatarSwf:"/static/swf/expertAvatar.swf",hangjiaAvatarSwf:"/static/swf/hangjiaAvatar.swf",zhidaoSwf:"/static/swf/zhidao.swf",raffleSwf:"/static/swf/raffle.swf",cyberplayerSwf:"https://baobao.bdimg.com/static/common/cyberplayer.flash_04e860c.swf"});s.exports=m});
;/*!common:widget/js/ui/base/base.js*/
define("common:widget/js/ui/base/base",function(n,t,i){function e(n){var t=o.isFunction(n)?n:function(){this.type="base"},i=function(n){u.create(this),this.guid=++o.guid,t.apply(this,arguments),"object"==typeof n&&this._init(n),this.init(n)};return i.extend=function(n){return o.extend(i.prototype,n),i},i.extend({_init:function(n){var t=this;o.each(n,function(n,i){o.isFunction(i)?t.on(n,i):t[n]=i})},init:function(){},render:function(){},dispose:function(){},getElements:function(){}})}var o=n("common:widget/lib/jquery/jquery"),u=n("common:widget/js/util/event/event");i.exports=e});
;/*!common:widget/lib/jquery.ui/jquery.ui.core.js*/
define("common:widget/lib/jquery.ui/jquery.ui.core",function(t){function e(t,e){var r,s,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,s=r.name,t.href&&s&&"map"===r.nodeName.toLowerCase()?(o=i("img[usemap=#"+s+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||e:e)&&n(t)}function n(t){return i.expr.filters.visible(t)&&!i(t).parents().addBack().filter(function(){return"hidden"===i.css(this,"visibility")}).length}var i=t("common:widget/lib/jquery/jquery"),r=0,s=/^ui-id-\d+$/;i.ui=i.ui||{},i.extend(i.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),i.fn.extend({focus:function(t){return function(e,n){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){i(t).focus(),n&&n.call(t)},e)}):t.apply(this,arguments)}}(i.fn.focus),scrollParent:function(){var t;return t=i.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(i.css(this,"position"))&&/(auto|scroll)/.test(i.css(this,"overflow")+i.css(this,"overflow-y")+i.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(i.css(this,"overflow")+i.css(this,"overflow-y")+i.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?i(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,n,r=i(this[0]);r.length&&r[0]!==document;){if(e=r.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&i(this).removeAttr("id")})}}),i.extend(i.expr[":"],{data:i.expr.createPseudo?i.expr.createPseudo(function(t){return function(e){return!!i.data(e,t)}}):function(t,e,n){return!!i.data(t,n[3])},focusable:function(t){return e(t,!isNaN(i.attr(t,"tabindex")))},tabbable:function(t){var n=i.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(t,!r)}}),i("<a>").outerWidth(1).jquery||i.each(["Width","Height"],function(t,e){function n(t,e,n,s){return i.each(r,function(){e-=parseFloat(i.css(t,"padding"+this))||0,n&&(e-=parseFloat(i.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat(i.css(t,"margin"+this))||0)}),e}var r="Width"===e?["Left","Right"]:["Top","Bottom"],s=e.toLowerCase(),o={innerWidth:i.fn.innerWidth,innerHeight:i.fn.innerHeight,outerWidth:i.fn.outerWidth,outerHeight:i.fn.outerHeight};i.fn["inner"+e]=function(t){return void 0===t?o["inner"+e].call(this):this.each(function(){i(this).css(s,n(this,t)+"px")})},i.fn["outer"+e]=function(t,r){return"number"!=typeof t?o["outer"+e].call(this,t):this.each(function(){i(this).css(s,n(this,t,!0,r)+"px")})}}),i.fn.addBack||(i.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),i("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(i.fn.removeData=function(t){return function(e){return arguments.length?t.call(this,i.camelCase(e)):t.call(this)}}(i.fn.removeData)),i.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),i.support.selectstart="onselectstart"in document.createElement("div"),i.fn.extend({disableSelection:function(){return this.bind((i.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),i.extend(i.ui,{plugin:{add:function(t,e,n){var r,s=i.ui[t].prototype;for(r in n)s.plugins[r]=s.plugins[r]||[],s.plugins[r].push([e,n[r]])},call:function(t,e,n){var i,r=t.plugins[e];if(r&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<r.length;i++)t.options[r[i][0]]&&r[i][1].apply(t.element,n)}},hasScroll:function(t,e){if("hidden"===i(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.widget.js*/
define("common:widget/lib/jquery.ui/jquery.ui.widget",function(t){var e=t("common:widget/lib/jquery/jquery"),i=0,n=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var i,n=0;null!=(i=t[n]);n++)try{e(i).triggerHandler("remove")}catch(o){}s(t)},e.widget=function(t,i,n){var s,o,r,a,u={},d=t.split(".")[0];t=t.split(".")[1],s=d+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[d]=e[d]||{},o=e[d][t],r=e[d][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},e.extend(r,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(u[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=s,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(u[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:t},u,{constructor:r,namespace:d,widgetName:t,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r)},e.widget.extend=function(t){for(var i,s,o=n.call(arguments,1),r=0,a=o.length;a>r;r++)for(i in o[r])s=o[r][i],o[r].hasOwnProperty(i)&&void 0!==s&&(t[i]=e.isPlainObject(s)?e.isPlainObject(t[i])?e.widget.extend({},t[i],s):e.widget.extend({},s):s);return t},e.widget.bridge=function(t,i){var s=i.prototype.widgetFullName||t;e.fn[t]=function(o){var r="string"==typeof o,a=n.call(arguments,1),u=this;return o=!r&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,this.each(r?function(){var i,n=e.data(this,s);return n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(u=i&&i.jquery?u.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,s,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(s=r[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(t=n.pop(),void 0===i)return void 0===s[t]?null:s[t];s[t]=i}else{if(void 0===i)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,i,n){var s,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=s=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),e.each(n,function(n,r){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var u=n.match(/^(\w+)\s*(.*)$/),d=u[1]+o.eventNamespace,l=u[2];l?s.delegate(l,d,a):i.bind(d,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var s,o,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&e.effects&&e.effects.effect[a]?n[t](s):a!==t&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.button.js*/
define("common:widget/lib/jquery.ui/jquery.ui.button",function(t){var e=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.widget");var i,n,s,o,a="ui-button ui-widget ui-state-default ui-corner-all",u="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},d=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,u=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active",c="ui-state-focus";null===u.label&&(u.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){u.disabled||this===i&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){u.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(t){u.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(c)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(c)}),r&&(this.element.bind("change"+this.eventNamespace,function(){o||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){u.disabled||(o=!1,n=t.pageX,s=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){u.disabled||(n!==t.pageX||s!==t.pageY)&&(o=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return u.disabled||o?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(u.disabled||o)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];d(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return u.disabled?!1:(e(this).addClass("ui-state-active"),i=this,void t.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return u.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return u.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",u.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" "+u+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?d(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(r),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.mouse.js*/
define("common:widget/lib/jquery.ui/jquery.ui.mouse",function(e){var t=e("common:widget/lib/jquery/jquery");e("common:widget/lib/jquery.ui/jquery.ui.widget");var s=!1;t(document).mouseup(function(){s=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(s){return!0===t.data(s.target,e.widgetName+".preventClickEvent")?(t.removeData(s.target,e.widgetName+".preventClickEvent"),s.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,o=1===e.which,u="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return o&&!u&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.draggable.js*/
define("common:widget/lib/jquery.ui/jquery.ui.draggable",function(t){var e=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.mouse"),t("common:widget/lib/jquery.ui/jquery.ui.widget"),e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var s=this.options;return this.helper||s.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(s.iframeFix===!0?"iframe":s.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var s=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,s){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var s=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var s=this.options,i=e.isFunction(s.helper)?e(s.helper.apply(this.element[0],[t])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,s,i,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),s=e(o.containment),i=s[0],void(i&&(t="hidden"!==s.css("overflow"),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=s))):void(this.containment=null)},_convertPositionTo:function(t,s){s||(s=this.position);var i="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:s.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:s.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var s,i,o,n,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=t.pageX,h=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(l=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(l=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,s,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[s,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,s){var i=e(this).data("ui-draggable"),o=i.options,n=e.extend({},s,{item:i.element});i.sortables=[],e(o.connectToSortable).each(function(){var s=e.data(this,"ui-sortable");s&&!s.options.disabled&&(i.sortables.push({instance:s,shouldRevert:s.options.revert}),s.refreshPositions(),s._trigger("activate",t,n))})},stop:function(t,s){var i=e(this).data("ui-draggable"),o=e.extend({},s,{item:i.element});e.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,o))})},drag:function(t,s){var i=e(this).data("ui-draggable"),o=this;e.each(i.sortables,function(){var n=!1,r=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,e.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(r.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return s.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),s=e(this).data("ui-draggable").options;t.css("cursor")&&(s._cursor=t.css("cursor")),t.css("cursor",s.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,s){var i=e(s.helper),o=e(this).data("ui-draggable").options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,s){var i=e(this).data("ui-draggable").options;i._opacity&&e(s.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var s=e(this).data("ui-draggable"),i=s.options,o=!1;s.scrollParent[0]!==document&&"HTML"!==s.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?s.scrollParent[0].scrollTop=o=s.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-s.overflowOffset.top<i.scrollSensitivity&&(s.scrollParent[0].scrollTop=o=s.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?s.scrollParent[0].scrollLeft=o=s.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-s.overflowOffset.left<i.scrollSensitivity&&(s.scrollParent[0].scrollLeft=o=s.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(document).scrollTop()<i.scrollSensitivity?o=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(o=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(document).scrollLeft()<i.scrollSensitivity?o=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(o=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(s,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),s=t.options;t.snapElements=[],e(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var s=e(this),i=s.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:s.outerWidth(),height:s.outerHeight(),top:i.top,left:i.left})})},drag:function(t,s){var i,o,n,r,a,l,h,c,p,f,d=e(this).data("ui-draggable"),g=d.options,u=g.snapTolerance,m=s.offset.left,v=m+d.helperProportions.width,P=s.offset.top,b=P+d.helperProportions.height;for(p=d.snapElements.length-1;p>=0;p--)a=d.snapElements[p].left,l=a+d.snapElements[p].width,h=d.snapElements[p].top,c=h+d.snapElements[p].height,a-u>v||m>l+u||h-u>b||P>c+u||!e.contains(d.snapElements[p].item.ownerDocument,d.snapElements[p].item)?(d.snapElements[p].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=!1):("inner"!==g.snapMode&&(i=Math.abs(h-b)<=u,o=Math.abs(c-P)<=u,n=Math.abs(a-v)<=u,r=Math.abs(l-m)<=u,i&&(s.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),o&&(s.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),n&&(s.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left),r&&(s.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left)),f=i||o||n||r,"outer"!==g.snapMode&&(i=Math.abs(h-P)<=u,o=Math.abs(c-b)<=u,n=Math.abs(a-m)<=u,r=Math.abs(l-v)<=u,i&&(s.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),o&&(s.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),n&&(s.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left),r&&(s.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[p].snapping&&(i||o||n||r||f)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[p].item})),d.snapElements[p].snapping=i||o||n||r||f)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,s=this.data("ui-draggable").options,i=e.makeArray(e(s.stack)).sort(function(t,s){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(s).css("zIndex"),10)||0)});i.length&&(t=parseInt(e(i[0]).css("zIndex"),10)||0,e(i).each(function(s){e(this).css("zIndex",t+s)}),this.css("zIndex",t+i.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,s){var i=e(s.helper),o=e(this).data("ui-draggable").options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,s){var i=e(this).data("ui-draggable").options;i._zIndex&&e(s.helper).css("zIndex",i._zIndex)}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.position.js*/
define("common:widget/lib/jquery.ui/jquery.ui.position",function(t){function i(t,i,e){return[parseFloat(t[0])*(d.test(t[0])?i/100:1),parseFloat(t[1])*(d.test(t[1])?e/100:1)]}function e(t,i){return parseInt(n.css(t,i),10)||0}function o(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n=t("common:widget/lib/jquery/jquery");n.ui=n.ui||{};var l,s=Math.max,f=Math.abs,r=Math.round,h=/left|center|right/,p=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,d=/%$/,g=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==l)return l;var t,i,e=n("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=e.children()[0];return n("body").append(e),t=o.offsetWidth,e.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=e[0].clientWidth),e.remove(),l=t-i},getScrollInfo:function(t){var i=t.isWindow?"":t.element.css("overflow-x"),e=t.isWindow?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,l="scroll"===e||"auto"===e&&t.height<t.element[0].scrollHeight;return{width:l?n.position.scrollbarWidth():0,height:o?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),e=n.isWindow(i[0]);return{element:i,isWindow:e,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:e?i.width():i.outerWidth(),height:e?i.height():i.outerHeight()}}},n.fn.position=function(t){if(!t||!t.of)return g.apply(this,arguments);t=n.extend({},t);var l,d,u,m,w,W,v=n(t.of),y=n.position.getWithinInfo(t.within),b=n.position.getScrollInfo(y),H=(t.collision||"flip").split(" "),x={};return W=o(v),v[0].preventDefault&&(t.at="left top"),d=W.width,u=W.height,m=W.offset,w=n.extend({},m),n.each(["my","at"],function(){var i,e,o=(t[this]||"").split(" ");1===o.length&&(o=h.test(o[0])?o.concat(["center"]):p.test(o[0])?["center"].concat(o):["center","center"]),o[0]=h.test(o[0])?o[0]:"center",o[1]=p.test(o[1])?o[1]:"center",i=c.exec(o[0]),e=c.exec(o[1]),x[this]=[i?i[0]:0,e?e[0]:0],t[this]=[a.exec(o[0])[0],a.exec(o[1])[0]]}),1===H.length&&(H[1]=H[0]),"right"===t.at[0]?w.left+=d:"center"===t.at[0]&&(w.left+=d/2),"bottom"===t.at[1]?w.top+=u:"center"===t.at[1]&&(w.top+=u/2),l=i(x.at,d,u),w.left+=l[0],w.top+=l[1],this.each(function(){var o,h,p=n(this),c=p.outerWidth(),a=p.outerHeight(),g=e(this,"marginLeft"),W=e(this,"marginTop"),T=c+g+e(this,"marginRight")+b.width,L=a+W+e(this,"marginBottom")+b.height,P=n.extend({},w),I=i(x.my,p.outerWidth(),p.outerHeight());"right"===t.my[0]?P.left-=c:"center"===t.my[0]&&(P.left-=c/2),"bottom"===t.my[1]?P.top-=a:"center"===t.my[1]&&(P.top-=a/2),P.left+=I[0],P.top+=I[1],n.support.offsetFractions||(P.left=r(P.left),P.top=r(P.top)),o={marginLeft:g,marginTop:W},n.each(["left","top"],function(i,e){n.ui.position[H[i]]&&n.ui.position[H[i]][e](P,{targetWidth:d,targetHeight:u,elemWidth:c,elemHeight:a,collisionPosition:o,collisionWidth:T,collisionHeight:L,offset:[l[0]+I[0],l[1]+I[1]],my:t.my,at:t.at,within:y,elem:p})}),t.using&&(h=function(i){var e=m.left-P.left,o=e+d-c,n=m.top-P.top,l=n+u-a,r={target:{element:v,left:m.left,top:m.top,width:d,height:u},element:{element:p,left:P.left,top:P.top,width:c,height:a},horizontal:0>o?"left":e>0?"right":"center",vertical:0>l?"top":n>0?"bottom":"middle"};c>d&&f(e+o)<d&&(r.horizontal="center"),a>u&&f(n+l)<u&&(r.vertical="middle"),r.important=s(f(e),f(o))>s(f(n),f(l))?"horizontal":"vertical",t.using.call(this,i,r)}),p.offset(n.extend(P,{using:h}))})},n.ui.position={fit:{left:function(t,i){var e,o=i.within,n=o.isWindow?o.scrollLeft:o.offset.left,l=o.width,f=t.left-i.collisionPosition.marginLeft,r=n-f,h=f+i.collisionWidth-l-n;i.collisionWidth>l?r>0&&0>=h?(e=t.left+r+i.collisionWidth-l-n,t.left+=r-e):t.left=h>0&&0>=r?n:r>h?n+l-i.collisionWidth:n:r>0?t.left+=r:h>0?t.left-=h:t.left=s(t.left-f,t.left)},top:function(t,i){var e,o=i.within,n=o.isWindow?o.scrollTop:o.offset.top,l=i.within.height,f=t.top-i.collisionPosition.marginTop,r=n-f,h=f+i.collisionHeight-l-n;i.collisionHeight>l?r>0&&0>=h?(e=t.top+r+i.collisionHeight-l-n,t.top+=r-e):t.top=h>0&&0>=r?n:r>h?n+l-i.collisionHeight:n:r>0?t.top+=r:h>0?t.top-=h:t.top=s(t.top-f,t.top)}},flip:{left:function(t,i){var e,o,n=i.within,l=n.offset.left+n.scrollLeft,s=n.width,r=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-i.collisionPosition.marginLeft,p=h-r,c=h+i.collisionWidth-s-r,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];0>p?(e=t.left+a+d+g+i.collisionWidth-s-l,(0>e||e<f(p))&&(t.left+=a+d+g)):c>0&&(o=t.left-i.collisionPosition.marginLeft+a+d+g-r,(o>0||f(o)<c)&&(t.left+=a+d+g))},top:function(t,i){var e,o,n=i.within,l=n.offset.top+n.scrollTop,s=n.height,r=n.isWindow?n.scrollTop:n.offset.top,h=t.top-i.collisionPosition.marginTop,p=h-r,c=h+i.collisionHeight-s-r,a="top"===i.my[1],d=a?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,g="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,u=-2*i.offset[1];0>p?(o=t.top+d+g+u+i.collisionHeight-s-l,t.top+d+g+u>p&&(0>o||o<f(p))&&(t.top+=d+g+u)):c>0&&(e=t.top-i.collisionPosition.marginTop+d+g+u-r,t.top+d+g+u>c&&(e>0||f(e)<c)&&(t.top+=d+g+u))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments),n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments),n.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,e,o,l,s=document.getElementsByTagName("body")[0],f=document.createElement("div");t=document.createElement(s?"div":"body"),e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&n.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(l in e)t.style[l]=e[l];t.appendChild(f),i=s||document.documentElement,i.insertBefore(t,i.firstChild),f.style.cssText="position: absolute; left: 10.7432222px;",o=n(f).offset().left,n.support.offsetFractions=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()});
;/*!common:widget/lib/jquery.ui/jquery.ui.resizable.js*/
define("common:widget/lib/jquery.ui/jquery.ui.resizable",function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}var s=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.mouse"),t("common:widget/lib/jquery.ui/jquery.ui.widget"),s.widget("ui.resizable",s.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,e,i,h,n,o=this,a=this.options;if(this.element.addClass("ui-resizable"),s.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(s("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(s(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},e=0;e<t.length;e++)i=s.trim(t[e]),n="ui-resizable-"+i,h=s("<div class='ui-resizable-handle "+n+"'></div>"),h.css({zIndex:a.zIndex}),"se"===i&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(h);this._renderAxis=function(t){var e,i,h,n;t=t||this.element;for(e in this.handles)this.handles[e].constructor===String&&(this.handles[e]=s(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=s(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(h,n),this._proportionallyResize()),s(this.handles[e]).length},this._renderAxis(this.element),this._handles=s(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=h&&h[1]?h[1]:"se")}),a.autoHide&&(this._handles.hide(),s(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(s(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(s(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){s(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_mouseCapture:function(t){var e,i,h=!1;for(e in this.handles)i=s(this.handles[e])[0],(i===t.target||s.contains(i,t.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(t){var i,h,n,o=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),i=e(this.helper.css("left")),h=e(this.helper.css("top")),o.containment&&(i+=s(o.containment).scrollLeft()||0,h+=s(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:h},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:i,top:h},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=s(".ui-resizable-"+this.axis).css("cursor"),s("body").css("cursor","auto"===n?this.axis+"-resize":n),l.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i=this.helper,h={},n=this.originalMousePosition,o=this.axis,a=this.position.top,l=this.position.left,r=this.size.width,p=this.size.height,d=t.pageX-n.left||0,g=t.pageY-n.top||0,u=this._change[o];return u?(e=u.apply(this,[t,d,g]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),this.position.top!==a&&(h.top=this.position.top+"px"),this.position.left!==l&&(h.left=this.position.left+"px"),this.size.width!==r&&(h.width=this.size.width+"px"),this.size.height!==p&&(h.height=this.size.height+"px"),i.css(h),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),s.isEmptyObject(h)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var e,i,h,n,o,a,l,r=this.options,p=this;return this._helper&&(e=this._proportionallyResizeElements,i=e.length&&/textarea/i.test(e[0].nodeName),h=i&&s.ui.hasScroll(e[0],"left")?0:p.sizeDiff.height,n=i?0:p.sizeDiff.width,o={width:p.helper.width()-n,height:p.helper.height()-h},a=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,l=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null,r.animate||this.element.css(s.extend(o,{top:l,left:a})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!r.animate&&this._proportionallyResize()),s("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,h,n,o,a=this.options;o={minWidth:i(a.minWidth)?a.minWidth:0,maxWidth:i(a.maxWidth)?a.maxWidth:1/0,minHeight:i(a.minHeight)?a.minHeight:0,maxHeight:i(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,h=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),h>o.minHeight&&(o.minHeight=h),s<o.maxWidth&&(o.maxWidth=s),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,h=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===h&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===h&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,h=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,a=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,p=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),h&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&p&&(t.left=l-e.minWidth),h&&p&&(t.left=l-e.maxWidth),a&&d&&(t.top=r-e.minHeight),n&&d&&(t.top=r-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,h,n=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(h=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],s=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);h.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||s("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,h=this.originalPosition;return{top:h.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return s.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return s.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return s.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return s.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){s.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),s.ui.plugin.add("resizable","animate",{stop:function(t){var e=s(this).data("ui-resizable"),i=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&s.ui.hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null,p=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(s.extend(l,p&&r?{top:p,left:r}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};h&&h.length&&s(h[0]).css({width:i.width,height:i.height}),e._updateCache(i),e._propagate("resize",t)}})}}),s.ui.plugin.add("resizable","containment",{start:function(){var t,i,h,n,o,a,l,r=s(this).data("ui-resizable"),p=r.options,d=r.element,g=p.containment,u=g instanceof s?g.get(0):/parent/.test(g)?d.parent().get(0):g;u&&(r.containerElement=s(u),/document/.test(g)||g===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:s(document),left:0,top:0,width:s(document).width(),height:s(document).height()||document.body.parentNode.scrollHeight}):(t=s(u),i=[],s(["Top","Right","Left","Bottom"]).each(function(s,h){i[s]=e(t.css("padding"+h))}),r.containerOffset=t.offset(),r.containerPosition=t.position(),r.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},h=r.containerOffset,n=r.containerSize.height,o=r.containerSize.width,a=s.ui.hasScroll(u,"left")?u.scrollWidth:o,l=s.ui.hasScroll(u)?u.scrollHeight:n,r.parentData={element:u,left:h.left,top:h.top,width:a,height:l}))},resize:function(t){var e,i,h,n,o=s(this).data("ui-resizable"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||t.shiftKey,d={top:0,left:0},g=o.containerElement;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?l.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,e=Math.abs((o._helper?o.offset.left-d.left:o.offset.left-d.left)+o.sizeDiff.width),i=Math.abs((o._helper?o.offset.top-d.top:o.offset.top-l.top)+o.sizeDiff.height),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n&&(e-=o.parentData.left),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,p&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=s(this).data("ui-resizable"),e=t.options,i=t.containerOffset,h=t.containerPosition,n=t.containerElement,o=s(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,r=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&s(this).css({left:a.left-h.left-i.left,width:l,height:r}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&s(this).css({left:a.left-h.left-i.left,width:l,height:r})}}),s.ui.plugin.add("resizable","alsoResize",{start:function(){var t=s(this).data("ui-resizable"),e=t.options,i=function(t){s(t).each(function(){var t=s(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?i(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],i(e.alsoResize)):s.each(e.alsoResize,function(t){i(t)})},resize:function(t,e){var i=s(this).data("ui-resizable"),h=i.options,n=i.originalSize,o=i.originalPosition,a={height:i.size.height-n.height||0,width:i.size.width-n.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0},l=function(t,i){s(t).each(function(){var t=s(this),h=s(this).data("ui-resizable-alsoresize"),n={},o=i&&i.length?i:t.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];s.each(o,function(t,e){var i=(h[e]||0)+(a[e]||0);i&&i>=0&&(n[e]=i||null)}),t.css(n)})};"object"!=typeof h.alsoResize||h.alsoResize.nodeType?l(h.alsoResize):s.each(h.alsoResize,function(t,e){l(t,e)})},stop:function(){s(this).removeData("resizable-alsoresize")}}),s.ui.plugin.add("resizable","ghost",{start:function(){var t=s(this).data("ui-resizable"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=s(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=s(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),s.ui.plugin.add("resizable","grid",{resize:function(){var t=s(this).data("ui-resizable"),e=t.options,i=t.size,h=t.originalSize,n=t.originalPosition,o=t.axis,a="number"==typeof e.grid?[e.grid,e.grid]:e.grid,l=a[0]||1,r=a[1]||1,p=Math.round((i.width-h.width)/l)*l,d=Math.round((i.height-h.height)/r)*r,g=h.width+p,u=h.height+d,c=e.maxWidth&&e.maxWidth<g,f=e.maxHeight&&e.maxHeight<u,m=e.minWidth&&e.minWidth>g,z=e.minHeight&&e.minHeight>u;e.grid=a,m&&(g+=l),z&&(u+=r),c&&(g-=l),f&&(u-=r),/^(se|s|e)$/.test(o)?(t.size.width=g,t.size.height=u):/^(ne)$/.test(o)?(t.size.width=g,t.size.height=u,t.position.top=n.top-d):/^(sw)$/.test(o)?(t.size.width=g,t.size.height=u,t.position.left=n.left-p):(t.size.width=g,t.size.height=u,t.position.top=n.top-d,t.position.left=n.left-p)}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.dialog.js*/
define("common:widget/lib/jquery.ui/jquery.ui.dialog",function(i){var t=i("common:widget/lib/jquery/jquery");i("common:widget/lib/jquery.ui/jquery.ui.core"),i("common:widget/lib/jquery.ui/jquery.ui.widget"),i("common:widget/lib/jquery.ui/jquery.ui.button"),i("common:widget/lib/jquery.ui/jquery.ui.draggable"),i("common:widget/lib/jquery.ui/jquery.ui.mouse"),i("common:widget/lib/jquery.ui/jquery.ui.position"),i("common:widget/lib/jquery.ui/jquery.ui.resizable");var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},o={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(i){var e=t(this).css(i).offset().top;0>e&&t(this).css("top",i.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle;var i="ui-dialog-content ui-widget-content";i=this.options.dialogClass?i+" "+this.options.dialogClass:i,this._createWrapper(),this.element.show().removeAttr("title").addClass(i).appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var i=this.options.appendTo;return i&&(i.jquery||i.nodeType)?t(i):this.document.find(i||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),i=t.parent.children().eq(t.index),i.length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(i){var e=this;if(this._isOpen&&this._trigger("beforeClose",i)!==!1){this._isOpen=!1,this._destroyOverlay();var o;try{o=this.opener.filter(":focusable")}catch(s){o=null}o&&!o.focus().length&&t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",i)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(i,t){var e=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return e&&!t&&this._trigger("focus",i),e},open:function(){var i=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){i._focusTabbable(),i._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var i=this.element.find("[autofocus]");i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).focus()},_keepFocus:function(i){function e(){var i=this.document[0].activeElement,e=this.uiDialog[0]===i||t.contains(this.uiDialog[0],i);e||this._focusTabbable()}i.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(i){if(this.options.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===t.ui.keyCode.ESCAPE)return i.preventDefault(),void this.close(i);if(i.keyCode===t.ui.keyCode.TAB){var e=this.uiDialog.find(":tabbable"),o=e.filter(":first"),s=e.filter(":last");i.target!==s[0]&&i.target!==this.uiDialog[0]||i.shiftKey?i.target!==o[0]&&i.target!==this.uiDialog[0]||!i.shiftKey||(s.focus(1),i.preventDefault()):(o.focus(1),i.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var i;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(i){t(i.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});var e="ui-dialog-titlebar-close";this.options.dialogClass&&"preview-ui-dialog"===this.options.dialogClass&&(e+=" preview-titlebar-close"),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass(e).appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),i=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(i),this.uiDialog.attr({"aria-labelledby":i.attr("id")})},_title:function(i){this.options.title||i.html("&#160;"),i.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var i=this,e=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(e)||t.isArray(e)&&!e.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(e,function(e,o){var s,n;o=t.isFunction(o)?{click:o,text:e}:o,o=t.extend({type:"button"},o),s=o.click,o.click=function(){s.apply(i.element[0],arguments)},n={icons:o.icons,text:o.showText},delete o.icons,delete o.showText,t("<button></button>",o).button(n).appendTo(i.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(i){return{position:i.position,offset:i.offset}}var e=this,o=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(o,s){t(this).addClass("ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",o,i(s))},drag:function(t,o){e._trigger("drag",t,i(o))},stop:function(s,n){o.position=[n.position.left-e.document.scrollLeft(),n.position.top-e.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",s,i(n))}})},_makeResizable:function(){function i(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}var e=this,o=this.options,s=o.resizable,n=this.uiDialog.css("position"),a="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:a,start:function(o,s){t(this).addClass("ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",o,i(s))},resize:function(t,o){e._trigger("resize",t,i(o))},stop:function(s,n){o.height=t(this).height(),o.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",s,i(n))}}).css("position",n)},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(i){var s=this,n=!1,a={};t.each(i,function(i,t){s._setOption(i,t),i in e&&(n=!0),i in o&&(a[i]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(i,t){var e,o,s=this.uiDialog;"dialogClass"===i&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==i&&(this._super(i,t),"appendTo"===i&&this.uiDialog.appendTo(this._appendTo()),"buttons"===i&&this._createButtons(),"closeText"===i&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===i&&(e=s.is(":data(ui-draggable)"),e&&!t&&s.draggable("destroy"),!e&&t&&this._makeDraggable()),"position"===i&&this._position(),"resizable"===i&&(o=s.is(":data(ui-resizable)"),o&&!t&&s.resizable("destroy"),o&&"string"==typeof t&&s.resizable("option","handles",t),o||t===!1||this._makeResizable()),"title"===i&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var i=t(this);return t("<div>").css({position:"absolute",width:i.outerWidth(),height:i.outerHeight()}).appendTo(i.parent()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(i){return t(i.target).closest(".ui-dialog").length?!0:!!t(i.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var i=this,e=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(o){i._allowInteraction(o)||(o.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var i,e=this.options.position,o=[],s=[0,0];e?(("string"==typeof e||"object"==typeof e&&"0"in e)&&(o=e.split?e.split(" "):[e[0],e[1]],1===o.length&&(o[1]=o[0]),t.each(["left","top"],function(i,t){+o[i]===o[i]&&(s[i]=o[i],o[i]=t)}),e={my:o[0]+(s[0]<0?s[0]:"+"+s[0])+" "+o[1]+(s[1]<0?s[1]:"+"+s[1]),at:o.join(" ")}),e=t.extend({},t.ui.dialog.prototype.options.position,e)):e=t.ui.dialog.prototype.options.position,i=this.uiDialog.is(":visible"),i||this.uiDialog.show(),this.uiDialog.position(e),i||this.uiDialog.hide()}})});
;/*!common:widget/js/ui/dialog/dialog.js*/
define("common:widget/js/ui/dialog/dialog",function(t,n,i){var e=t("common:widget/lib/jquery/jquery"),o=t("common:widget/js/util/event/event"),s=t("common:widget/js/ui/base/base"),c=t("common:widget/js/util/tangram/browser");t("common:widget/lib/jquery.ui/jquery.ui.dialog");var a={},l=s().extend({init:function(t){var n=this;t=e.extend({modal:!0,closeText:"关闭",resizable:!1,draggable:!0,dialogClass:t.className,btnAlign:"center"},t||{}),c.ie&&c.ie<7&&(t.open=function(){e(".ui-widget-overlay").height(e(document).height())}),n.instance=t.target?e(t.target).dialog(t):e("<div>",{id:"ik-dlg-"+n.guid}).html(t.content).dialog(t),e.isArray(t.buttons)&&n.customBttons(t.buttons),n.instance.next().css("text-align",t.btnAlign),t.autoDispose&&n.instance.on("dialogclose",function(){e(this).dialog("destroy").remove(),delete a[n.guid],n.isDestroy=!0}),a[n.guid]=n.instance,e(window).on("resize",function(){n&&n.center()})},customBttons:function(t){var n=this,i=this.instance.next().children("div"),o=i.find("button");e(t).each(function(t){var o=this;!this.className&&2>t&&(this.className=["btn-32-green","btn-32-white"][t]+" mr-10"),e('<a href="#" />').text(this.text||"").appendTo(i).addClass(this.className||"").click(function(t){t.preventDefault(),o.click.apply(n.instance,arguments)})}),o.remove()},open:function(){!this.isDestroy&&this.instance.dialog("open")},close:function(){!this.isDestroy&&this.instance.dialog("close")},center:function(){!this.isDestroy&&this.instance.dialog("option","position",{my:"center",at:"center",of:window})},getDialogContainer:function(){return this.isDestroy?null:this.instance.dialog("widget")},setSize:function(t){!this.isDestroy&&this.instance.dialog("option",t)},setTitle:function(t){!this.isDestroy&&t&&this.instance.dialog("option","title",t)}});o.on("dialog.close",function(){l.close()}),i.exports=e.extend(l,{alert:function(t,n){return n=e.extend({title:"知道提示",content:t,buttons:[{text:"确定",click:function(){e.isFunction(n.onaccept)&&n.onaccept.apply(this,arguments),e(this).dialog("close")}}]},n||{}),new l(n)},confirm:function(t,n){return n.buttons=n.buttons||[{text:"确定",click:function(){e.isFunction(n.onaccept)&&n.onaccept.apply(this,arguments)}},{text:"取消",click:function(){e.isFunction(n.oncancel)&&n.oncancel.apply(this,arguments),e(this).dialog("close")}}],l.alert(t,n)},iframe:function(t){var n='<iframe frameborder="no" class="ui-dialog-content-iframe" src="'+t.content+'"></iframe>';return t.content=n,t.buttons||(t.buttons=[]),t.dialogClass="dialog-iframe",l.alert(n,t)},close:function(){e.each(a,function(t,n){try{n&&n.dialog("close")}catch(i){}})}})});
;/*!common:widget/js/logic/login/login.js*/
define("common:widget/js/logic/login/login",function(o,e){function i(){window.location.reload(!0)}function n(){c.fire("login.log")}function t(){}var s=T=o("common:widget/js/util/tangram/tangram"),c=o("common:widget/js/util/event/event"),a=o("common:widget/js/util/uri/uri"),u=o("common:widget/js/ui/dialog/dialog"),r=null,g=!1,l=new Date,p="//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+l.getFullYear()+l.getMonth()+l.getDate()+l.getHours()+l.getMinutes(),f="/mybaby/ajax/loginInfo",h={registerLink:"https://passport.baidu.com/v2/?reg&tpl=ik&color=green&u="+escape(top.location.href),onLoginSuccess:i,onLoginFailure:n,onSubmitedErr:t,cache:!0,tangram:!0,color:"pink",apiOpt:{product:"ik",charset:"UTF-8",u:window.top.location.href,staticPage:location.protocol+"//"+location.host+a.v3Jump},onshow:function(){}};h.authsite=["qzone","tsina","tqq"],h.authsiteCfg={tpl:"ik",display:"popup",u:window.top.location.href,jumpUrl:"http://baobao.baidu.com"+a.xd,onBindSuccess:h.onLoginSuccess,onBindFailure:h.onSubmitedErr},c.on("login.log",function(o,i){var n=i&&s.isFunction(i.onLoginSuccess)?i.onLoginSuccess:h.onLoginSuccess;if(i&&i.sms){var t="无需百度帐号，输入手机号即可免费提问";i.psFlag&&(t="验证即登录，没有百度帐号也可以使用",h.img="http://img.baidu.com/img/iknow/ui/sms-login-bg.jpg"),s.extend(h.apiOpt,{sms:i.sms,smsText:t}),h.authsite=[]}h.onLoginSuccess=function(o){c.fire("dialog.close"),c.fire("login.check",{sync:i&&i.sync,isLogin:function(o){o.isFilter&&c.fire("login.filter",{type:"set",filterInfo:o.isFilter}),n(o)},noLogin:function(){}}),o.returnValue=!1},g?r&&r.show():(s.getScript(p,function(){r=passport.pop.init(h),r.show(),s.extend(e,r)}),g=!0)}),c.on("login.check",function(o,e){e=e||{},h.onLoginSuccess=e.isLogin||i,h.onLoginFailure=e.noLogin||n,s.ajax({url:f+"?t="+(new Date).getTime(),async:e&&e.sync?!1:!0,dataType:"html",success:function(o,e,i){var n=s.json.parse(i.responseText),t=F.context("user")||{};return n=n.data,1==n.isLogin?(t.isLogin=!0,t.id=n.userId,t.wealth=n.userWealth,h.onLoginSuccess(n)):(t.isLogin=!1,h.onLoginFailure()),!0}})}),c.on("login._success",function(){h.onLoginSuccess()}),c.on("login.setUsername",function(o,e){function i(){var o=u.iframe({content:a.username+n,title:e.titleText||"你还没有用户名，起一个好听的用户名吧！",width:430,height:170,autoDispose:!0});c.on("setusername.update",function(e,i){o&&o.setSize({width:i.width,height:i.height})})}e=e||{},e.onSetSuccess||(e.onSetSuccess=function(){window.location.reload(!0)}),h.onLoginSuccess=e.onSetSuccess;var n="?"+(e.patch?e.patch+"&":"")+"t="+(new Date).getTime();c.fire("login.check",{isLogin:function(){var o=F.context("user")||{};o.isNoUserName?i():e.onSetSuccess()},noLogin:function(){c.fire("login.log",{onLoginSuccess:i})}})}),c.on("login.filter",function(o,e){if("set"==e.type)T.cookie.set("IK_USER_FILTER",e.filterInfo.reason,{path:"/",expires:6e4}),T.cookie.set("IK_USER_FILTERI",e.filterInfo.lastLoginIp,{path:"/",expires:6e4}),T.cookie.set("IK_USER_FILTERT",e.filterInfo.lastLoginTime,{path:"/",expires:6e4});else if("check"==e.type&&16==parseInt(T.cookie.get("IK_USER_FILTER"))){var i=new u({width:350,height:200,title:"知道提示",content:"您的账号于 "+T.cookie.get("IK_USER_FILTERT")+" 在 "+T.cookie.get("IK_USER_FILTERI")+" 进行了异常操作，高度疑似被盗，所以已被临时冻结，请进行身份验证完成解冻操作，成功后即可恢复正常使用",buttons:[{text:"进行身份验证",click:function(){window.open("/ihome/set/verify?fr=login"),i.close()}},{text:"取消",click:function(){i.close()}}],autoDispose:!0});T.cookie.remove("IK_USER_FILTER",{path:"/"}),T.cookie.remove("IK_USER_FILTERI",{path:"/"}),T.cookie.remove("IK_USER_FILTERT",{path:"/"})}}),c.on("dialog.close",function(){r&&r.hide&&r.hide()}),c.on("login.success",function(){i()}),function(){c.fire("login.filter",{type:"check"})}()});
;/*!common:widget/lib/jquery.ui/jquery.ui.tooltip.js*/
define("common:widget/lib/jquery.ui/jquery.ui.tooltip",function(t){function i(t,i){var e=(t.attr("aria-describedby")||"").split(/\s+/);e.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",o.trim(e.join(" ")))}function e(t){var i=t.data("ui-tooltip-id"),e=(t.attr("aria-describedby")||"").split(/\s+/),n=o.inArray(i,e);-1!==n&&e.splice(n,1),t.removeData("ui-tooltip-id"),e=o.trim(e.join(" ")),e?t.attr("aria-describedby",e):t.removeAttr("aria-describedby")}var o=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.widget"),t("common:widget/lib/jquery.ui/jquery.ui.position");var n=0;o.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var t=o(this).attr("title")||"";return o("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(t,i){var e=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&o.each(this.tooltips,function(t,i){e._updateContent(i)})))},_disable:function(){var t=this;o.each(this.tooltips,function(i,e){var n=o.Event("blur");n.target=n.currentTarget=e[0],t.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=o(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=o(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,e=o(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=o(this);e.data("ui-tooltip-open")&&(t=o.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._updateContent(e,t))},_updateContent:function(t,i){var e,o=this.options.content,n=this,s=i?i.type:null;return"string"==typeof o?this._open(i,t,o):(e=o.call(t[0],function(e){t.data("ui-tooltip-open")&&n._delay(function(){i&&(i.type=s),this._open(i,t,e)})}),void(e&&this._open(i,t,e)))},_open:function(t,e,n){function s(t){u.of=t,l.is(":hidden")||l.position(u)}var l,a,r,u=o.extend({},this.options.position);if(n){if(l=this._find(e),l.length)return void l.find(".ui-tooltip-content").html(n);e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),l=this._tooltip(e),i(e,l.attr("id")),l.find(".ui-tooltip-content").html(n),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:s}),s(t)):l.position(o.extend({of:e},this.options.position)),l.hide(),this._show(l,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){l.is(":visible")&&(s(u.of),clearInterval(r))},o.fx.interval)),this._trigger("open",t,{tooltip:l}),a={keyup:function(t){if(t.keyCode===o.ui.keyCode.ESCAPE){var i=o.Event(t);i.currentTarget=e[0],this.close(i,!0)}},remove:function(){this._removeTooltip(l)}},t&&"mouseover"!==t.type||(a.mouseleave="close"),t&&"focusin"!==t.type||(a.focusout="close"),this._on(!0,e,a)}},close:function(t){var i=this,n=o(t?t.currentTarget:this.element),s=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),e(n),s.stop(!0),this._hide(s,this.options.hide,function(){i._removeTooltip(o(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&o.each(this.parents,function(t,e){o(e.element).attr("title",e.title),delete i.parents[t]}),this.closing=!0,this._trigger("close",t,{tooltip:s}),this.closing=!1)},_tooltip:function(t){var i="ui-tooltip-"+n++,e=o("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return o("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[i]=t,e},_find:function(t){var i=t.data("ui-tooltip-id");return i?o("#"+i):o()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var t=this;o.each(this.tooltips,function(i,e){var n=o.Event("blur");n.target=n.currentTarget=e[0],t.close(n,!0),o("#"+i).remove(),e.data("ui-tooltip-title")&&(e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))})}})});
;/*!common:widget/js/ui/tip/tip.js*/
define("common:widget/js/ui/tip/tip",function(t,i,o){var s=t("common:widget/lib/jquery/jquery"),e=t("common:widget/js/ui/base/base");t("common:widget/lib/jquery.ui/jquery.ui.tooltip"),o.exports=e(function(t){var i=this;i.position=s.extend({my:"left top",at:"left bottom+10",collision:"none",using:function(o,e){"popcms"!=t.rightbottom&&s(this).css(o),i.arrow&&s("<div>").addClass("tip-arrow").addClass("tip-arrow-"+(i.direction||e[e.important])).html("<em></em><span></span>").appendTo(this),i.closebox&&(s('<a href="#" class="tip-close" title="关闭">×</a>').addClass(e.vertical).addClass(e.horizontal).click(function(t){t.preventDefault(),i.autoDispose?i.close():i.hide(),i.fire("closeall")}).appendTo(this),s(this).addClass("tip-has-close")),i.shadow&&s(this).addClass("tip-shadow"),i.radius&&s(this).addClass("tip-radius")}},t.position),delete t.position,i.content="",i.target="",i.tooltipClass="",i.arrow=!0,i.closebox=!1,i.shadow=!0,i.radius=!0,i.autoDispose=!0,i.effect=!0}).extend({init:function(t){var i=this;i.target=s(i.target),0!=i.target.size()&&(i.target.attr("title")||i.target.attr("title",""),i.target.tooltip({content:i.content,position:i.position,tooltipClass:i.tooltipClass,open:function(t){i.fire("onopen",t)},close:function(t){i.fire("onclose",t)}}),i.instance=i.target.data("ui-tooltip"),i.target.tooltip("open",{target:i.instance.element}),i._status="show",t.autoDisplay===!1&&this.close())},getTipContainer:function(){return this.instance._find(s(this.target))},getTipBody:function(){return this.getTipContainer().find(".ui-tooltip-content")},getStatus:function(){return this._status},open:function(){var t=this.target;t.attr("title")||t.attr("title",""),t.tooltip("open",{target:this.instance.element}),this._status="show",this.fire("show")},show:function(){this.autoDispose?this.open():(this.getTipContainer()[this.effect?"fadeIn":"show"](),this._status="show")},close:function(){this.target.tooltip("close"),this._status="hide"},hide:function(){this.autoDispose?this.close():(this.getTipContainer()[this.effect?"fadeOut":"hide"](),this._status="hide")}})});
;/*!common:widget/js/util/template/template.js*/
define("common:widget/js/util/template/template",function(e,n,t){var a=function(e,n){var t=function(){if(!this.document)return a._compile(e);var n=document.getElementById(e);if(n){if(a.cache[e])return a.cache[e];var t=/^(textarea|input)$/i.test(n.nodeName)?n.value:n.innerHTML;return a._compile(t)}return a._compile(e)}(),r=a._isObject(n)?t(n):t;return t=null,r};a.cache={},a.LEFT_DELIMITER=a.LEFT_DELIMITER||"<%",a.RIGHT_DELIMITER=a.RIGHT_DELIMITER||"%>",a.ESCAPE=!0,a._encodeHTML=function(e){return String(e).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},a._encodeReg=function(e){return String(e).replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")},a._encodeEventHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\n/g,"\n").replace(/\\r/g,"\r")},a._compile=function(e){var n="var _template_fun_array=[];\nvar fn=(function(data){\nvar _template_varName='';\nfor(name in data){\n_template_varName+=('var '+name+'=data[\"'+name+'\"];');\n};\neval(_template_varName);\n_template_fun_array.push('"+a._analysisStr(e)+"');\n_template_varName=null;\n})(_template_object);\nfn = null;\nreturn _template_fun_array.join('');\n";return new Function("_template_object",n)},a._isObject=function(e){return"function"==typeof e||!(!e||"object"!=typeof e)},a._analysisStr=function(e){var n=a.LEFT_DELIMITER,t=a.RIGHT_DELIMITER,r=a._encodeReg(n),p=a._encodeReg(t);return e=String(e).replace(new RegExp("("+r+"[^"+p+"]*)//.*\n","g"),"$1").replace(new RegExp("<!--.*?-->","g"),"").replace(new RegExp(r+"\\*.*?\\*"+p,"g"),"").replace(new RegExp("[\\r\\t\\n]","g"),"").replace(new RegExp(r+"(?:(?!"+p+")[\\s\\S])*"+p+"|((?:(?!"+r+")[\\s\\S])+)","g"),function(e,n){var t="";if(n)for(t=n.replace(/\\/g,"&#92;").replace(/'/g,"&#39;");/<[^<]*?&#39;[^<]*?>/g.test(t);)t=t.replace(/(<[^<]*?)&#39;([^<]*?>)/g,"$1\r$2");else t=e;return t}).replace(new RegExp("("+r+":?[hvu]?[\\s]*?=[\\s]*?[^;|"+p+"]*?);[\\s]*?"+p,"g"),"$1"+t).replace(new RegExp("("+r+"[\\s]*?var[\\s]*?.*?[\\s]*?[^;])[\\s]*?"+p,"g"),"$1;"+t).split(n).join("	"),e=a.ESCAPE?e.replace(new RegExp("\\t=(.*?)"+p,"g"),"',typeof($1) === 'undefined'?'':baiduTemplate._encodeHTML($1),'"):e.replace(new RegExp("\\t=(.*?)"+p,"g"),"',typeof($1) === 'undefined'?'':$1,'"),e=e.replace(new RegExp("\\t:h=(.*?)"+p,"g"),"',typeof($1) === 'undefined'?'':baiduTemplate._encodeHTML($1),'").replace(new RegExp("\\t(?::=|-)(.*?)"+p,"g"),"',typeof($1)==='undefined'?'':$1,'").replace(new RegExp("\\t:u=(.*?)"+p,"g"),"',typeof($1)==='undefined'?'':encodeURIComponent($1),'").replace(new RegExp("\\t:v=(.*?)"+p,"g"),"',typeof($1)==='undefined'?'':baiduTemplate._encodeEventHTML($1),'").split("	").join("');").split(t).join("_template_fun_array.push('").split("\r").join("\\'")},window.baiduTemplate=a,a.LEFT_DELIMITER="<#",a.RIGHT_DELIMITER="#>",t.exports=a});
;/*!common:widget/js/util/cookie/cookie.js*/
define("common:widget/js/util/cookie/cookie",function(e,n,t){function o(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)}function i(e,n,t){if(o(e)){t=t||{};var i=t.expires;"number"==typeof t.expires&&(i=new Date,i.setTime(i.getTime()+t.expires)),document.cookie=e+"="+n+(t.path?"; path="+t.path:"")+(i?"; expires="+i.toGMTString():"")+(t.domain?"; domain="+t.domain:"")+(t.secure?"; secure":"")}}function r(e){if(o(e)){var n=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),t=n.exec(document.cookie);if(t)return t[2]||null}return null}function u(e){var n=r(e);return"string"==typeof n?n=decodeURIComponent(n):null}function c(e,n,t){i(e,encodeURIComponent(n),t)}function f(e,n){n=n||{},n.expires=new Date(0),i(e,"",n)}t.exports={get:u,set:c,remove:f}});
;/*!common:widget/js/util/log/log.js*/
define("common:widget/js/util/log/log",function(e,o,n){function t(e){var o="iknowlog_"+(new Date).getTime(),n=window[o]=new Image;n.onload=n.onerror=function(){window[o]=null},n.src=e,n=null}function r(e){var o="/static/common/widget/js/util/log/log_d41d8cd.gif?",n={pid:102,t:(new Date).getTime()};u.extend(n,e);var r=[];u.each(n,function(e,o){var n=typeof o;"string"===n&&o.length>0&&r.push(e+"="+o),"number"===n&&r.push(e+"="+o)}),t(o+r.join("&"))}function i(e,o,n,t){r({page:e,action:o,type:"pv",osType:"pc",area:n,network:t,refer:encodeURIComponent(document.referrer)}),c()}function a(e,o,n,t,i,a){var c={page:e,action:o,osType:"pc",area:n,type:t,network:i};a&&u.extend(c,a),c.refer=encodeURIComponent(document.referrer),r(c)}function c(){var e=document.referrer,o=e.split("/");o=o[2]?o[2]:"";var n=/baobao.baidu.com/gi;if(!n.test(o)){var t=d.get("babyFirstReferHost");(!t||t&&t!==o)&&d.set("babyFirstReferHost",o,{path:"/"})}}{var u=e("common:widget/lib/jquery/jquery"),d=e("common:widget/js/util/cookie/cookie");e("common:widget/js/util/event/event")}n.exports={send:r,logPV:i,logOther:a}});
;/*!common:widget/lib/jquery.ui/jquery.ui.mousewheel.js*/
define("common:widget/lib/jquery.ui/jquery.ui.mousewheel",function(e){function t(e){var t,i=e||window.event,s=[].slice.call(arguments,1),h=0,u=0,a=0,r=0,d=0;return e=n.event.fix(i),e.type="mousewheel",i.wheelDelta&&(h=i.wheelDelta),i.detail&&(h=-1*i.detail),i.deltaY&&(a=-1*i.deltaY,h=a),i.deltaX&&(u=i.deltaX,h=-1*u),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(u=-1*i.wheelDeltaX),r=Math.abs(h),(!l||l>r)&&(l=r),d=Math.max(Math.abs(a),Math.abs(u)),(!o||o>d)&&(o=d),t=h>0?"floor":"ceil",h=Math[t](h/l),u=Math[t](u/o),a=Math[t](a/o),s.unshift(e,h,u,a),(n.event.dispatch||n.event.handle).apply(this,s)}var l,o,n=e("common:widget/lib/jquery/jquery"),i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(n.event.fixHooks)for(var h=i.length;h;)n.event.fixHooks[i[--h]]=n.event.mouseHooks;n.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=s.length;e;)this.addEventListener(s[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null}},n.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})});
;/*!common:widget/js/ui/scrollbar/scrollbar.js*/
define("common:widget/js/ui/scrollbar/scrollbar",function(e,t,s){function o(e){"undefined"!=typeof e.style.WebkitUserSelect?e.style.WebkitUserSelect="none":"undefined"!=typeof e.style.MozUserSelect?e.style.MozUserSelect="none":"undefined"!=typeof e.onselectstart?e.onselectstart=function(){return!1}:e.onmousedown=function(){return!1}}function n(e){"undefined"!=typeof e.style.WebkitUserSelect?e.style.WebkitUserSelect="":"undefined"!=typeof e.style.MozUserSelect?e.style.MozUserSelect="":"undefined"!=typeof e.onselectstart?e.onselectstart=function(){return!0}:e.onmousedown=function(){return!0}}var r=e("common:widget/js/util/tangram/tangram"),i=e("common:widget/js/ui/base/base"),c=(e("common:widget/lib/jquery.ui/jquery.ui.mousewheel"),i().extend({init:function(e){this.options=r.extend({scrollWrapper:"",scrollContent:"",maxHeight:600},e)},render:function(){var e=this,t='<div class="scrollbar-wp" style="display:none;"><div class="scrollbar"></div></div>',s=e.options.scrollWrapper,i=e.options.scrollContent,c=e.options.maxHeight,p=i.height(),l=c/p;if(p>c){s.css({position:"relative",top:0,left:0,height:c,overflow:"hidden"}),i.css({position:"relative",top:0,left:0}),s.append(r(t));var a=r(".scrollbar",s);a.height(l*c),a.hover(function(){r(this).addClass("hover")},function(){r(this).removeClass("hover")});var u=0,d=0,f=0,h=0;a.mousedown(function(e){u=1,d=e.pageY,f=parseInt(a.css("top")),h=parseInt(i.css("top")),o(document.body)}),r(document).mousemove(function(e){if(u){var t=e.pageY-d;if(0>t&&parseInt(a.css("top"))<=0)return a.css("top","0"),void i.css("top","0");if(t>0&&parseInt(a.css("top"))>=c-a.height())return a.css("top",c-a.height()+"px"),void i.css("top","-"+(p-c)+"px");a.css("top",parseInt(f+t)+"px"),i.css("top",parseInt(h-t/c*p)+"px")}}),r(document).mouseup(function(){u=0,n(document.body)});var m=5,v=0;s.click(function(){v=1,f=parseInt(a.css("top")),h=parseInt(i.css("top"))}),s.blur(function(){v=0}),s.mousewheel(function(e,t){if(v&&a.is(":visible"))if(e.preventDefault(),f=parseInt(a.css("top")),h=parseInt(i.css("top")),0>t){if(parseInt(a.css("top"))>=c-a.height())return a.css("top",c-a.height()+"px"),void i.css("top","-"+(p-c)+"px");a.css("top",parseInt(f+m)+"px"),i.css("top",parseInt(h-m/l)+"px")}else{if(parseInt(a.css("top"))<=0)return a.css("top","0"),void i.css("top","0");a.css("top",parseInt(f-m)+"px"),i.css("top",parseInt(h+m/l)+"px")}}),s.hover(function(){r(".scrollbar-wp",s).show()},function(){r(".scrollbar-wp",s).hide(),u=0,n(document.body)})}}}));s.exports=c});
;/*!common:widget/js/util/store/store.js*/
define("common:widget/js/util/store/store",function(e,t,n){function r(){try{return f in s&&s[f]}catch(e){return!1}}function i(){try{return d in s&&s[d]&&s[d][s.location.hostname]}catch(e){return!1}}function o(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(a),l.body.appendChild(a),a.addBehavior("#default#userData"),a.load(f);var n=e.apply(c,t);return l.body.removeChild(a),n}}var a,u=e("common:widget/js/util/tangram/tangram"),c={},s=window,l=s.document,f="localStorage",d="globalStorage",m="__storejs__";if(c.disabled=!1,c.set=function(){},c.get=function(){},c.remove=function(){},c.clear=function(){},c.transact=function(e,t){var n=c.get(e);"undefined"==typeof n&&(n={}),t(n),c.set(e,n)},c.serialize=function(e){return u.json.stringify(e)},c.deserialize=function(e){return"string"!=typeof e?void 0:u.json.parse(e)},r())a=s[f],c.set=function(e,t){a.setItem(e,c.serialize(t))},c.get=function(e){return c.deserialize(a.getItem(e))},c.remove=function(e){a.removeItem(e)},c.clear=function(){a.clear()};else if(i())a=s[d][s.location.hostname],c.set=function(e,t){a[e]=c.serialize(t)},c.get=function(e){return c.deserialize(a[e]&&a[e].value)},c.remove=function(e){delete a[e]},c.clear=function(){for(var e in a)delete a[e]};else if(l.documentElement.addBehavior){var a=l.createElement("div");c.set=o(function(e,t,n){e.setAttribute(t,c.serialize(n)),e.save(f)}),c.get=o(function(e,t){return c.deserialize(e.getAttribute(t))}),c.remove=o(function(e,t){e.removeAttribute(t),e.save(f)}),c.clear=o(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(f);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(f)})}try{c.set(m,m),c.get(m)!=m&&(c.disabled=!0),c.remove(m)}catch(v){c.disabled=!0}n.exports=c});
;/*!common:widget/js/logic/msg-new/msg-new.js*/
define("common:widget/js/logic/msg-new/msg-new",function(e,i,s){function t(e){var i=g("#nav-msg-layout");i.size()||(i=g(p(q,{isNewAsk:e.ask_notice.unread,isNewReply:e.reply_notice.unread,isNewSys:e.sysmsg.unread})).insertAfter("#userbar-msg"),U&&i.css({top:U.top,left:U.left}),g(".nav-msg-menu",i).on("click","a",function(e){e.preventDefault(),g(this).parent().children().removeClass("active"),g(this).addClass("active"),n(g(this).data("type"))}),g(".nav-msg-list",i).on("mouseenter","li",function(){g(this).addClass("hover")}).on("mouseleave","li",function(){g(this).removeClass("hover")}).on("click",".msg-resume",function(){var e=g(this).parents("li"),i=(e.parent(".nav-msg-list"),"");i=g.json.stringify(1009==e.data("type")&&e.data("r-uniq-id")?[{srctype:e.data("type"),uniq_id:e.data("uniq-id")},{srctype:1018,uniq_id:e.data("r-uniq-id")}]:[{srctype:e.data("type"),uniq_id:e.data("uniq-id")}]),g.post("/notice/close/batch",{close_list:i},function(i){if(!i.errno){var s=g("#userbar-msg i");s.size()&&(parseInt(s.text())>1?s.html(parseInt(s.text())-1):(s.remove(),g(".nav-msg-menu .active").find("s").remove(),A&&A.commonUserbar&&h.fire("common.userbarMsgNum",0))),e.remove(),g(".nav-msg-list").find("li").size()?a():g(".nav-msg-list").empty().html('<li class="msg-null"><i class="i-msg-null"></i><br><span>您还没有此类新消息哦~</span></li>'),d()}},"json")}).on("click",".msg-link",function(){g(this).next(".msg-resume").click()}),g(".nav-msg-menu a.active",i).click(),g("#notice-all-clear").unbind("click"),g("#notice-all-clear").bind("click",function(){d(),g(".nav-msg-list").empty().html('<li class="msg-null"><i class="i-msg-null"></i><br><span>您还没有此类新消息哦~</span></li>');var e=g("#nav-msg-layout").prev("#userbar-msg");g(".nav-msg-menu a").find("s").remove(),e.find("i").remove(),A&&A.commonUserbar&&h.fire("common.userbarMsgNum",0)}))}function a(){var e=g(".nav-msg-list");e.next(".scrollbar-wp").remove(),new v({scrollWrapper:e.parent(),scrollContent:e,maxHeight:266}).render()}function n(e){var i=g(".nav-msg-list");g.get(N+(e||"ask"),{t:+new Date},function(e){if(0==e.errno){var s=e.data.ask_notice||e.data.reply_notice||e.data.sysmsg;i.empty(),i.next(".scrollbar-wp").remove(),i.css("top","0"),g(s.list).each(function(){var e=this.fields.recommended;1==e?g("<li />").data("type",this.srctype).data("uniq-id",this.uniq_id).data("r-uniq-id",this.fields.recommended_uniqId).html(p(w["1009a"],this)).append('<a class="msg-resume"><span>标记为已读</span></a>').appendTo(i):g("<li />").data("type",this.srctype).data("uniq-id",this.uniq_id).html(p(w[this.srctype],this)).append('<a class="msg-resume"><span>标记为已读</span></a>').appendTo(i)}),g.isArray(s.list)&&0!=s.list.length?a():i.empty().html('<li class="msg-null"><i class="i-msg-null"></i><br><span>您还没有此类新消息哦~</span></li>')}},"json")}function l(){function e(e,i){var s=i.all.unread;if(0==s)e.find("i").remove();else if(y!=s){var a=g("i",e);a[0]||(a=g("<i />").appendTo(e)),a.text(s)}else!e.find("i")[0]&&s?g("<i />").text(s).appendTo(e):s&&e.find("i").text(s);T&&t(i),A&&A.commonUserbar&&h.fire("common.userbarMsgNum",s),o(i.global)}var i=g("#userbar-msg"),s=m(),a=!0,n=x+1e3*C<(new Date).getTime()?!0:!1;s&&s.data&&s.time&&(s.time>(new Date).getTime()-9e4||n?(e(i,s.data),a=!1):a=!0),a&&g.get(j+"?t="+ +new Date,function(s){0==s.errno&&s.data&&(e(i,s.data),r(s.data))},"json")}function o(e){var i=null,s=e;s&&s.data&&(s=s.data,s.length&&(g(s).each(function(e,s){i||1!=s.enabled||(i=s)}),i&&b.show(i)))}function r(e){_.set("ikmsg_time",(new Date).getTime()),_.set("ikmsg_data",g.json.stringify(e))}function m(){return{time:_.get("ikmsg_time")||0,data:g.json.parse(_.get("ikmsg_data")||"null")}}function d(){_.remove("ikmsg_data"),_.remove("ikmsg_time")}var c,u,g=e("common:widget/js/util/tangram/tangram"),f=e("common:widget/js/ui/tip/tip"),p=e("common:widget/js/util/template/template"),v=(e("common:widget/js/util/log/log"),e("common:widget/js/ui/scrollbar/scrollbar")),h=e("common:widget/js/util/event/event"),_=e("common:widget/js/util/store/store"),k="/s/toutu/promotion.js",w={4000:"<#:=sysmsg_content.brief#>",1001:'你的提问 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 收到 <#if(fields.notice_count>0){#><#=fields.notice_count#><#}else{#>1<#}#> 条新回答。',1025:'你的提问 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 已有 <#if(fields.notice_count>0){#><#=fields.notice_count#><#}else{#>1<#}#> 条回答且内容比较优质，请查看并及时处理。',1026:'你的提问 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 已经由百度知道帮你选出优质答案，请查看并及时采纳答案。',1006:["<#if(fields.username_arr[0]){#>",'<a href="http://www.baidu.com/p/<#:=fields.username_arr[0]#>?from=zhidao" target="_blank"><#:=fields.username_arr[0]#></a>',"<#}else{#>","热心网友","<#}#>","追问了你 ",'<a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 继续帮助Ta吧。'].join(""),1020:'恭喜！你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答被选为优质答案。',1027:'你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答收到 <#if(fields.notice_count>0){#><#=fields.notice_count#><#}else{#>1<#}#> 条新评论。',1028:'你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的评论收到 <#if(fields.notice_count>0){#><#=fields.notice_count#><#}else{#>1<#}#> 条新回复。',1010:["<#if(fields.username_arr[0]){#>",'<a href="http://www.baidu.com/p/<#:=fields.username_arr[0]#>?from=zhidao" target="_blank"><#:=fields.username_arr[0]#></a>',"<#}else{#>","热心网友","<#}#>"," 补充了提问 ",'<a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 继续帮助Ta吧。'].join(""),1029:'你回答过的问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 被追加了悬赏（财富值+50），去完善回答',1008:["<#if(fields.username_arr[0]){#>",'<a href="http://www.baidu.com/p/<#:=fields.username_arr[0]#>?from=zhidao" target="_blank"><#:=fields.username_arr[0]#></a>',"<#}else{#>","热心网友","<#}#>",'赞了你对问题<a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答'].join(""),"1009a":'你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答被提问者和网友同时采纳！',1009:'你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答被提问者采纳！',1018:'你对问题 <a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a> 的回答被网友采纳！',1002:["<#if(fields.username_arr[0]){#>",'<a href="http://www.baidu.com/p/<#:=fields.username_arr[0]#>?from=zhidao" target="_blank"><#:=fields.username_arr[0]#></a>',"<#}else{#>","热心网友","<#}#>"," 向你求助 ",'<a href="/question/<#=fields.qid#>" target="_blank" class="msg-link"><#:=fields.q_title#></a>，尽快帮Ta解答问题吧'].join("")},b={cmsCookieName:"IK_MSG_POP",getCms:function(e){g.ajax({url:e,dataType:"json",success:function(e){if(e){b.show(e,"cms");var i=m();i&&i.data&&o(i.data.global)}}})},setCookie:function(e){g.cookie.set(b.cmsCookieName,e.id,{expires:g.date.parse(e.endTime).getTime(),path:"/"})},generateView:function(e){var i=[];return i.push('<a target="_blank"  href="'+e.linkUrl+'"><img class="task-guide-image" src="'+e.imageUrl+'" /></a>'),i.join("")},show:function(e,i){var s=i||"msg";("cms"!=i||b.Validate(e))&&g("#footer").size()&&(!e.imageUrl||"http://"===e.imageUrl||e.imageUrl.length<17||(c?c.getTipBody().html(b.generateView(e)):c=new f({rightbottom:"popcms",width:240,position:{my:"right-3 bottom-3",at:"right bottom"},tooltipClass:"task-guide tip-green",arrow:!1,radius:!1,closebox:!0,content:b.generateView(e),close:function(){"cms"==s?b.setCookie(e):d()},target:g("#footer")}),c.show(),c.getTipContainer().delegate("a","click",function(){c.hide()})))},Validate:function(e){var i=g.date.parse(e.startTime),s=g.date.parse(e.endTime),t=g.cookie.get(b.cmsCookieName),a=!1;return 1==e.enabled&&t!=e.id&&(new Date).getTime()>=i.getTime()&&(new Date).getTime()<s.getTime()&&(a=!0),a}},q=['<div id="nav-msg-layout">','<div class="nav-msg-tri"></div>','<div class="nav-msg-menu">','<a href="#" class="nav-msg-ask<#if(isNewAsk || (!isNewReply && !isNewSys)){#> active<#}#>" data-type="ask"><i></i><span>提问</span><#if(isNewAsk){#><s></s><#}#></a>','<a href="#" class="nav-msg-answer<#if(!isNewAsk && isNewReply){#> active<#}#>" data-type="reply"><i></i><span>回答</span><#if(isNewReply){#><s></s><#}#></a>','<a href="#" class="nav-msg-sys<#if(!isNewAsk && !isNewReply && isNewSys){#> active<#}#>" data-type="sysmsg"><i></i><span>系统</span><#if(isNewSys){#><s></s><#}#></a>',"</div>",'<div class="nav-msg-wrap"><ol class="nav-msg-list line"></ol></div>','<div class="nav-msg-more">','<a href="/ihome/notice/all" target="_blank" id="notice-all-clear"><i class="i-msg mr-5"></i><span>所有通知</span></a>',"</div>","</div>"].join(""),y=0,T=!1,j="/notice/get/count",N="/notice/get/",x=(new Date).getTime(),C=180;h.on("msg.num",function(){clearInterval(u),u=setInterval(l,9e4),l()});var z,D,U,A;s.exports.init=function(e){function i(e){clearTimeout(D),D=setTimeout(function(){g(e.target).closest("#userbar-msg").size()||g(e.target).closest("#nav-msg-layout").size()||(clearTimeout(z),z=setTimeout(function(){u=!1,g("#nav-msg-layout").hide(),g(document.body).unbind("mousemove",i)},50))},50)}b.getCms(k),"0"!=F.context("user").isLogin&&""!=F.context("user").isLogin&&"false"!=F.context("user").isLogin&&void 0!=F.context("user").isLogin&&(e&&(U=e.position,A=e),h.fire("msg.num"),g("#userbar-msg").mouseenter(function(){var e=g(this);e.find("i")&&parseInt(e.find("i").text())>0&&(clearTimeout(z),z=setTimeout(function(){T=!0,l(),g("#nav-msg-layout").show()},300),g(document.body).unbind("mousemove",i).on("mousemove",i))}),g(document).on("mousemove",function(){x=(new Date).getTime()}))}});
;/*!common:widget/lib/jquery.ui/jquery.ui.menu.js*/
define("common:widget/lib/jquery.ui/jquery.ui.menu",function(e){var t=e("common:widget/lib/jquery/jquery");e("common:widget/lib/jquery.ui/jquery.ui.core"),e("common:widget/lib/jquery.ui/jquery.ui.widget"),e("common:widget/lib/jquery.ui/jquery.ui.position"),t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:function(e){this.collapseAll(e,!0)},"mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,u,r,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),u=!1,clearTimeout(this.filterTimer),a===n?u=!0:a=n+a,r=new RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=u&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=new RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,s;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var i,s,n,a,u,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),u=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>u&&this.activeMenu.scrollTop(a+n-u+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.autocomplete.js*/
define("common:widget/lib/jquery.ui/jquery.ui.autocomplete",function(e){var t=e("common:widget/lib/jquery/jquery");e("common:widget/lib/jquery.ui/jquery.ui.core"),e("common:widget/lib/jquery.ui/jquery.ui.widget"),e("common:widget/lib/jquery.ui/jquery.ui.position"),e("common:widget/lib/jquery.ui/jquery.ui.menu");var i=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=o?!0:u?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=this,t=++i;return function(s){t===i&&e.__response(s),e.pending--,e.pending||e.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(e){return s.test(e.label||e.value||e)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})});
;/*!common:widget/js/ui/suggestion/suggestion.js*/
define("common:widget/js/ui/suggestion/suggestion",function(e,t,i){var n=e("common:widget/js/util/tangram/tangram"),a=(e("common:widget/lib/jquery.ui/jquery.ui.autocomplete"),e("common:widget/js/ui/base/base")),o={};baidu="undefined"==typeof baidu?{}:baidu,i.exports=a(function(){this.target=""}).extend({init:function(){var e=this;e.fire("beforeinit"),e.target&&!e.checkDisabled()&&n(e.target).keyup(function(t){t.keyCode>=37&&t.keyCode<=40||e.getData()}).on("paste",function(){setTimeout(function(){e.getData()},20)})},checkDisabled:function(){return!1},getData:function(){var e=this,t=e.checkDisabled(),i=n.trim(n(e.target).val()),a=e.url||KID.httpsTrans("http://nssug.baidu.com/su?wd=#word#&prod=zhidao");t||""==i||(o[e.guid]=o[e.guid]||{},o[e.guid][escape(i)]?n(e.target).autocomplete({source:o[e.guid][escape(i)],minLength:0,create:function(t){e.fire("create",t)},open:function(t){e.fire("open",t)},select:function(t,i){e.fire("select",i)}}).autocomplete("search",""):(baidu.sug=function(t){e.fire("dataloaded",t),o[e.guid][escape(i)]=t.s,e.getData()},n.getScript(a.replace("#word#",encodeURIComponent(i)))))}})});
;/*!common:widget/js/util/form/form.js*/
define("common:widget/js/util/form/form",function(n,t,i){var e=n("common:widget/lib/jquery/jquery"),o=function(n){var t=this,i=e({});e.extend(t,{guid:e.guid++,on:function(n,t){i.on(n,t)},fire:function(n,t){i.trigger(n,t)},un:function(n,t){i.unbind(n,t)}}),t.id=t.name="form-"+t.guid,t.instance=e("<form></form>").attr({name:t.name,id:t.id,method:"get",action:"/submit"}).appendTo(document.body),e.each(n,function(n,i){e.isFunction(i)?t.on(n,i):e.isPlainObject(i)&&"input"==n?e.each(i,function(n,i){e('<input type="hidden" name="'+n+'" />').val(i).appendTo(t.instance)}):t.instance.attr(n,i)})};e.extend(o.prototype,{get:function(){return this.instance},dispose:function(){this.instance.remove()},submit:function(){return this.instance.submit(),this}}),i.exports=o});
;/*!common:widget/lib/jquery.placeholder/jquery.placeholder.js*/
define("common:widget/lib/jquery.placeholder/jquery.placeholder",function(e){function a(e){var a={},t=/^jQuery\d+$/;return d.each(e.attributes,function(e,l){l.specified&&!t.test(l.name)&&(a[l.name]=l.value)}),a}function t(e,a){var t=this,l=d(t);if(t.value==l.attr("placeholder")&&l.hasClass("placeholder"))if(l.data("placeholder-password")){if(l=l.hide().next().show().attr("id",l.removeAttr("id").data("placeholder-id")),e===!0)return l[0].value=a;l.focus()}else t.value="",l.removeClass("placeholder"),t==document.activeElement&&t.select()}function l(){var e,l=this,r=d(l),o=this.id;if(""==l.value){if("password"==l.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(c){e=d("<input>").attr(d.extend(a(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":o}).bind("focus.placeholder",t),r.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",o).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r,o,d=e("common:widget/lib/jquery/jquery"),c="placeholder"in document.createElement("input"),n="placeholder"in document.createElement("textarea"),i=d.fn,u=d.valHooks,h=d.propHooks;c&&n?(o=i.placeholder=function(){return this},o.input=o.textarea=!0):(o=i.placeholder=function(){var e=this;return e.filter((c?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":t,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},o.input=c,o.textarea=n,r={get:function(e){var a=d(e),t=a.data("placeholder-password");return t?t[0].value:a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,a){var r=d(e),o=r.data("placeholder-password");return o?o[0].value=a:r.data("placeholder-enabled")?(""==a?(e.value=a,e!=document.activeElement&&l.call(e)):r.hasClass("placeholder")?t.call(e,!0,a)||(e.value=a):e.value=a,r):e.value=a}},c||(u.input=r,h.value=r),n||(u.textarea=r,h.value=r),d(function(){d(document).delegate("form","submit.placeholder",function(){var e=d(".placeholder",this).each(t);setTimeout(function(){e.each(l)},10)})}),d(window).bind("beforeunload.placeholder",function(){d(".placeholder").each(function(){this.value=""})}))});
;/*!common:widget/js/logic/search-box/search-box.js*/
define("common:widget/js/logic/search-box/search-box",function(e,t,o){function a(){var e=location.pathname,t="/"==e?"home":e.match(/\w+/)[0];return new RegExp("\\|"+t+"\\|").test("|search|question|home|browse|")?t:"other"}function n(e){var t={"http://news.baidu.com/":{query:"ns?cl=2&rn=20&tn=news&t=1&word=#{0}"},"http://www.baidu.com/":{query:"s?cl=3&wd=#{0}"},"http://tieba.baidu.com/":{query:"f?kw=#{0}&t=4"},"http://music.baidu.com/":{query:"search?fr=zhidao&key=#{0}"},"http://image.baidu.com/":{query:"i?tn=baiduimage&ct=201326592&lm=-1&cl=2&word=#{0}&t=3"},"http://v.baidu.com/":{query:"v?ct=301989888&rn=20&pn=0&db=0&s=22&word=#{0}"},"http://map.baidu.com/":{query:"m?word=#{0}&fr=map007",encode:!0},"http://baike.baidu.com/":{query:"searchword/?word=#{0}&pic=1"},"http://wenku.baidu.com/":{query:"search?word=#{0}&lm=0&od=0"},"http://jingyan.baidu.com/":{query:"search?word=#{0}&fr=zhidao",encode:!0}},o=i.trim(e);i(".search-box .channel a").each(function(){var e="http://"+this.hostname+"/";if(""!=o){if(t[e]){var a=t[e],n=a.encode?encodeURIComponent(o):o;this.href=e+i.string(a.query).format([n])}}else this.href=e})}var i=e("common:widget/js/util/tangram/tangram"),r=e("common:widget/js/ui/suggestion/suggestion"),c=e("common:widget/js/util/event/event"),s=e("common:widget/js/util/form/form"),u=e("common:widget/js/util/log/log"),m=e("common:widget/js/ui/dialog/dialog");e("common:widget/lib/jquery.placeholder/jquery.placeholder");var d=(new r({target:"#kw",beforeinit:function(){this.checkDisabled=function(){return"1"==i.cookie.get("IK_SUG")}},open:function(){var e=i(this.target).autocomplete("widget"),t=i.trim(i(this.target).val());0==e.find(".ui-menu-item-close").size()&&(i("<li>").addClass("ui-menu-item-close").html('<a href="#">关闭</a>').appendTo(e),e.find(".ui-menu-item a").each(function(){i(this).html(this.innerHTML.replace(new RegExp(t,"i"),function(e){return"<em>"+e+"</em>"}))}))},create:function(){var e=this,t=i(e.target).autocomplete("widget");t.delegate(".ui-menu-item-close a","click",function(t){t.preventDefault(),i(e.target).autocomplete("close").autocomplete("destroy"),i.cookie.set("IK_SUG","1")})},select:function(e,t){h.val(t.item.value),c.fire("searchBox.addLog",{f:"sug"}),o.exports.search(h)}}),{fr:"search"}),h=i("#kw"),l=i.json.parse(F.context("defaultQuery"));i("#search-form").submit(function(e){u.send({type:2014,pms:"newqb",action:"searchbtn"}),e.preventDefault(),o.exports.search(h)}),i("#ask-btn").click(function(e){u.send({type:2014,pms:"newqb",action:"askbtn"}),e.preventDefault(),o.exports.ask(h)}),h.blur(function(){n(i(this).val())}),o.exports.search=function(e){e=i(e);var t=i.string(e.val()).trim();l&&(t=t==l.title?l.value:t),""==t?c.fire("searchBox.buttonAction",{text:"请输入您要搜索的问题",evtName:"searchAction",log:"btn=search",fr:"search_0"}):c.fire("searchBox.searchAction",{params:{word:t},extParams:i.url.queryToJson(e.attr("extAttr")||"")})},o.exports.ask=function(e){e=i(e);var t=!l||e.val()!=l.title&&e.val()!=l.value?e.val():"",o=new s({method:"get",action:"http://zhidao.baidu.com/new",input:{word:t}});setTimeout(function(){o.submit()},60)};var p={};c.on("searchBox.addLog",function(e,t){i.extend(p,t)}),c.on("searchBox.searchAction",function(e,t){var o={};i.extend(o,d),i.extend(o,t.params),i.extend(o,t.extParams||i.url.queryToJson(h.attr("extAttr")||"")),u.send(i.extend({type:2057,fr:a(),word:t&&t.params&&t.params.word?t.params.word:""},p)),p={};var n=new s({method:"get",action:"http://zhidao.baidu.com/search",input:o});setTimeout(function(){n.submit()},60)}),c.on("searchBox.buttonAction",function(e,t){var o=['<div class="mb-10 mt-10"><i class="i-set-noname mr-5"></i>',t.text,"：</div>",'<input style="width: 300px; padding: 3px;" id="search-empty-input" type="text"/>'].join("");m.alert(o,{width:370,height:180,dialogClass:"dialog-search-empty",btnAlign:"left",autoDispose:!0,buttons:[{text:"继续搜索",click:function(){var e=i.string(i("#search-empty-input").val()).trim();""!=e&&c.fire("searchBox.searchAction",{params:{word:e,fr:t.fr,lm:t.lm||0}})}}],open:function(){var e=i(".dialog-search-empty .ui-dialog-buttonpane");i("#search-empty-input").get(0).focus(),i("#search-empty-input").keypress(function(t){13==t.keyCode&&i(e).find(".btn-32-green").click()});var o=i("<span/>").html(t.textBottom||"").css({"padding-left":"10px","font-size":"12px"});i(e).append(o)}})})});
;/*!common:widget/js/ui/address/address.js*/
define("common:widget/js/ui/address/address",function(e,t,i){var n=e("common:widget/js/util/tangram/tangram"),a=e("common:widget/js/ui/base/base");i.exports=a(function(e){var t=this;if(n.extend(t,{optionTpl:'<option value="#{name}">#{name}</option>',optionDefaultTpl:'<option value="">#{name}</option>',value:{},defaultValue:{},defaultWord:"",filterMap:{},dataCache:null},e),t.filterValue)for(var i=0,a=t.filterValue.length;a>i;i++)t.filterMap[t.filterValue[i]]=!0}).extend({init:function(e){var t=this;"object"==typeof e&&t._init(e),window.arrCity?(t.dataCache=window.arrCity,t.render()):n.sio("http://passport.baidu.com/js/sitedata_bas.js?v=1.1").callByBrowser(function(){window.arrCity&&(t.dataCache=window.arrCity,t.render())},{charset:"gbk"})},buildOptions:function(e,t){var i=this;e&&t&&t.length&&(e.empty(),n.each(t,function(t,a){if(!i.filterMap[a.name])if(a.name==i.defaultWord){var o="";o=n.isFunction(i.optionDefaultTpl)?i.optionDefaultTpl(a):n.string(i.optionDefaultTpl).format(a),n(o).appendTo(e)}else n(n.string(i.optionTpl).format(a)).appendTo(e)}),e.show())},render:function(){var e,t=this,i=n(t.container[0]),a=n(t.container[1]).hide(),o=n(t.container[2]).hide();i.change(function(){-1==this.selectedIndex&&(this.selectedIndex=0),e=t.dataCache[this.selectedIndex].sub,a.add(o).hide(),t.buildOptions(a,e),a.trigger("change")}),a.change(function(){if(-1==this.selectedIndex&&(this.selectedIndex=0),e){var i=e[this.selectedIndex].sub;t.buildOptions(o.hide(),i),o.trigger("change")}}),t.buildOptions(i,t.dataCache),i.add(a).add(o).change(function(){t.value[this.id]=n(this).val(),this.id==t.container[0]?(t.value[t.container[1]]="",t.value[t.container[2]]=""):this.id==t.container[1]&&(t.value[t.container[2]]=""),t.fire("change")}).each(function(e,i){t.defaultValue[e]&&n(i).val(t.defaultValue[e]).change()}),t.fire("change")}}),n.fn.address=function(e){return this.size()==this.filter("select").size()==3?(e.container=this,(new t).init(e),this):this.each(function(){var i=this,a=i.id||"ik_address"+ ++n.guid,o=["_province","_city","_county"];e.container=[],n.each(o,function(t,o){e.container.push(n("<select>",{id:a+o}).appendTo(i))}),(new t).init(e)})}});
;/*!common:widget/js/ui/carousel/carousel.js*/
define("common:widget/js/ui/carousel/carousel",function(i,t,e){var s=i("common:widget/lib/jquery/jquery"),n=i("common:widget/js/ui/base/base"),a=n().extend({init:function(i){this.options=s.extend({interval:3e3,duration:1e3,items:[],viewSize:1,direction:"horizontal",serviceItem:""},i),this.paused=null,this.sliding=null,this.interval=null,this.activeIndex=0,this.lastActiveIndex=i.items.length},render:function(i){var t=this;if(t.$inner=s("<div/>").addClass("carousel-inner"),s(t.options.items).each(function(i){s("<div/>").addClass("item").html(this).appendTo(t.$inner).attr("index",i)}),t.$items=t.$inner.children(),t.$active=t.$items.slice(0,t.options.viewSize).addClass("active"),t.$misc=s("<div/>").addClass("carousel-misc"),t.options.indicators){for(var e=s("<ol/>").addClass("carousel-indicators").appendTo(t.$misc),n=0;n<t.$items.size();n++)s("<li/>").attr("data-slide-to",n).appendTo(e);e.children().slice(0,t.options.viewSize).addClass("active").first().addClass("first")}t.$indicators=t.$misc.find(".carousel-indicators li"),t.options.controls&&(s("<a/>").addClass("carousel-control carousel-control-left").prependTo(t.$misc),s("<a/>").addClass("carousel-control carousel-control-right").appendTo(t.$misc)),t.target=s(i).append(t.$inner).append(t.$misc).addClass("carousel"),t.initStyle(),t.bindEvents(),t.cycle()},setup:function(i){this.target=s(i),this.target.size()||(this.target=s("#"+i)),this.target.addClass("carousel"),this.$inner=this.target.find(".carousel-inner"),this.$items=this.$inner.children(),this.$active=this.target.find(".item.active"),this.$active.size()||(this.$active=this.$items.slice(0,this.options.viewSize).addClass("active")),this.$misc=this.target.find(".carousel-misc"),this.$indicators=this.target.find(".carousel-indicators li"),this.initStyle(),this.bindEvents(),this.cycle()},initStyle:function(){var i=this,t="horizontal"==i.options.direction?"width":"height",e="horizontal"==i.options.direction?"left":"top",n="horizontal"==i.options.direction?"top":"left";i.$items.css(t,100/i.options.viewSize+"%").css(n,"0").slice(0,i.options.viewSize).each(function(t,n){s(n).css(e,100*t/i.options.viewSize+"%")})},bindEvents:function(){var i=this;i.target.on("mouseenter",s.proxy(i.pause,i)).on("mouseleave",s.proxy(i.cycle,i)).on("click",".carousel-control-left",function(t){t.preventDefault(),i.prev()}).on("click",".carousel-control-right",function(t){t.preventDefault(),i.next()}).on("click",".carousel-indicators li",function(t){t.preventDefault(),i.to(s(t.currentTarget).data("slide-to"))})},cycle:function(i){return i||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(s.proxy(this.next,this),this.options.interval)),this},pause:function(i){return i||(this.paused=!0),this.interval=clearInterval(this.interval),this},setActiveItems:function(){var i=this.activeIndex;this.$items.removeClass("active"),this.$active=[],this.$indicators.removeClass("active");for(var t=0;t<this.options.viewSize;t++){var e=(i+t)%this.$items.size();this.$active.push(this.$items.get(e)),this.$indicators.eq(e).addClass("active")}return s(this.$active).addClass("active"),this.$active},to:function(i){var t=this,e=t.activeIndex;return i>t.$items.length-1||0>i?void 0:t.sliding?t.once("slid",function(){t.to(i)}):e==i?t.pause().cycle():t.slide(i>e?"next":"prev",i)},prev:function(){return this.sliding?void 0:this.slide("prev")},next:function(){return this.sliding?void 0:this.slide("next")},getActiveIndex:function(){return this.activeIndex},isSliding:function(){return this.sliding},getLastActiveIndex:function(){return this.lastActiveIndex},slide:function(i,t){var e=this,n=e.setActiveItems(),a="horizontal"==e.options.direction?"left":"top",o=e.activeIndex+("next"==i?e.options.viewSize:-1);o=(e.$items.size()+o)%e.$items.size();var r=s(n["next"==i?0:e.options.viewSize-1]),c=e.$items.eq(o);if("experts"==e.options.serviceItem){var o=c.attr("index"),l=e.$items.size();if("next"==i&&0==o)return!1;if("prev"==i&&o==l-1)return!1}if(e.sliding=!0,e.interval&&e.pause(),!c.hasClass("active")){e.fire("slide",{relatedTarget:c[0],direction:i,index:o}),c.css(a,"next"==i?"100%":-100/e.options.viewSize+"%").addClass("active"),e.lastActiveIndex=e.activeIndex;var d=[];s.each(n,function(t){var n="next"==i?-1:1,o={};o[a]=100*(t+n)/e.options.viewSize+"%",d.push(s(this).animate(o,e.duration))});var v={};return v[a]="prev"==i?0:100-100/e.options.viewSize+"%",d.push(c.animate(v,e.duration)),s.when.apply(s,d).done(function(){r.removeClass("active"),e.activeIndex=(e.$items.size()+e.activeIndex+("next"==i?1:-1))%e.$items.size(),e.setActiveItems(),e.sliding=!1,"undefined"!=typeof t&&t!=e.activeIndex?e.slide(i,t):setTimeout(function(){e.fire("slid")},0)}),e.cycle(),e}}});e.exports=a});
;/*!common:widget/js/ui/dateTimePicker/dateTimePicker.min.js*/
define("common:widget/js/ui/dateTimePicker/dateTimePicker.min",function(require,exports,module){var $=require("common:widget/lib/jquery/jquery"),default_options={i18n:{ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","ons","Tor","Fre","lør"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,closeOnDateSelect:0,closeOnWithoutClick:!0,timepicker:!0,datepicker:!0,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",roundTime:"round",className:"",weekends:[],yearOffset:0};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,a=this.length;a>n;n++)if(this[n]===e)return n;return-1}),$.fn.xdsoftScroller=function(e){return this.each(function(){var t=$(this);if(!$(this).hasClass("xdsoft_scroller_box")){var n=function(e){var t={x:0,y:0};if("touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"touchcancel"==e.type){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else("mousedown"==e.type||"mouseup"==e.type||"mousemove"==e.type||"mouseover"==e.type||"mouseout"==e.type||"mouseenter"==e.type||"mouseleave"==e.type)&&(t.x=e.pageX,t.y=e.pageY);return t},a=0,r=t.children().eq(0),o=t[0].clientHeight,s=r[0].offsetHeight,i=$('<div class="xdsoft_scrollbar"></div>'),d=$('<div class="xdsoft_scroller"></div>'),u=100,c=!1;i.append(d),t.addClass("xdsoft_scroller_box").append(i),d.on("mousedown.xdsoft_scroller",function(n){o||t.trigger("resize_scroll.xdsoft_scroller",[e]);var r=n.pageY,s=parseInt(d.css("margin-top"),10),c=i[0].offsetHeight;$(document.body).addClass("xdsoft_noselect"),$([document.body,window]).on("mouseup.xdsoft_scroller",function l(){$([document.body,window]).off("mouseup.xdsoft_scroller",l).off("mousemove.xdsoft_scroller",a).removeClass("xdsoft_noselect")}),$(document.body).on("mousemove.xdsoft_scroller",a=function(e){var n=e.pageY-r+s;0>n&&(n=0),n+d[0].offsetHeight>c&&(n=c-d[0].offsetHeight),t.trigger("scroll_element.xdsoft_scroller",[u?n/u:0])})}),t.on("scroll_element.xdsoft_scroller",function(e,n){o||t.trigger("resize_scroll.xdsoft_scroller",[n,!0]),n=n>1?1:0>n||isNaN(n)?0:n,d.css("margin-top",u*n),r.css("marginTop",-parseInt((s-o)*n,10))}).on("resize_scroll.xdsoft_scroller",function(e,n,a){o=t[0].clientHeight,s=r[0].offsetHeight;var c=o/s,l=c*i[0].offsetHeight;c>1?d.hide():(d.show(),d.css("height",parseInt(l>10?l:10,10)),u=i[0].offsetHeight-d[0].offsetHeight,a!==!0&&t.trigger("scroll_element.xdsoft_scroller",[n?n:Math.abs(parseInt(r.css("marginTop"),10))/(s-o)]))}),t.mousewheel&&t.mousewheel(function(e,n){var a=Math.abs(parseInt(r.css("marginTop"),10));return t.trigger("scroll_element.xdsoft_scroller",[(a-20*n)/(s-o)]),e.stopPropagation(),!1}),t.on("touchstart",function(e){c=n(e)}),t.on("touchmove",function(e){if(c){var a=n(e),i=Math.abs(parseInt(r.css("marginTop"),10));t.trigger("scroll_element.xdsoft_scroller",[(i-(a.y-c.y))/(s-o)]),e.stopPropagation(),e.preventDefault()}}),t.on("touchend touchcancel",function(){c=!1})}t.trigger("resize_scroll.xdsoft_scroller",[e])})},$.fn.datetimepicker=function(e){var t=48,n=57,a=96,r=105,o=17,s=46,i=13,d=27,u=8,c=37,l=38,f=39,m=40,h=9,g=116,p=65,x=67,v=86,y=90,D=89,T=!1,b=$.isPlainObject(e)||!e?$.extend(!0,{},default_options,e):$.extend({},default_options),w=0,_=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker")||(clearTimeout(w),w=setTimeout(function(){e.data("xdsoft_datetimepicker")||M(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})},M=function(e){function w(){var t=b.value?b.value:e&&e.val&&e.val()?e.val():"";return t&&A.isValidDate(t=Date.parseDate(t,b.format))?_.data("changed",!0):t="",t||b.startDate===!1||(t=A.strToDateTime(b.startDate)),t?t:0}var _=$("<div "+(b.id?'id="'+b.id+'"':"")+" "+(b.style?'style="'+b.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+b.className+'"></div>'),M=$('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),k=$('<div class="xdsoft_datepicker active"></div>'),S=$('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),O=$('<div class="xdsoft_calendar"></div>'),F=$('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),I=F.find(".xdsoft_time_box").eq(0),C=$('<div class="xdsoft_time_variant"></div>'),H=$('<div class="xdsoft_scrollbar"></div>'),Y=($('<div class="xdsoft_scroller"></div>'),$('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>')),P=$('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');S.find(".xdsoft_month span").after(Y),S.find(".xdsoft_year span").after(P),S.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){S.find(".xdsoft_select").hide();var t=$(this).find(".xdsoft_select").eq(0),n=0,a=0;A.currentTime&&(n=A.currentTime[$(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),t.show();for(var r=t.find("div.xdsoft_option"),o=0;o<r.length&&r.eq(o).data("value")!=n;o++)a+=r[0].offsetHeight;return t.xdsoftScroller(a/(t.children()[0].offsetHeight-t[0].clientHeight)),e.stopPropagation(),!1}),S.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(){A&&A.currentTime&&A.currentTime[$(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"]($(this).data("value")),$(this).parent().parent().hide(),_.trigger("xchange.xdsoft"),b.onChangeMonth&&b.onChangeMonth.call&&b.onChangeMonth.call(_,A.currentTime,_.data("input"))}),_.setOptions=function(w){if(b=$.extend(!0,{},b,w),!b.open&&!b.opened||b.inline||e.trigger("open.xdsoft"),b.inline&&(_.addClass("xdsoft_inline"),e.after(_).hide(),_.trigger("afterOpen.xdsoft")),b.inverseButton&&(b.next="xdsoft_prev",b.prev="xdsoft_next"),b.datepicker?k.addClass("active"):k.removeClass("active"),b.timepicker?F.addClass("active"):F.removeClass("active"),b.value&&(e&&e.val&&e.val(b.value),A.setCurrentTime(b.value)),b.dayOfWeekStart=isNaN(b.dayOfWeekStart)||parseInt(b.dayOfWeekStart,10)<0||parseInt(b.dayOfWeekStart,10)>6?0:parseInt(b.dayOfWeekStart,10),b.timepickerScrollbar||H.hide(),b.minDate&&/^-(.*)$/.test(b.minDate)&&(b.minDate=A.strToDateTime(b.minDate).dateFormat(b.formatDate)),b.maxDate&&/^\+(.*)$/.test(b.maxDate)&&(b.maxDate=A.strToDateTime(b.maxDate).dateFormat(b.formatDate)),S.find(".xdsoft_today_button").css("visibility",b.todayButton?"visible":"hidden"),b.mask){var M=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},O=function(e,t){var e="string"==typeof e||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},I=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(t)};switch(e.off("keydown.xdsoft"),!0){case b.mask===!0:b.mask=b.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case"string"==$.type(b.mask):I(b.mask,e.val())||e.val(b.mask.replace(/[0-9]/g,"_")),e.on("keydown.xdsoft",function(w){var _=this.value,k=w.which;switch(!0){case k>=t&&n>=k||k>=a&&r>=k||k==u||k==s:var S=M(this),F=k!=u&&k!=s?String.fromCharCode(k>=a&&r>=k?k-t:k):"_";for(k!=u&&k!=s||!S||(S--,F="_");/[^0-9_]/.test(b.mask.substr(S,1))&&S<b.mask.length&&S>0;)S+=k==u||k==s?-1:1;if(_=_.substr(0,S)+F+_.substr(S+1),""==$.trim(_))_=b.mask.replace(/[0-9]/g,"_");else if(S==b.mask.length)break;for(S+=k==u||k==s?0:1;/[^0-9_]/.test(b.mask.substr(S,1))&&S<b.mask.length&&S>0;)S+=k==u||k==s?-1:1;I(b.mask,_)?(this.value=_,O(this,S)):""==$.trim(_)?this.value=b.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft");break;case!!~[p,x,v,y,D].indexOf(k)&&T:case!!~[d,l,m,c,f,g,o,h,i].indexOf(k):return!0}return w.preventDefault(),!1})}}b.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",function(){b.allowBlank&&!$.trim($(this).val()).length?($(this).val(null),_.data("xdsoft_datetime").empty()):Date.parseDate($(this).val(),b.format)?_.data("xdsoft_datetime").setCurrentTime($(this).val()):($(this).val(A.now().dateFormat(b.format)),_.data("xdsoft_datetime").setCurrentTime($(this).val())),_.trigger("changedatetime.xdsoft")}),b.dayOfWeekStartPrev=0==b.dayOfWeekStart?6:b.dayOfWeekStart-1,_.trigger("xchange.xdsoft")},_.data("options",b).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),P.hide(),Y.hide(),!1});var N=F.find(".xdsoft_time_box");N.append(C),N.xdsoftScroller(),_.on("afterOpen.xdsoft",function(){N.xdsoftScroller()}),_.append(k).append(F),b.withoutCopyright!==!0&&_.append(M),k.append(S).append(O),$("body").append(_);var A=new function(){var e=this;e.now=function(){var e=new Date;return b.yearOffset&&e.setFullYear(e.getFullYear()+b.yearOffset),e},e.currentTime=this.now(),e.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime="string"==typeof t?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),_.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return 12==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),b.onChangeMonth&&b.onChangeMonth.call&&b.onChangeMonth.call(_,A.currentTime,_.data("input")),_.trigger("xchange.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return-1==t&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min(Date.daysInMonth[t],e.currentTime.getDate())),e.currentTime.setMonth(t),b.onChangeMonth&&b.onChangeMonth.call&&b.onChangeMonth.call(_,A.currentTime,_.data("input")),_.trigger("xchange.xdsoft"),t},e.strToDateTime=function(t){var n,a,r=[];return(r=/^(\+|\-)(.*)$/.exec(t))&&(r[2]=Date.parseDate(r[2],b.formatDate))?(n=r[2].getTime()-1*r[2].getTimezoneOffset()*6e4,a=new Date(A.now().getTime()+parseInt(r[1]+"1",10)*n)):a=t?Date.parseDate(t,b.format):e.now(),e.isValidDate(a)||(a=e.now()),a},e.strtodate=function(t){var n=t?Date.parseDate(t,b.formatDate):e.now();return e.isValidDate(n)||(n=e.now()),n},e.strtotime=function(t){var n=t?Date.parseDate(t,b.formatTime):e.now();return e.isValidDate(n)||(n=e.now()),n},e.str=function(){return e.currentTime.dateFormat(b.format)}};S.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){_.data("changed",!0),A.setCurrentTime(0),_.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){e.val(A.str()),_.trigger("close.xdsoft")}),S.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=$(this),t=0,n=!1;!function a(r){A.currentTime.getMonth();e.hasClass(b.next)?A.nextMonth():e.hasClass(b.prev)&&A.prevMonth(),!n&&(t=setTimeout(a,r?r:100))}(500),$([document.body,window]).on("mouseup.xdsoft",function r(){clearTimeout(t),n=!0,$([document.body,window]).off("mouseup.xdsoft",r)})}),F.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var e=$(this),t=0,n=!1,a=110;!function r(o){var s=I[0].clientHeight,i=C[0].offsetHeight,d=Math.abs(parseInt(C.css("marginTop"),10));e.hasClass(b.next)&&i-s-b.timeHeightInTimePicker>=d?C.css("marginTop","-"+(d+b.timeHeightInTimePicker)+"px"):e.hasClass(b.prev)&&d-b.timeHeightInTimePicker>=0&&C.css("marginTop","-"+(d-b.timeHeightInTimePicker)+"px"),I.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(C.css("marginTop"),10)/(i-s))]),a=a>10?10:a-10,!n&&(t=setTimeout(r,o?o:a))}(500),$([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(t),n=!0,$([document.body,window]).off("mouseup.xdsoft",o)})}),_.on("xchange.xdsoft",function(e){for(var t="",n=new Date(A.currentTime.getFullYear(),A.currentTime.getMonth(),1,12,0,0),a=0,r=A.now();n.getDay()!=b.dayOfWeekStart;)n.setDate(n.getDate()-1);t+="<table><thead><tr>";for(var o=0;7>o;o++)t+="<th>"+b.i18n[b.lang].dayOfWeek[o+b.dayOfWeekStart>6?0:o+b.dayOfWeekStart]+"</th>";t+="</tr></thead>",t+="<tbody><tr>";var s=!1,i=!1;b.maxDate!==!1&&(s=A.strtodate(b.maxDate),s=new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999)),b.minDate!==!1&&(i=A.strtodate(b.minDate),i=new Date(i.getFullYear(),i.getMonth(),i.getDate()));for(var d,u,c,l=[];a<A.currentTime.getDaysInMonth()||n.getDay()!=b.dayOfWeekStart||A.currentTime.getMonth()==n.getMonth();)l=[],a++,d=n.getDate(),u=n.getFullYear(),c=n.getMonth(),l.push("xdsoft_date"),(s!==!1&&n>s||i!==!1&&i>n)&&l.push("xdsoft_disabled"),A.currentTime.getMonth()!=c&&l.push("xdsoft_other_month"),(b.defaultSelect||_.data("changed"))&&A.currentTime.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&l.push("xdsoft_current"),r.dateFormat("d.m.Y")==n.dateFormat("d.m.Y")&&l.push("xdsoft_today"),(0==n.getDay()||6==n.getDay()||~b.weekends.indexOf(n.dateFormat("d.m.Y")))&&l.push("xdsoft_weekend"),t+='<td data-date="'+d+'" data-month="'+c+'" data-year="'+u+'" class="xdsoft_date xdsoft_day_of_week'+n.getDay()+" "+l.join(" ")+'"><div>'+d+"</div></td>",n.getDay()==b.dayOfWeekStartPrev&&(t+="</tr>"),n.setDate(d+1);t+="</tbody></table>",O.html(t),S.find(".xdsoft_label span").eq(0).text(b.i18n[b.lang].months[A.currentTime.getMonth()]),S.find(".xdsoft_label span").eq(1).text(A.currentTime.getFullYear());var f="",m="",c="",h=function(e,t){var n=A.now();n.setHours(e),e=parseInt(n.getHours(),10),n.setMinutes(t),t=parseInt(n.getMinutes(),10),l=[],(b.maxTime!==!1&&A.strtotime(b.maxTime).getTime()<n.getTime()||b.minTime!==!1&&A.strtotime(b.minTime).getTime()>n.getTime())&&l.push("xdsoft_disabled"),(b.initTime||b.defaultSelect||_.data("changed"))&&parseInt(A.currentTime.getHours(),10)==parseInt(e,10)&&(b.step>59||Math[b.roundTime](A.currentTime.getMinutes()/b.step)*b.step==parseInt(t,10))&&(b.defaultSelect||_.data("changed")?l.push("xdsoft_current"):b.initTime&&l.push("xdsoft_init_time")),parseInt(r.getHours(),10)==parseInt(e,10)&&parseInt(r.getMinutes(),10)==parseInt(t,10)&&l.push("xdsoft_today"),f+='<div class="xdsoft_time '+l.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+n.dateFormat(b.formatTime)+"</div>"};if(b.allowTimes&&$.isArray(b.allowTimes)&&b.allowTimes.length)for(var a=0;a<b.allowTimes.length;a++)m=A.strtotime(b.allowTimes[a]).getHours(),c=A.strtotime(b.allowTimes[a]).getMinutes(),h(m,c);else for(var a=0,o=0;a<(b.hours12?12:24);a++)for(o=0;60>o;o+=b.step)m=(10>a?"0":"")+a,c=(10>o?"0":"")+o,h(m,c);C.html(f);var g="",a=0;for(a=parseInt(b.yearStart,10)+b.yearOffset;a<=parseInt(b.yearEnd,10)+b.yearOffset;a++)g+='<div class="xdsoft_option '+(A.currentTime.getFullYear()==a?"xdsoft_current":"")+'" data-value="'+a+'">'+a+"</div>";for(P.children().eq(0).html(g),a=0,g="";11>=a;a++)g+='<div class="xdsoft_option '+(A.currentTime.getMonth()==a?"xdsoft_current":"")+'" data-value="'+a+'">'+b.i18n[b.lang].months[a]+"</div>";Y.children().eq(0).html(g),$(this).trigger("generate.xdsoft"),e.stopPropagation()}).on("afterOpen.xdsoft",function(){if(b.timepicker){var e;if(C.find(".xdsoft_current").length?e=".xdsoft_current":C.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e){var t=I[0].clientHeight,n=C[0].offsetHeight,a=C.find(e).index()*b.timeHeightInTimePicker+1;a>n-t&&(a=n-t),C.css("marginTop","-"+parseInt(a,10)+"px"),I.trigger("scroll_element.xdsoft_scroller",[parseInt(a,10)/(n-t)])}}});var W=0;O.on("click.xdsoft","td",function(){W++;var t=$(this),n=A.currentTime;return t.hasClass("xdsoft_disabled")?!1:(n.setFullYear(t.data("year")),n.setDate(1),n.setMonth(t.data("month")),n.setDate(t.data("date")),_.trigger("select.xdsoft",[n]),e.val(A.str()),(W>1||b.closeOnDateSelect===!0||0===b.closeOnDateSelect&&!b.timepicker)&&!b.inline&&_.trigger("close.xdsoft"),b.onSelectDate&&b.onSelectDate.call&&b.onSelectDate.call(_,A.currentTime,_.data("input")),_.data("changed",!0),_.trigger("xchange.xdsoft"),_.trigger("changedatetime.xdsoft"),void setTimeout(function(){W=0},200))}),C.on("click.xdsoft","div",function(){var e=$(this),t=A.currentTime;return e.hasClass("xdsoft_disabled")?!1:(t.setHours(e.data("hour")),t.setMinutes(e.data("minute")),_.trigger("select.xdsoft",[t]),_.data("input").val(A.str()),!b.inline&&_.trigger("close.xdsoft"),b.onSelectTime&&b.onSelectTime.call&&b.onSelectTime.call(_,A.currentTime,_.data("input")),_.data("changed",!0),_.trigger("xchange.xdsoft"),void _.trigger("changedatetime.xdsoft"))}),_.mousewheel&&k.mousewheel(function(e,t){return b.scrollMonth?(0>t?A.nextMonth():A.prevMonth(),!1):!0}),_.mousewheel&&I.unmousewheel().mousewheel(function(e,t){if(!b.scrollTime)return!0;var n=I[0].clientHeight,a=C[0].offsetHeight,r=Math.abs(parseInt(C.css("marginTop"),10)),o=!0;return 0>t&&a-n-b.timeHeightInTimePicker>=r?(C.css("marginTop","-"+(r+b.timeHeightInTimePicker)+"px"),o=!1):t>0&&r-b.timeHeightInTimePicker>=0&&(C.css("marginTop","-"+(r-b.timeHeightInTimePicker)+"px"),o=!1),I.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(C.css("marginTop"),10)/(a-n))]),e.stopPropagation(),o}),_.on("changedatetime.xdsoft",function(){if(b.onChangeDateTime&&b.onChangeDateTime.call){var e=_.data("input");b.onChangeDateTime.call(_,A.currentTime,e),e.trigger("change")}}).on("generate.xdsoft",function(){b.onGenerate&&b.onGenerate.call&&b.onGenerate.call(_,A.currentTime,_.data("input"))});var z=0;e.mousewheel&&e.mousewheel(function(t,n,a,r){return b.scrollInput?!b.datepicker&&b.timepicker?(z=C.find(".xdsoft_current").length?C.find(".xdsoft_current").eq(0).index():0,z+n>=0&&z+n<C.children().length&&(z+=n),C.children().eq(z).length&&C.children().eq(z).trigger("mousedown"),!1):b.datepicker&&!b.timepicker?(k.trigger(t,[n,a,r]),e.val&&e.val(A.str()),_.trigger("changedatetime.xdsoft"),!1):void 0:!0});var J=function(){var e=_.data("input").offset(),t=e.top+_.data("input")[0].offsetHeight-1,n=e.left;t+_[0].offsetHeight>$(window).height()+$(window).scrollTop()&&(t=e.top-_[0].offsetHeight+1),0>t&&(t=0),n+_[0].offsetWidth>$(window).width()&&(n=e.left-_[0].offsetWidth+_.data("input")[0].offsetWidth),_.css({left:n,top:t})};_.on("open.xdsoft",function(){var e=!0;b.onShow&&b.onShow.call&&(e=b.onShow.call(_,A.currentTime,_.data("input"))),e!==!1&&(_.show(),_.trigger("afterOpen.xdsoft"),J(),$(window).off("resize.xdsoft",J).on("resize.xdsoft",J),b.closeOnWithoutClick&&$([document.body,window]).on("mousedown.xdsoft",function t(){_.trigger("close.xdsoft"),$([document.body,window]).off("mousedown.xdsoft",t)}))}).on("close.xdsoft",function(e){var t=!0;b.onClose&&b.onClose.call&&(t=b.onClose.call(_,A.currentTime,_.data("input"))),t===!1||b.opened||b.inline||_.hide(),e.stopPropagation()}).data("input",e);var j=0;_.data("xdsoft_datetime",A),_.setOptions(b),A.setCurrentTime(w()),_.trigger("afterOpen.xdsoft"),e.data("xdsoft_datetimepicker",_).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(clearTimeout(j),j=setTimeout(function(){e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||(A.setCurrentTime(w()),_.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var t=(this.value,e.which);switch(!0){case!!~[i].indexOf(t):var n=$("input:visible,textarea:visible");return _.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1;case!!~[h].indexOf(t):return _.trigger("close.xdsoft"),!0}})},k=function(e){var t=e.data("xdsoft_datetimepicker");t&&(t.data("xdsoft_datetime",null),t.remove(),e.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),$(window).off("resize.xdsoft"),$([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())};return $(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode==o&&(T=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode==o&&(T=!1)}),this.each(function(){var t;if(t=$(this).data("xdsoft_datetimepicker")){if("string"===$.type(e))switch(e){case"show":$(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":k($(this));break;case"reset":this.value=this.defaultValue,this.value&&t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,b.format))||t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(e);return 0}"string"!==$.type(e)&&(!b.lazyInit||b.open||b.inline?M($(this)):_($(this)))})},Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3,10);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e,10))?0:1e3*parseInt(e,10));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:0,c:null,s:"(?:\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()-1},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return document.write(n),String.leftPad((e-n)/7+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var a=new String(e);for(null==n&&(n=" ");a.length<t;)a=n+a;return a},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r,o=t||window.event,s=[].slice.call(arguments,1),i=0,d=0,u=0,c=0,l=0;
return t=e.event.fix(o),t.type="mousewheel",o.wheelDelta&&(i=o.wheelDelta),o.detail&&(i=-1*o.detail),o.deltaY&&(u=-1*o.deltaY,i=u),o.deltaX&&(d=o.deltaX,i=-1*d),void 0!==o.wheelDeltaY&&(u=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(d=-1*o.wheelDeltaX),c=Math.abs(i),(!n||n>c)&&(n=c),l=Math.max(Math.abs(u),Math.abs(d)),(!a||a>l)&&(a=l),r=i>0?"floor":"ceil",i=Math[r](i/n),d=Math[r](d/a),u=Math[r](u/a),s.unshift(t,i,d,u),(e.event.dispatch||e.event.handle).apply(this,s)}var n,a,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(e.event.fixHooks)for(var s=r.length;s;)e.event.fixHooks[r[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),module.exports=$.fn.datetimepicker});
;/*!common:widget/js/ui/lazyload/lazyload.js*/
define("common:widget/js/ui/lazyload/lazyload",function(a){var o=a("common:widget/lib/jquery/jquery");o.fn.lazyload=function(a){function t(){i.each(function(){o(window).scrollTop()+o(window).height()>o(this).offset().top-e.threshold&&o(this).trigger("appear")})}var e=o.extend({threshold:100,effect:"show",appear:null,load:null},a),i=this;return this.each(function(){var t=o(this);t.one("appear",function(){if(this.loaded=!0,!e.appear||e.appear.call(this,a)!==!1){if(t.data("img")){var n="IMG"==this.tagName.toUpperCase()?t:o("<img />");n.on("load",function(){"IMG"!=t.prop("tagName").toUpperCase()&&n.appendTo(t),n.hide()[e.effect](),e.load&&e.load.call(this,a)}),n.attr("src",t.data("img"))}i=o(o.grep(i,function(a){return!a.loaded}))}})}),o(function(){t()}),o(window).on("resize scroll",function(){t()}),this}});
;/*!common:widget/js/ui/pager/pagerBase.js*/
define("common:widget/js/ui/pager/pagerBase",function(t,n,e){function o(t,n){if(!u(n.pContainer))throw new Error('[pagerBase Exception]: Invalid argument "pContainer".');if(!n.conTotalCount||isNaN(n.conTotalCount)||Number(n.conTotalCount)<1)throw new Error('[pagerBase Exception]: Invalid argument "conTotalCount".');if(n.onIndexChange&&"function"!=typeof n.onIndexChange)throw new Error('[pagerBase Exception]: Invalid argument "onIndexChange".');t.conTotalCount=parseInt(n.conTotalCount)||0,t.pContainer=u("string"==typeof n.pContainer?"#"+n.pContainer:n.pContainer),t.conPerPage=parseInt(n.conPerPage)||t.conTotalCount,t.pTotalCount=Math.ceil(t.conTotalCount/t.conPerPage)||0,t.pMaxCount=parseInt(n.pMaxCount)||t.pTotalCount,t.pCount=Math.min(n.pMaxCount,t.pTotalCount),t.activeIndex=parseInt(n.activeIndex)||1,t.stopEvt="boolean"==typeof n.stopEvt?n.stopEvt:!1}function a(t,n,e){return{type:t,index:n,state:e}}function i(t,n){n.push(a("active",t.activeIndex,"disabled"))}function p(t){if(isNaN(parseInt(t.activeIndex))||t.activeIndex<1||t.activeIndex>t.pTotalCount)throw new Error("[pagerBase Exception]: Invalid activeIndex.");var n,e;switch(t.pCount){case 1:n=e=t.activeIndex;break;case 2:n=t.activeIndex==t.pTotalCount?t.pTotalCount-1:t.activeIndex,e=n+1;break;default:n=t.activeIndex-Math.ceil((t.pCount-2)/2)+1,2>n?n=2:n>t.pTotalCount-t.pCount+2&&(n=t.pTotalCount-t.pCount>0?t.pTotalCount-t.pCount+2:2),e=n+t.pCount-3<t.pTotalCount?n+t.pCount-3:t.pTotalCount-1}var o=[];o.push(a.apply(null,1==t.activeIndex?["previous",1,"disabled"]:["previous",t.activeIndex-1,"normal"])),t.pCount>2&&(1==t.activeIndex?i(t,o):o.push(a("normal",1,"normal"))),(n>2||t.pCount<3&&n>1)&&o.push(a("ellipsis",void 0,"disabled"));for(var p=n;e>=p;++p)t.activeIndex==p?i(t,o):o.push(a("normal",p,"normal"));return(t.pTotalCount-e>1||t.pCount<3&&t.pTotalCount>e)&&o.push(a("ellipsis",void 0,"disabled")),t.pCount>2&&t.pTotalCount>1&&(t.activeIndex==t.pTotalCount?i(t,o):o.push(a("normal",t.pTotalCount,"normal"))),o.push(a.apply(null,t.activeIndex==t.pTotalCount?["next",t.pTotalCount,"disabled"]:["next",t.activeIndex+1,"normal"])),{activeIndex:t.activeIndex,previous:o.shift(),next:o.pop(),others:o}}function r(t){var n=this;t&&(o(this,t),u(this.pContainer).on("click.pagerBase","[pagerIndex]",function(t){n.activeIndex=parseInt(u(this).attr("pagerIndex")),n.stopEvt&&u.stopPropagation(),n.onIndexChange&&n.onIndexChange(p(n),t)}),u(this.pContainer).on("click.pagerBase",".submit-turnpage",function(t){var e=u(".page-input").val();n.activeIndex=e>=n.pTotalCount?n.pTotalCount:e,n.stopEvt&&u.stopPropogation(),n.onIndexChange&&n.onIndexChange(p(n),t)}))}var u=t("common:widget/js/util/tangram/tangram");r.prototype={constructor:r,getPagers:function(t){return this.activeIndex="undefined"==typeof t?this.activeIndex:t,p(this)},getActiveIndex:function(){return this.activeIndex},getPagerTotalCount:function(){return this.pTotalCount},baseReset:function(t){if(!t)throw new Error("[pagerBase Exception]: Invalid reset arguments.");t.pContainer=this.pContainer,t.conTotalCount="undefined"==typeof t.conTotalCount?this.conTotalCount:t.conTotalCount,t.conPerPage="undefined"==typeof t.conPerPage?this.conPerPage:t.conPerPage,t.pMaxCount="undefined"==typeof t.pMaxCount?this.pMaxCount:t.pMaxCount,t.activeIndex="undefined"==typeof t.activeIndex?this.activeIndex:t.activeIndex,t.stopEvt="boolean"==typeof t.stopEvt?t.stopEvt:this.stopEvt,t.onIndexChange=t.onIndexChange||this.onIndexChange,o(this,t),this.activeIndex=Math.min(this.activeIndex,this.pTotalCount)},baseDestroy:function(){u(this.pContainer).off("click.pagerBase")}},e.exports=r});
;/*!common:widget/js/ui/pager/normalPager.js*/
define("common:widget/js/ui/pager/normalPager",function(e,t,a){function n(e){if(!e)throw new Error("[normalPager Exception]: No arguments.");if(e.onIndexChange&&"function"!=typeof e.onIndexChange)throw new Error('[normalPager Exception]: Invalid argument "onIndexChange".');this.showSinglePage="boolean"==typeof e.showSinglePage?e.showSinglePage:!0,this.autoRefresh="boolean"==typeof e.autoRefresh?e.autoRefresh:!0,this.template=o(e.needTurnPage?e.templage||p:e.template||r);var t=this;this.onIndexChange=function(a,n){t.autoRefresh&&t.show(),e.onIndexChange&&e.onIndexChange(t.activeIndex,n)}}function i(e){n.call(this,e),s.call(this,e),this.show=function(e){var t=this;setTimeout(function(){if(1!=t.pTotalCount||t.showSinglePage){t.pContainer.show();var a=t.getPagers(e);a.pTotalCount=t.pTotalCount,t.pContainer.html(t.template.render(a))}else t.hide()},0)},this.hide=function(){this.pContainer.hide()},this.getHTML=function(e){return 1!=this.pTotalCount||this.showSinglePage?this.template.render(this.getPagers(e)):""},this.reset=function(e){var t=this;if(!e)throw new Error("[normalPager Exception]: Invalid reset arguments.");if(e.onIndexChange&&"function"!=typeof e.onIndexChange)throw new Error('[normalPager Exception]: Invalid reset argument "onIndexChange".');e.pContainer=this.pContainer,e.conTotalCount="undefined"==typeof e.conTotalCount?this.conTotalCount:e.conTotalCount,e.conPerPage="undefined"==typeof e.conPerPage?this.conPerPage:e.conPerPage,e.pMaxCount="undefined"==typeof e.pMaxCount?this.pMaxCount:e.pMaxCount,e.activeIndex="undefined"==typeof e.activeIndex?this.activeIndex:e.activeIndex,e.showSinglePage="undefined"==typeof e.showSinglePage?this.showSinglePage:"boolean"==typeof e.showSinglePage?e.showSinglePage:!0,e.stopEvt="boolean"==typeof e.stopEvt?e.stopEvt:this.stopEvt,e.autoRefresh="boolean"==typeof e.autoRefresh?e.autoRefresh:this.autoRefresh,this.template=e.template||this.template,this.onIndexChange=e.onIndexChange?function(a,n){obj.autoRefresh&&obj.show(),e.onIndexChange&&e.onIndexChange(t.activeIndex,n)}:this.onIndexChange,this.baseReset(e),this.autoRefresh&&this.show()},this.destroy=function(){this.pContainer.empty(),this.baseDestroy()}}var s=(e("common:widget/js/util/tangram/tangram"),e("common:widget/js/ui/pager/pagerBase")),o=e("common:widget/lib/juicer/juicer"),r='<a href="javascript:;" class="pTag prev{@if previous.state == "disabled"} disabled{@/if}"{@if previous.state != "disabled"} pagerIndex="$${previous.index}"{@/if}>&lt;</a>{@each others as item}{@if item.type == "active"}<a href="javascript:;" class="pTag cur">$${item.index}</a>{@else if item.type == "ellipsis"}<span class="ellipsis">...</span>{@else}<a href="javascript:;" class="pTag" pagerIndex="$${item.index}">$${item.index}</a>{@/if}{@/each}<a href="javascript:;" class="pTag next{@if next.state == "disabled"} disabled{@/if}"{@if next.state != "disabled"} pagerIndex="$${next.index}"{@/if}>&gt;</a>',p='<a href="javascript:;" class="pTag prev t-prev{@if previous.state == "disabled"} disabled{@/if}"{@if previous.state != "disabled"} pagerIndex="$${previous.index}"{@/if}>上一页</a>{@each others as item}{@if item.type == "active"}<a href="javascript:;" class="pTag cur">$${item.index}</a>{@else if item.type == "ellipsis"}<span class="ellipsis">...</span>{@else}<a href="javascript:;" class="pTag" pagerIndex="$${item.index}">$${item.index}</a>{@/if}{@/each}<a href="javascript:;" class="pTag next t-next{@if next.state == "disabled"} disabled{@/if}"{@if next.state != "disabled"} pagerIndex="$${next.index}"{@/if}>下一页</a><span class="turn-page">共<span class="total-page">$${pTotalCount}</span>页<span class="turn-area">跳至<input type="text" value="" class="page-input">页<a href="javascript:;" class="submit-turnpage" href="/to-some-page">确定</a></span></span>';i.prototype=new s,a.exports=i});
;/*!common:widget/js/ui/pager/pager.js*/
define("common:widget/js/ui/pager/pager",function(e,a,t){var r=e("common:widget/js/util/tangram/tangram"),i=e("common:widget/js/ui/base/base");t.exports=new i(function(){var e=this;e.currentPage=1,e.totalPage=1,e.viewSize=10,e.currentPagePos=4,e.labelFirst="首页",e.labelPrev="上一页",e.labelNext="下一页",e.labelLast="尾页",e.ellipsis=!1,e.tplURL="##{pageNum}",e.tplLabelNormal="#{pageNum}",e.tplLabelCurrent="#{pageNum}",e.tplEllipsis='<span class="pager-more">...</span>',e.currentPage=Math.max(e.currentPage,1)}).extend({_init:function(e){var a=this;r.each(e,function(e,t){r.isFunction(t)?a.on(e,t):a[e]=t})},_toHTMLString:function(){function e(e,t,i){return i?r.string.format('<a href="'+a.tplURL+'" data-index="#{pageNum}" class="pager-'+t+'">'+i+"</a>",{pageNum:e}):""}var a=this,t=['<div class="pager'+(a.ellipsis?" pager-ellipsis":"")+'">'],i=a.totalPage<a.viewSize||a.currentPage<=a.currentPagePos?1:Math.min(a.currentPage-a.currentPagePos,a.totalPage-a.viewSize+1);a.ellipsis&&1==i&&a.currentPage>1&&(i=2);var n=Math.min(a.totalPage,i+a.viewSize-1),l=a.currentPage>1?"":" disabled";a.ellipsis&&n==a.totalPage&&a.currentPage<a.totalPage&&(n=a.totalPage-1,i=Math.max(1,n-a.viewSize+1));var s=[e(1,"first"+(a.ellipsis&&1==i&&a.currentPage>1?" disabled":l),a.labelFirst),e(a.currentPage-1,"pre"+l,a.labelPrev)];a.ellipsis&&(s=[s[1],s[0]],i>2&&s.push(a.tplEllipsis)),t=t.concat(s);for(var g=i;n>=g;g++)t.push(g==a.currentPage?'<b class="pager-current">'+r.string.format(a.tplLabelCurrent,{pageNum:g})+"</b>":e(g,"normal",a.tplLabelNormal));return l=a.currentPage<a.totalPage?"":" disabled",s=[e(parseInt(a.currentPage)+1,"next"+l,a.labelNext),e(a.totalPage,"last"+l,a.labelLast)],a.ellipsis&&(s=[s[1],s[0]],n<a.totalPage-1&&s.unshift(a.tplEllipsis)),t=t.concat(s),t.push("</div>"),t.join("")},init:function(){this.render().fire("load")},render:function(e){e&&this._init(e);var a=this,t=r(a.target).html(a._toHTMLString());return t.size()&&"render"!=a.status&&(a.status="render",t.delegate("a[data-index]","click",function(e){a.currentPage=r(this).data("index"),a.fire("pagechange",{event:e,target:this})})),a}})});
;/*!common:widget/js/ui/pop-tip/pop-tip.js*/
define("common:widget/js/ui/pop-tip/pop-tip",function(t,o,e){{var a=t("common:widget/js/util/tangram/tangram");t("common:widget/js/util/event/event")}e.exports=function(t,o){var e=a.extend({},o);a("#pop-layer-box").remove();var n=a("<div />").prop({id:"pop-layer-box"}).addClass("pop-layer-box").html(t).appendTo(document.body),i=a(window).height()/2+a(window).scrollTop()-100,p=(a(window).width()-n.width()-60)/2;i=i>50?i:50,p=p>400?p:400,n.css({top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:0}),n.animate({top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:1},200),setTimeout(function(){n.animate({top:i,opacity:0},200,function(){n.remove(),e.callback&&e.callback()})},3e3)}});
;/*!common:widget/js/ui/respond/respond.js*/
define("common:widget/js/ui/respond/respond",function(){!function(e){"use strict";e.matchMedia=e.matchMedia||function(e){var t,n=e.documentElement,a=n.firstElementChild||n.firstChild,i=e.createElement("body"),s=e.createElement("div");return s.id="mq-test-1",s.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(s),function(e){return s.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(i,a),t=42===s.offsetWidth,n.removeChild(i),{matches:t,media:e}}}(e.document)}(this),function(e){"use strict";function t(){E(!0)}var n={};e.respond=n,n.update=function(){};var a=[],i=function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){t=new e.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),s=function(e,t){var n=i();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))},r=function(e){return e.replace(n.regex.minmaxwh,"").match(n.regex.other)};if(n.ajax=s,n.queue=a,n.unsupportedmq=r,n.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,comments:/\/\*[^*]*\*+([^/][^*]*\*+)*\//gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,maxw:/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/,minmaxwh:/\(\s*m(in|ax)\-(height|width)\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/gi,other:/\([^\)]*\)/g},n.mediaQueriesSupported=e.matchMedia&&null!==e.matchMedia("only all")&&e.matchMedia("only all").matches,!n.mediaQueriesSupported){var o,l,m,d=e.document,h=d.documentElement,u=[],c=[],f=[],p={},g=30,y=d.getElementsByTagName("head")[0]||h,x=d.getElementsByTagName("base")[0],v=y.getElementsByTagName("link"),w=function(){var e,t=d.createElement("div"),n=d.body,a=h.style.fontSize,i=n&&n.style.fontSize,s=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||(n=s=d.createElement("body"),n.style.background="none"),h.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),s&&h.insertBefore(n,h.firstChild),e=t.offsetWidth,s?h.removeChild(n):n.removeChild(t),h.style.fontSize=a,i&&(n.style.fontSize=i),e=m=parseFloat(e)},E=function(t){var n="clientWidth",a=h[n],i="CSS1Compat"===d.compatMode&&a||d.body[n]||a,s={},r=v[v.length-1],p=(new Date).getTime();if(t&&o&&g>p-o)return e.clearTimeout(l),void(l=e.setTimeout(E,g));o=p;for(var x in u)if(u.hasOwnProperty(x)){var S=u[x],T=S.minw,C=S.maxw,b=null===T,$=null===C,z="em";T&&(T=parseFloat(T)*(T.indexOf(z)>-1?m||w():1)),C&&(C=parseFloat(C)*(C.indexOf(z)>-1?m||w():1)),S.hasquery&&(b&&$||!(b||i>=T)||!($||C>=i))||(s[S.media]||(s[S.media]=[]),s[S.media].push(c[S.rules]))}for(var M in f)f.hasOwnProperty(M)&&f[M]&&f[M].parentNode===y&&y.removeChild(f[M]);f.length=0;for(var R in s)if(s.hasOwnProperty(R)){var O=d.createElement("style"),k=s[R].join("\n");O.type="text/css",O.media=R,y.insertBefore(O,r.nextSibling),O.styleSheet?O.styleSheet.cssText=k:O.appendChild(d.createTextNode(k)),f.push(O)}},S=function(e,t,a){var i=e.replace(n.regex.comments,"").replace(n.regex.keyframes,"").match(n.regex.media),s=i&&i.length||0;t=t.substring(0,t.lastIndexOf("/"));var o=function(e){return e.replace(n.regex.urls,"$1"+t+"$2$3")},l=!s&&a;t.length&&(t+="/"),l&&(s=1);for(var m=0;s>m;m++){var d,h,f,p;l?(d=a,c.push(o(e))):(d=i[m].match(n.regex.findStyles)&&RegExp.$1,c.push(RegExp.$2&&o(RegExp.$2))),f=d.split(","),p=f.length;for(var g=0;p>g;g++)h=f[g],r(h)||u.push({media:h.split("(")[0].match(n.regex.only)&&RegExp.$2||"all",rules:c.length-1,hasquery:h.indexOf("(")>-1,minw:h.match(n.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:h.match(n.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}E()},T=function(){if(a.length){var t=a.shift();s(t.href,function(n){S(n,t.href,t.media),p[t.href]=!0,e.setTimeout(function(){T()},0)})}},C=function(){for(var t=0;t<v.length;t++){var n=v[t],i=n.href,s=n.media,r=n.rel&&"stylesheet"===n.rel.toLowerCase();i&&r&&!p[i]&&(n.styleSheet&&n.styleSheet.rawCssText?(S(n.styleSheet.rawCssText,i,s),p[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!x||i.replace(RegExp.$1,"").split("/")[0]===e.location.host)&&("//"===i.substring(0,2)&&(i=e.location.protocol+i),a.push({href:i,media:s})))}T()};C(),n.update=C,n.getEmValue=w,e.addEventListener?e.addEventListener("resize",t,!1):e.attachEvent&&e.attachEvent("onresize",t)}}(this)});
;/*!common:widget/js/ui/uploader/uploader.js*/
define("common:widget/js/ui/uploader/uploader",function(e,t,a){var i=e("common:widget/lib/jquery/jquery"),r=e("common:widget/js/ui/base/base"),o=e("common:widget/js/ui/dialog/dialog"),n=e("common:widget/js/util/uri/uri"),l=0,s=r().extend({init:function(t){var a=this;this.target=i(this.target),this.url=t.url||"/mybaby/ajax/picture",this.maxSize=this.maxSize||5,this.params=i.extend({cm:100672},t.params),this.paramName=t.paramName||"image",this.imageOnly=t.imageOnly===!1?!1:!0,"static"==this.target.css("position")&&this.target.css("position","relative"),window.FileReader&&window.FormData?this.render():e.async(["common:widget/lib/swfupload/swfupload"],function(e){a.renderFlash(e)})},render:function(){var e=this;this.fileEle&&this.fileEle.remove(),this.fileEle=i('<input type="file" tabindex="-1" />').addClass("ipt-uploader").appendTo(this.target),this.imageOnly&&this.fileEle.attr("accept","image/*"),this.fileEle.on("change",function(){if(this.files[0]){var t=this.files[0];if(t.size>1048576*e.maxSize)return void o.alert('<p style="text-align: center;padding-top: 45px;">文件大小超过'+e.maxSize+"M的限制。</p>",{buttons:[{text:"确定",click:function(){o.close(),e.render()}}]});e.upload(t),setTimeout(function(){e.render()},0)}})},upload:function(e){var t=this,a=new FormData;a.append(this.paramName,e,e.name),i.each(this.params,function(e,t){a.append(e,t)});var r=new XMLHttpRequest;r.open("POST",this.url,!0),r.withCredentials=!0,r.addEventListener("loadstart",function(e){t.fire("loadstart",e)}),r.upload.addEventListener("progress",function(e){t.fire("progress",e.lengthComputable&&{loaded:e.loaded,total:e.total})}),r.addEventListener("error",function(){t.fire("error")}),r.addEventListener("load",function(){var a=JSON.parse(r.responseText);t.localImg(e,a)}),r.send(a),t.fire("upload",{file:e})},localImg:function(e,t){var a=this;"object"!==String(typeof t)&&(t=JSON.parse(t));var i=new FileReader;i.onload=function(e){t.data?t.data.localRes=e.target.result:t.localRes=e.target.result,a.fire("complete",t)},i.readAsDataURL(e)},renderFlash:function(e){if(!this.swfu){var t=this,a=l++,r=i("<span/>").attr("id","ik-uploader-"+a).appendTo(this.target),o=new e({flash_url:n.swfupload,upload_url:t.url,file_size_limit:t.maxSize+" MB",file_types:t.imageOnly?"*.jpg;*.png;*.gif;*.bmp":"*.*",file_types_description:t.imageOnly?"图片文件":"所有文件",file_upload_limit:1,file_queue_limit:1,debug:!1,button_placeholder_id:r.attr("id"),button_width:this.target.width(),button_height:this.target.height(),button_window_mode:e.WINDOW_MODE.TRANSPARENT,button_cursor:e.CURSOR.HAND,file_post_name:t.paramName,post_params:t.params,swfupload_pre_load_handler:function(){},swfupload_load_failed_handler:function(){t.fire("error")},swfupload_loaded_handler:function(){},file_queued_handler:function(){},file_queue_error_handler:function(){t.fire("error")},file_dialog_complete_handler:function(){try{this.startUpload()}catch(e){}},upload_start_handler:function(e){t.fire("upload",{file:e})},upload_progress_handler:function(e,a,i){t.fire("progress",{loaded:a,total:i})},upload_error_handler:function(){t.fire("error")},upload_success_handler:function(e,a){t.fire("complete",i.parseJSON(a))},upload_complete_handler:function(){try{var e=o.getStats();e.successful_uploads=e.successful_uploads-1,o.setStats(e)}catch(t){}},queue_complete_handler:function(){}});i(o.getMovieElement()).addClass("swf-uploader"),this.swfu=o}}});a.exports=s});
;/*!common:widget/js/util/log/videolog.js*/
define("common:widget/js/util/log/videolog",function(e,i,o){var t=e("common:widget/lib/jquery/jquery"),n=e("common:widget/js/util/log/log"),d=parseInt(t(window).height(),10),r=!0,v=!0,a=0,l=0,g=function(e,i,o){e.on("timeupdate",function(){a=this.currentTime,v&&0===a&&(v=!1,n.logOther(i,"view","","video","",{qid:o})),r&&a>=3&&(r=!1,n.logOther(i,"view_valid","","video","",{qid:o}))}),e.on("ended",function(){v=!0,l=0,n.logOther(i,"view_done","","video","",{qid:o})}),e.on("pause",function(){var e=parseInt(this.currentTime,10),t=e-l;n.logOther(i,"view","","video_time","",{qid:o,duration:t,eventKey:"bgt",eventValue:l}),l=e}),e.on("play",function(){v&&(v=!1,n.logOther(i,"view","","video","",{qid:o}))})},s=function(e,i,o){if(!(e.length<=0))for(var r=parseInt(window.pageYOffset,10),v=0;v<e.length;v++){var a=parseInt(t(e[v]).offset().top,10),l=r+d-1;if(!t(e[v]).hasClass("viewed")&&l>=a){var g=t(e[v]).data("qid"),s=o(e[v]);n.logOther(i,"viewmore","","video","",{qid:g,pos:s}),t(e[v]).addClass("viewed")}}};o.exports={videoPlay:g,videoShow:s}});
;/*!common:widget/js/util/num2chinese/num2chinese.js*/
define("common:widget/js/util/num2chinese/num2chinese",function(n,e,t){t.exports=function(n){for(var e=n.toString(),t=parseInt(e.split("").reverse().join(""),10),i=["","十","百","千","万"],o=["零","一","二","三","四","五","六","七","八","九","十"],r=e.length,s="",u=t.toString().length,c=0;u>c;c++)s+=0==c&&2==r&&t%10==1?"":o[t%10],s+=t%10==0?"":i[r-c-1],t=Math.floor(t/10);return s}});
;/*!common:widget/js/util/tangram/timeFormater.js*/
define("common:widget/js/util/tangram/timeFormater",function(e,t){function r(e,t,r){switch(r){case"zh":return i(e+1)+"月";case"en":return["January","February","March","April","May","June","July","August","September","October","November","December"][e].substr(0,t?3:void 0);default:return""}}function n(e,t,r){switch(r){case"zh":return(t?"周":"星期")+(e?i(e):"日");case"en":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e].substr(0,t?3:void 0);default:return""}}function a(e,t){switch(t){case"zh":return i(e)+"日";case"en":return e+(4>e%10&&1!=Math.floor(e/10)?["th","st","nd","rd"][e%10]:"th");default:return""}}var u=e("common:widget/js/util/tangram/number").pad,i=e("common:widget/js/util/num2chinese/num2chinese");t.build=function(e){var t;switch(typeof e){case"number":t=new Date(parseInt(e));break;case"string":if(Number(e))t=arguments.callee(parseInt(e));else{e=e.replace(/-/g,"/").replace("/+d+/","");var r=e.match(/^(.+?)\.(\d+)$/);t=new Date(r&&r[2]?+new Date(r[1])+parseInt(r[2]):e)}break;default:t=e instanceof Date?e:new Date}if("Invalid Date"==t)throw new Error("[TimeFormater Exception]: Invalid Date!");return t},t.format=function(e,t,i){e=this.build(e),t=t||"yyyy/MM/dd HH:mm:ss",i=/^(zh|en)$/i.test(i||(navigator.browserLanguage||navigator.language).substr(0,2))?RegExp.$1.toLowerCase():"en";var o={"h+":e.getHours()>12?e.getHours()-12:e.getHours(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var s in o)t=t.replace(new RegExp(s,"g"),function(e){return u(o[s],Math.min(2,e.length))});return t=t.replace(/f+/g,function(t){return u(e.getMilliseconds(),3).substr(0,Math.min(t.length,3))}),t=t.replace(/y+/g,function(t){return t.length<3?u(e.getFullYear()%1e3,Math.min(t.length,2)):u(e.getFullYear(),t.length)}),t=t.replace(/M+/g,function(t){return t.length<3?u(e.getMonth()+1,t.length):r(e.getMonth(),3==t.length,i)}),t=t.replace(/d+/g,function(t){return t.length<3?u(e.getDate(),t.length):a(e.getDate(),i)}),t=t.replace(/w+/g,function(t){return n(e.getDay(),t.length<2,i)})},t.timeSpan=function(e,t,r){var n=r;e=this.build(e),t=this.build(t),r=r||"d天h小时m分s秒f毫秒";for(var a=Math.abs(t.getTime()-e.getTime()),i=[{pattern:/d+/g,rate:864e5},{pattern:/h+/g,rate:36e5},{pattern:/m+/g,rate:6e4},{pattern:/s+/g,rate:1e3},{pattern:/f+/g,rate:1}],o=0;o<i.length;++o){i[o].value=a;for(var s=0;o>s;++s)r.match(i[s].pattern)&&(i[o].value-=i[s].value*i[s].rate);i[o].value=Math.floor(i[o].value/i[o].rate)}for(var o=0;o<i.length;++o)r=r.replace(i[o].pattern,function(e){var t=Math.min(e.length,0==o?1/0:4==o?3:2);return u(i[o].value,t)});return r=n?r:r.replace(/(\d+)(?:天|小时|分|秒|毫秒)/g,function(e,t){return Number(t)?e:""}),(t>=e?"":"-")+r},t.timeDiff=function(e,t){if(null==e||"undefined"==typeof e)throw new Error("[TimeFormater Exception]: Invalid arguments!");return this.timeSpan(0,e,t)},t.startEnd=function(e,t,r,n,a,u){return e=this.build(e),t=this.build(t),a=(null==a||"undefined"==typeof a?"-":a).toString(),r=r||"yyyy/MM/dd HH:mm:ss",n=n||r,this.format(e,r,u)+a+this.format(t,n,u)}});
;/*!common:widget/js/util/webuploader/webuploader.min.js*/
define("common:widget/js/util/webuploader/webuploader.min",function(e){var t=e("common:widget/lib/jquery/jquery");return function(e,n){var r={},i=function(e,t){var n,r,i;if("string"==typeof e)return s(e);for(n=[],r=e.length,i=0;r>i;i++)n.push(s(e[i]));return t.apply(null,n)},o=function(e,t,n){2===arguments.length&&(n=t,t=null),i(t||[],function(){a(e,n,arguments)})},a=function(e,t,n){var o,a={exports:t};"function"==typeof t&&(n.length||(n=[i,a.exports,a]),o=t.apply(null,n),void 0!==o&&(a.exports=o)),r[e]=a.exports},s=function(t){var n=r[t]||e[t];if(!n)throw new Error("`"+t+"` is undefined");return n},u=function(e){var t,n,i,o,a,s;s=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)};for(t in r)if(n=e,r.hasOwnProperty(t)){for(i=t.split("/"),a=s(i.pop());o=s(i.shift());)n[o]=n[o]||{},n=n[o];n[a]=r[t]}return e},c=function(t){return e.__dollar=t,u(n(e,o,i))};return c(t)}(window,function(e,t,n){t("dollar-third",[],function(){var t=e.__dollar||e.jQuery||e.Zepto;if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(e){return e}),t("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),t("promise",["promise-third"],function(e){return e}),t("base",["dollar","promise"],function(t,n){function r(e){return function(){return s.apply(e,arguments)}}function i(e,t){return function(){return e.apply(t,arguments)}}function o(e){var t;return Object.create?Object.create(e):(t=function(){},t.prototype=e,new t)}var a=function(){},s=Function.call;return{version:"0.1.5",$:t,Deferred:n.Deferred,isPromise:n.isPromise,when:n.when,browser:function(e){var t={},n=e.match(/WebKit\/([\d.]+)/),r=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),i=e.match(/MSIE\s([\d\.]+)/)||e.match(/(?:trident)(?:.*rv:([\w.]+))?/i),o=e.match(/Firefox\/([\d.]+)/),a=e.match(/Safari\/([\d.]+)/),s=e.match(/OPR\/([\d.]+)/);return n&&(t.webkit=parseFloat(n[1])),r&&(t.chrome=parseFloat(r[1])),i&&(t.ie=parseFloat(i[1])),o&&(t.firefox=parseFloat(o[1])),a&&(t.safari=parseFloat(a[1])),s&&(t.opera=parseFloat(s[1])),t}(navigator.userAgent),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),r=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),r&&(t.ios=parseFloat(r[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(e,n,r){var i;return"function"==typeof n?(i=n,n=null):i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return e.apply(this,arguments)},t.extend(!0,i,e,r||{}),i.__super__=e.prototype,i.prototype=o(e.prototype),n&&t.extend(!0,i.prototype,n),i},noop:a,bindFn:i,log:function(){return e.console?i(console.log,console):a}(),nextTick:function(){return function(e){setTimeout(e,1)}}(),slice:r([].slice),guid:function(){var e=0;return function(t){for(var n=(+new Date).toString(32),r=0;5>r;r++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+n+(e++).toString(32)}}(),formatSize:function(e,t,n){var r;for(n=n||["B","K","M","G","TB"];(r=n.shift())&&e>1024;)e/=1024;return("B"===r?e:e.toFixed(t||2))+r}}}),t("mediator",["base"],function(e){function t(e,t,n,r){return o.grep(e,function(e){return!(!e||t&&e.e!==t||n&&e.cb!==n&&e.cb._cb!==n||r&&e.ctx!==r)})}function n(e,t,n){o.each((e||"").split(s),function(e,r){n(r,t)})}function r(e,t){for(var n,r=!1,i=-1,o=e.length;++i<o;)if(n=e[i],n.cb.apply(n.ctx2,t)===!1){r=!0;break}return!r}var i,o=e.$,a=[].slice,s=/\s+/;return i={on:function(e,t,r){var i,o=this;return t?(i=this._events||(this._events=[]),n(e,t,function(e,t){var n={e:e};n.cb=t,n.ctx=r,n.ctx2=r||o,n.id=i.length,i.push(n)}),this):this},once:function(e,t,r){var i=this;return t?(n(e,t,function(e,t){var n=function(){return i.off(e,n),t.apply(r||i,arguments)};n._cb=t,i.on(e,n,r)}),i):i},off:function(e,r,i){var a=this._events;return a?e||r||i?(n(e,r,function(e,n){o.each(t(a,e,n,i),function(){delete a[this.id]})}),this):(this._events=[],this):this},trigger:function(e){var n,i,o;return this._events&&e?(n=a.call(arguments,1),i=t(this._events,e),o=t(this._events,"all"),r(i,n)&&r(o,arguments)):this}},o.extend({installTo:function(e){return o.extend(e,i)}},i)}),t("uploader",["base","mediator"],function(e,t){function n(e){this.options=r.extend(!0,{},n.options,e),this._init(this.options)}var r=e.$;return n.options={},t.installTo(n.prototype),r.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){n.prototype[e]=function(){return this.request(t,arguments)}}),r.extend(n.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var n=this.options;return arguments.length>1?void(r.isPlainObject(t)&&r.isPlainObject(n[e])?r.extend(n[e],t):n[e]=t):e?n[e]:n},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var n=[].slice.call(arguments,1),i=this.options,o="on"+e.substring(0,1).toUpperCase()+e.substring(1);return t.trigger.apply(this,arguments)===!1||r.isFunction(i[o])&&i[o].apply(this,n)===!1||r.isFunction(this[o])&&this[o].apply(this,n)===!1||t.trigger.apply(t,[this,e].concat(n))===!1?!1:!0},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=n.create=function(e){return new n(e)},e.Uploader=n,n}),t("runtime/runtime",["base","mediator"],function(e,t){function n(t){this.options=r.extend({container:document.body},t),this.uid=e.guid("rt_")}var r=e.$,i={},o=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};return r.extend(n.prototype,{getContainer:function(){var e,t,n=this.options;return this._container?this._container:(e=r(n.container||document.body),t=r(document.createElement("div")),t.attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),n.orders="html5,flash",n.addRuntime=function(e,t){i[e]=t},n.hasRuntime=function(e){return!!(e?i[e]:o(i))},n.create=function(e,t){var a,s;if(t=t||n.orders,r.each(t.split(/\s*,\s*/g),function(){return i[this]?(a=this,!1):void 0}),a=a||o(i),!a)throw new Error("Runtime Error");return s=new i[a](e)},t.installTo(n.prototype),n}),t("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){function r(t,r){var o,a=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return a.done(e)},this.connectRuntime=function(t,s){if(o)throw new Error("already connected!");return a.done(s),"string"==typeof t&&i.get(t)&&(o=i.get(t)),o=o||i.get(null,r),o?(e.$.extend(o.options,t),o.__promise.then(a.resolve),o.__client++):(o=n.create(t,t.runtimeOrder),o.__promise=a.promise(),o.once("ready",a.resolve),o.init(),i.add(o),o.__client=1),r&&(o.__standalone=r),o},this.getRuntime=function(){return o},this.disconnectRuntime=function(){o&&(o.__client--,o.__client<=0&&(i.remove(o),delete o.__promise,o.destroy()),o=null)},this.exec=function(){if(o){var n=e.slice(arguments);return t&&n.unshift(t),o.exec.apply(this,n)}},this.getRuid=function(){return o&&o.uid},this.destroy=function(e){return function(){e&&e.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()}}(this.destroy)}var i;return i=function(){var e={};return{add:function(t){e[t.uid]=t},get:function(t,n){var r;if(t)return e[t];for(r in e)if(!n||!e[r].__standalone)return e[r];return null},remove:function(t){delete e[t.uid]}}}(),t.installTo(r.prototype),r}),t("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){function r(e){e=this.options=i.extend({},r.options,e),e.container=i(e.container),e.container.length&&n.call(this,"DragAndDrop")}var i=e.$;return r.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:r,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(r.prototype),r}),t("widgets/widget",["base","uploader"],function(e,t){function n(e){if(!e)return!1;var t=e.length,n=i.type(e);return 1===e.nodeType&&t?!0:"array"===n||"function"!==n&&"string"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){this.owner=e,this.options=e.options}var i=e.$,o=t.prototype._init,a=t.prototype.destroy,s={},u=[];return i.extend(r.prototype,{init:e.noop,invoke:function(e,t){var n=this.responseMap;return n&&e in n&&n[e]in this&&i.isFunction(this[n[e]])?this[n[e]].apply(this,t):s},request:function(){return this.owner.request.apply(this.owner,arguments)}}),i.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],n=e.options.disableWidgets||"";return i.each(u,function(r,i){(!n||!~n.indexOf(i._name))&&t.push(new i(e))}),o.apply(e,arguments)},request:function(t,r,i){var o,a,u,c,l=0,f=this._widgets,d=f&&f.length,h=[],p=[];for(r=n(r)?r:[r];d>l;l++)o=f[l],a=o.invoke(t,r),a!==s&&(e.isPromise(a)?p.push(a):h.push(a));return i||p.length?(u=e.when.apply(e,p),c=u.pipe?"pipe":"then",u[c](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[i?c:"done"](i||e.noop)):h[0]},destroy:function(){a.apply(this,arguments),this._widgets=null}}),t.register=r.register=function(t,n){var o,a={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(n=t,i.each(n,function(e){return"_"===e[0]||"name"===e?void("name"===e&&(a.name=n.name)):void(a[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e)})):a=i.extend(a,t),n.responseMap=a,o=e.inherits(r,n),o._name=a.name,u.push(o),o},t.unRegister=r.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=u.length;t--;)u[t]._name===e&&u.splice(t,1)},r}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var r=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var i,o=this,a=e.Deferred(),s=r.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=i=new n(s),i.once("ready",a.resolve),i.on("drop",function(e){o.request("add-file",[e])}),i.on("accept",function(e){return o.owner.trigger("dndAccept",e)}),i.init(),a.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){function r(e){e=this.options=i.extend({},e),e.container=i(e.container||document.body),n.call(this,"FilePaste")}var i=e.$;return e.inherits(n,{constructor:r,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(r.prototype),r}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var r=e.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var i,o=this,a=e.Deferred(),s=r.extend({},{container:t.paste,accept:t.accept});return this.paste=i=new n(s),i.once("ready",a.resolve),i.on("paste",function(e){o.owner.request("add-file",[e])}),i.init(),a.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){var r=this;r.source=n,r.ruid=e,this.size=n.size||0,this.type=!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):n.type||"application/octet-stream",t.call(r,"Blob"),this.uid=n.uid||this.uid,e&&r.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),t("lib/file",["base","lib/blob"],function(e,t){function n(e,n){var o;this.name=n.name||"untitled"+r++,o=i.exec(n.name)?RegExp.$1.toLowerCase():"",!o&&n.type&&(o=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(n.type)?RegExp.$1.toLowerCase():"",this.name+="."+o),this.ext=o,this.lastModifiedDate=n.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)}var r=1,i=/\.([^.]+)$/;return e.inherits(t,n)}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,n,r){function i(e){if(e=this.options=o.extend({},i.options,e),e.container=o(e.id),!e.container.length)throw new Error("按钮指定错误");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=o(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),n.call(this,"FilePicker",!0)}var o=t.$;return i.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file"},t.inherits(n,{constructor:i,init:function(){var n=this,i=n.options,a=i.button;a.addClass("webuploader-pick"),n.on("all",function(e){var t;switch(e){case"mouseenter":a.addClass("webuploader-pick-hover");break;case"mouseleave":a.removeClass("webuploader-pick-hover");break;case"change":t=n.exec("getFiles"),n.trigger("select",o.map(t,function(e){return e=new r(n.getRuid(),e),e._refer=i.container,e}),i.container)}}),n.connectRuntime(i,function(){n.refresh(),n.exec("init",i),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),o(e).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),r=t.outerHeight?t.outerHeight():t.height(),i=t.offset();n&&r&&e.css({bottom:"auto",right:"auto",width:n+"px",height:r+"px"}).offset(i)},enable:function(){var e=this.options.button;e.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;o(e).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),i}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var r=e.$;return r.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){r.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var i=this,o=i.options,a=o.accept,s=[];if(t)return r.isPlainObject(t)||(t={id:t}),r(t.id).each(function(){var u,c,l;l=e.Deferred(),u=r.extend({},t,{accept:r.isPlainObject(a)?[a]:a,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),c=new n(u),c.once("ready",l.resolve),c.on("select",function(e){i.owner.request("add-file",[e])}),c.init(),i.pickers.push(c),s.push(l.promise())}),e.when.apply(e,s)},disable:function(){r.each(this.pickers,function(){this.disable()})},enable:function(){r.each(this.pickers,function(){this.enable()})},destroy:function(){r.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){function r(e){this.options=i.extend({},r.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var i=e.$;return r.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:r,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),r}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var r,i=e.$;return r=function(e){var t=0,n=[],r=function(){for(var r;n.length&&e>t;)r=n.shift(),t+=r[0],r[1]()};return function(e,i,o){n.push([i,o]),e.once("destroy",function(){t-=i,setTimeout(r,1)}),setTimeout(r,1)}}(5242880),i.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,o,a){var s,u;return e=this.request("get-file",e),e.type.match(/^image/)?(s=i.extend({},this.options.thumb),i.isPlainObject(o)&&(s=i.extend(s,o),o=null),o=o||s.width,a=a||s.height,u=new n(s),u.once("load",function(){e._info=e._info||u.info(),e._meta=e._meta||u.meta(),1>=o&&o>0&&(o=e._info.width*o),1>=a&&a>0&&(a=e._info.height*a),u.resize(o,a)}),u.once("complete",function(){t(!1,u.getAsDataUrl(s.type)),u.destroy()}),u.once("error",function(e){t(e||!0),u.destroy()}),void r(u,e.source.size,function(){e._info&&u.info(e._info),e._meta&&u.meta(e._meta),u.loadFromBlob(e.source)})):void t(!0)},beforeSendFile:function(t){var r,o,a=this.options.compress||this.options.resize,s=a&&a.compressSize||0,u=a&&a.noCompressIfLarger||!1;return t=this.request("get-file",t),!a||!~"image/jpeg,image/jpg".indexOf(t.type)||t.size<s||t._compressed?void 0:(a=i.extend({},a),o=e.Deferred(),r=new n(a),o.always(function(){r.destroy(),r=null}),r.once("error",o.reject),r.once("load",function(){var e=a.width,n=a.height;t._info=t._info||r.info(),t._meta=t._meta||r.meta(),1>=e&&e>0&&(e=t._info.width*e),1>=n&&n>0&&(n=t._info.height*n),r.resize(e,n)}),r.once("complete",function(){var e,n;try{e=r.getAsBlob(a.type),n=t.size,(!u||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,o.resolve()}catch(i){o.resolve()}}),t._info&&r.info(t._info),t._meta&&r.meta(t._meta),r.loadFromBlob(t.source),o.promise())}})}),t("file",["base","mediator"],function(e,t){function n(){return o+a++}function r(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=n(),this.ext=s.exec(this.name)?RegExp.$1:"",this.statusText="",u[this.id]=r.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(r.Status.ERROR,e)})}var i=e.$,o="WU_FILE_",a=0,s=/\.([^.]+)$/,u={};return i.extend(r.prototype,{setStatus:function(e,t){var n=u[this.id];"undefined"!=typeof t&&(this.statusText=t),e!==n&&(u[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return u[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete u[this.id]}}),t.installTo(r.prototype),r.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},r}),t("queue",["base","mediator","file"],function(e,t,n){function r(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var i=e.$,o=n.Status;return i.extend(r.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,r=this._queue.length;for(e=e||o.QUEUED,t=0;r>t;t++)if(n=this._queue[t],e===n.getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],r=0,o=this._queue.length;o>r;r++)e=this._queue[r],(!t.length||~i.inArray(e.getStatus(),t))&&n.push(e);return n},removeFile:function(e){var t=this._map[e.id];t&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this,n=this._map[e.id];n||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case o.PROGRESS:n.numOfProgress--;break;case o.QUEUED:n.numOfQueue--;break;case o.ERROR:n.numOfUploadFailed--;break;case o.INVALID:n.numOfInvalid--;break;case o.INTERRUPT:n.numofInterrupt--}switch(e){case o.QUEUED:n.numOfQueue++;break;case o.PROGRESS:n.numOfProgress++;break;case o.ERROR:n.numOfUploadFailed++;break;case o.COMPLETE:n.numOfSuccess++;break;case o.CANCELLED:n.numOfCancel++;break;case o.INVALID:n.numOfInvalid++;break;case o.INTERRUPT:n.numofInterrupt++}}}),t.installTo(r.prototype),r}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,r,i,o){var a=e.$,s=/\.\w+$/,u=r.Status;return t.register({name:"queue",init:function(t){var r,i,s,u,c,l,f,d=this;if(a.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(c=[],s=0,i=t.accept.length;i>s;s++)u=t.accept[s].extensions,u&&c.push(u);c.length&&(l="\\."+c.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),d.accept=new RegExp(l,"i")}return d.queue=new n,d.stats=d.queue.stats,"html5"===this.request("predict-runtime-type")?(r=e.Deferred(),this.placeholder=f=new o("Placeholder"),f.connectRuntime({runtimeOrder:"html5"},function(){d._ruid=f.getRuid(),r.resolve()}),r.promise()):void 0},_wrapFile:function(e){if(!(e instanceof r)){if(!(e instanceof i)){if(!this._ruid)throw new Error("Can't add external files.");e=new i(this._ruid,e)}e=new r(e)}return e},acceptFile:function(e){var t=!e||!e.size||this.accept&&s.exec(e.name)&&!this.accept.test(e.name);return!t},_addFile:function(e){var t=this;return e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e)?t.acceptFile(e)?(t.queue.append(e),t.owner.trigger("fileQueued",e),e):void t.owner.trigger("error","Q_TYPE_DENIED",e):void 0},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),e=a.map(e,function(e){return t._addFile(e)}),t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20)},getStats:function(){return this.stats},removeFile:function(e,t){var n=this;e=e.id?e:n.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,r,i,o=this;if(e)return e=e.id?e:o.queue.getFile(e),e.setStatus(u.QUEUED),void(t||o.request("start-upload"));for(n=o.queue.getFiles(u.ERROR),r=0,i=n.length;i>r;r++)e=n[r],e.setStatus(u.QUEUED);o.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,r=this.options.runtimeOrder||t.orders,i=this.type;if(!i)for(r=r.split(/\s*,\s*/g),e=0,n=r.length;n>e;e++)if(t.hasRuntime(r[e])){this.type=i=r[e];break}return i}})}),t("lib/transport",["base","runtime/client","mediator"],function(e,t,n){function r(e){var n=this;e=n.options=i.extend(!0,{},r.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}var i=e.$;return r.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},i.extend(r.prototype,{appendBlob:function(e,t,n){var r=this,i=r.options;r.getRuid()&&r.disconnectRuntime(),r.connectRuntime(t.ruid,function(){r.exec("init")}),r._blob=t,i.fileVal=e||i.fileVal,i.filename=n||i.filename},append:function(e,t){"object"==typeof e?i.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"==typeof e?i.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(r.prototype),r}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,r){function i(e,t){var n,r,i=[],o=e.source,a=o.size,s=t?Math.ceil(a/t):1,u=0,c=0;for(r={file:e,has:function(){return!!i.length},shift:function(){return i.shift()},unshift:function(e){i.unshift(e)}};s>c;)n=Math.min(t,a-u),i.push({file:e,start:u,end:t?u+n:a,total:a,chunks:s,chunk:c++,cuted:r}),u+=n;return e.blocks=i.concat(),e.remaning=i.length,r}var o=e.$,a=e.isPromise,s=n.Status;o.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&o.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(o.each(n.request("get-files",s.INVALID),function(){n.request("remove-file",this)}),t)if(t=t.id?t:n.request("get-file",t),t.getStatus()===s.INTERRUPT)o.each(n.pool,function(e,n){n.file===t&&n.transport&&n.transport.send()}),t.setStatus(s.QUEUED);else{if(t.getStatus()===s.PROGRESS)return;t.setStatus(s.QUEUED)}else o.each(n.request("get-files",[s.INITED]),function(){this.setStatus(s.QUEUED)});if(!n.runing){n.runing=!0;var r=[];o.each(n.pool,function(e,t){var i=t.file;i.getStatus()===s.INTERRUPT&&(r.push(i),n._trigged=!1,t.transport&&t.transport.send())});for(var t;t=r.shift();)t.setStatus(s.PROGRESS);t||o.each(n.request("get-files",s.INTERRUPT),function(){this.setStatus(s.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")}},stopUpload:function(t,n){var r=this;if(t===!0&&(n=t,t=null),r.runing!==!1){if(t){if(t=t.id?t:r.request("get-file",t),t.getStatus()!==s.PROGRESS&&t.getStatus()!==s.QUEUED)return;return t.setStatus(s.INTERRUPT),o.each(r.pool,function(e,n){n.file===t&&(n.transport&&n.transport.abort(),r._putback(n),r._popBlock(n))}),e.nextTick(r.__tick)}r.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(s.INTERRUPT),n&&o.each(r.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(s.INTERRUPT)}),r.owner.trigger("stopUpload")}},cancelFile:function(e){e=e.id?e:this.request("get-file",e),e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(s.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){e=e.id?e:this.request("get-file",e),e.setStatus(t||s.COMPLETE),e.skipped=!0,e.blocks&&o.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,r=this,i=r.options;return r._promise?r._promise.always(r.__tick):void(r.pool.length<i.threads&&(n=r._nextBlock())?(r._trigged=!1,t=function(t){r._promise=null,t&&t.file&&r._startSend(t),e.nextTick(r.__tick)},r._promise=a(n)?n.always(t):t(n)):r.remaning||r._getStats().numOfQueue||r._getStats().numofInterrupt||(r.runing=!1,r._trigged||e.nextTick(function(){r.owner.trigger("uploadFinished")}),r._trigged=!0))},_putback:function(e){var t;e.cuted.unshift(e),t=this.stack.indexOf(e.cuted),~t||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===s.PROGRESS)return e;(!e.has()||e.file.getStatus()!==s.PROGRESS&&e.file.getStatus()!==s.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,r,o=this,s=o.options;return(e=this._getStack())?(s.prepareNextFile&&!o.pending.length&&o._prepareNextFile(),e.shift()):o.runing?(!o.pending.length&&o._getStats().numOfQueue&&o._prepareNextFile(),t=o.pending.shift(),n=function(t){return t?(e=i(t,s.chunked?s.chunkSize:0),o.stack.push(e),e.shift()):null},a(t)?(r=t.file,t=t[t.pipe?"pipe":"then"](n),t.file=r,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),r=t.pending;n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===s.PROGRESS||n.getStatus()===s.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(s.PROGRESS),e.file=n,e.done(function(){var t=o.inArray(e,r);~t&&r.splice(t,1,n)}),e.fail(function(e){n.setStatus(s.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),r.push(e))},_popBlock:function(e){var t=o.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n,r=this,i=t.file;return i.getStatus()!==s.PROGRESS?void(i.getStatus()===s.INTERRUPT&&r._putback(t)):(r.pool.push(t),r.remaning++,t.blob=1===t.chunks?i.source:i.source.slice(t.start,t.end),n=r.request("before-send",t,function(){i.getStatus()===s.PROGRESS?r._doSend(t):(r._popBlock(t),e.nextTick(r.__tick))}),void n.fail(function(){1===i.remaning?r._finishFile(i).always(function(){t.percentage=1,r._popBlock(t),r.owner.trigger("uploadComplete",i),e.nextTick(r.__tick)}):(t.percentage=1,r.updateFileProgress(i),r._popBlock(t),e.nextTick(r.__tick))}))},_doSend:function(t){var n,i,a=this,u=a.owner,c=a.options,l=t.file,f=new r(c),d=o.extend({},c.formData),h=o.extend({},c.headers);t.transport=f,f.on("destroy",function(){delete t.transport,a._popBlock(t),e.nextTick(a.__tick)}),f.on("progress",function(e){t.percentage=e,a.updateFileProgress(l)}),n=function(e){var n;return i=f.getResponseAsJson()||{},i._raw=f.getResponse(),n=function(t){e=t},u.trigger("uploadAccept",t,i,n)||(e=e||"server"),e},f.on("error",function(e,r){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<c.chunkRetry?(t.retried++,f.send()):(r||"server"!==e||(e=n(e)),l.setStatus(s.ERROR,e),u.trigger("uploadError",l,e),u.trigger("uploadComplete",l))}),f.on("load",function(){var e;return(e=n())?void f.trigger("error",e,!0):void(1===l.remaning?a._finishFile(l,i):f.destroy())}),d=o.extend(d,{id:l.id,name:l.name,type:l.type,lastModifiedDate:l.lastModifiedDate,size:l.size}),t.chunks>1&&o.extend(d,{chunks:t.chunks,chunk:t.chunk}),u.trigger("uploadBeforeSend",t,d,h),f.appendBlob(c.fileVal,t.blob,l.name),f.append(d),f.setRequestHeader(h),f.send()},_finishFile:function(e,t,n){var r=this.owner;return r.request("after-send-file",arguments,function(){e.setStatus(s.COMPLETE),r.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===s.PROGRESS&&e.setStatus(s.ERROR,t),r.trigger("uploadError",e,t)}).always(function(){r.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t=0,n=0;
e.blocks&&(o.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var r,i=e.$,o={};return r={addValidator:function(e,t){o[e]=t},removeValidator:function(e){delete o[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){i.each(o,function(){this.call(t.owner)})})}}),r.addValidator("fileNumLimit",function(){var e=this,t=e.options,n=0,r=parseInt(t.fileNumLimit,10),i=!0;r&&(e.on("beforeFileQueued",function(e){return n>=r&&i&&(i=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",r,e),setTimeout(function(){i=!0},1)),n>=r?!1:!0}),e.on("fileQueued",function(){n++}),e.on("fileDequeued",function(){n--}),e.on("reset",function(){n=0}))}),r.addValidator("fileSizeLimit",function(){var e=this,t=e.options,n=0,r=parseInt(t.fileSizeLimit,10),i=!0;r&&(e.on("beforeFileQueued",function(e){var t=n+e.size>r;return t&&i&&(i=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",r,e),setTimeout(function(){i=!0},1)),t?!1:!0}),e.on("fileQueued",function(e){n+=e.size}),e.on("fileDequeued",function(e){n-=e.size}),e.on("reset",function(){n=0}))}),r.addValidator("fileSingleSizeLimit",function(){var e=this,t=e.options,r=t.fileSingleSizeLimit;r&&e.on("beforeFileQueued",function(e){return e.size>r?(e.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",r,e),!1):void 0})}),r.addValidator("duplicate",function(){function e(e){for(var t,n=0,r=0,i=e.length;i>r;r++)t=e.charCodeAt(r),n=t+(n<<6)+(n<<16)-n;return n}var t=this,n=t.options,r={};n.duplicate||(t.on("beforeFileQueued",function(t){var n=t.__hash||(t.__hash=e(t.name+t.size+t.lastModifiedDate));return r[n]?(this.trigger("error","F_DUPLICATE",t),!1):void 0}),t.on("fileQueued",function(e){var t=e.__hash;t&&(r[t]=!0)}),t.on("fileDequeued",function(e){var t=e.__hash;t&&delete r[t]}),t.on("reset",function(){r={}}))}),r}),t("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(e,t,n,r){return t.register({name:"md5",md5File:function(t,i,o){var a=new n,s=e.Deferred(),u=t instanceof r?t:this.request("get-file",t).source;return a.on("progress load",function(e){e=e||{},s.notify(e.total?e.loaded/e.total:1)}),a.on("complete",function(){s.resolve(a.getResult())}),a.on("error",function(e){s.reject(e)}),arguments.length>1&&(i=i||0,o=o||0,0>i&&(i=u.size+i),0>o&&(o=u.size+o),o=Math.min(o,u.size),u=u.slice(i,o)),a.loadFromBlob(u),s.promise()}})}),t("runtime/compbase",[],function(){function e(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}return e}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,r){function i(){var e={},r=this,i=this.destroy;n.apply(r,arguments),r.type=o,r.exec=function(n,i){var o,s=this,u=s.uid,c=t.slice(arguments,2);return a[n]&&(o=e[u]=e[u]||new a[n](s,r),o[i])?o[i].apply(o,c):void 0},r.destroy=function(){return i&&i.apply(this,arguments)}}var o="html5",a={};return t.inherits(n,{constructor:i,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),i.register=function(e,n){var i=a[e]=t.inherits(r,n);return i},e.Blob&&e.FileReader&&e.DataView&&n.addRuntime(o,i),i}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.owner.source,i=r.slice||r.webkitSlice||r.mozSlice;return r=i.call(r,e,n),new t(this.getRuid(),r)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var r=e.$,i="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).on("dragover",this.dragOverHandler),r(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,r=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,t=e.dataTransfer.items,t&&t.length&&(n._denied=r=!n.trigger("accept",t)),n.elem.addClass(i+"over"),n.elem[r?"addClass":"removeClass"](i+"denied")),e.dataTransfer.dropEffect=r?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return t&&!r.contains(t,e.currentTarget)?!1:(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),!1)},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(i+"over "+i+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,o,a=this,s=a.getRuid(),u=a.elem.parent().get(0);if(u&&!r.contains(u,e.currentTarget))return!1;e=e.originalEvent||e,t=e.dataTransfer;try{o=t.getData("text/html")}catch(c){}return o?void 0:(a._getTansferFiles(t,function(e){a.trigger("drop",r.map(e,function(e){return new n(s,e)}))}),a.dndOver=!1,a.elem.removeClass(i+"over"),!1)},_getTansferFiles:function(t,n){var r,i,o,a,s,u,c,l=[],f=[];for(r=t.items,i=t.files,c=!(!r||!r[0].webkitGetAsEntry),s=0,u=i.length;u>s;s++)o=i[s],a=r&&r[s],c&&a.webkitGetAsEntry().isDirectory?f.push(this._traverseDirectoryTree(a.webkitGetAsEntry(),l)):l.push(o);e.when.apply(e,f).done(function(){l.length&&n(l)})},_traverseDirectoryTree:function(t,n){var r=e.Deferred(),i=this;return t.isFile?t.file(function(e){n.push(e),r.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var o,a=t.length,s=[],u=[];for(o=0;a>o;o++)s.push(i._traverseDirectoryTree(t[o],u));e.when.apply(e,s).then(function(){n.push.apply(n,u),r.resolve()},r.reject)}),r.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).off("dragover",this.dragOverHandler),r(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t,n,r,i,o=this.options,a=this.elem=o.container,s=".*";if(o.accept){for(t=[],n=0,r=o.accept.length;r>n;n++)i=o.accept[n].mimeTypes,i&&t.push(i);t.length&&(s=t.join(","),s=s.replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=e.bindFn(this._pasteHander,this),a.on("paste",this.hander)},_pasteHander:function(e){var t,r,i,o,a,s=[],u=this.getRuid();for(e=e.originalEvent||e,t=e.clipboardData.items,o=0,a=t.length;a>o;o++)r=t[o],"file"===r.kind&&(i=r.getAsFile())&&s.push(new n(u,i));s.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",s))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,r,i,o=this.getRuntime().getContainer(),a=this,s=a.owner,u=a.options,c=this.label=n(document.createElement("label")),l=this.input=n(document.createElement("input"));if(l.attr("type","file"),l.attr("name",u.name),l.addClass("webuploader-element-invisible"),c.on("click",function(){l.trigger("click")}),c.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),u.multiple&&l.attr("multiple","multiple"),u.accept&&u.accept.length>0){for(e=[],t=0,r=u.accept.length;r>t;t++)e.push(u.accept[t].mimeTypes);l.attr("accept",e.join(","))}o.append(l),o.append(c),i=function(e){s.trigger(e.type)},l.on("change",function(e){var t,r=arguments.callee;a.files=e.target.files,t=this.cloneNode(!0),t.value=null,this.parentNode.replaceChild(t,this),l.off(),l=n(t).on("change",r).on("mouseenter mouseleave",i),s.trigger("change")}),c.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var n=e.createObjectURL&&e||e.URL&&URL.revokeObjectURL&&URL||e.webkitURL,r=t.noop,i=r;return n&&(r=function(){return n.createObjectURL.apply(n,arguments)},i=function(){return n.revokeObjectURL.apply(n,arguments)}),{createObjectURL:r,revokeObjectURL:i,dataURL2Blob:function(e){var t,n,r,i,o,a;for(a=e.split(","),t=~a[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return o=a[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(r,o)},dataURL2ArrayBuffer:function(e){var t,n,r,i;for(i=e.split(","),t=~i[0].indexOf("base64")?atob(i[1]):decodeURIComponent(i[1]),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer},arrayBufferToBlob:function(t,n){var r,i=e.BlobBuilder||e.WebKitBlobBuilder;return i?(r=new i,r.append(t),r.getBlob(n)):new Blob([t],n?{type:n}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,r=new FileReader;r.onload=function(){t(!1,n._parse(this.result)),r=r.onload=r.onerror=null},r.onerror=function(e){t(e.message),r=r.onload=r.onerror=null},e=e.slice(0,n.maxMetaDataSize),r.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var r,i,o,a,s=new DataView(e),u=2,c=s.byteLength-4,l=u,f={};if(65496===s.getUint16(0)){for(;c>u&&(r=s.getUint16(u),r>=65504&&65519>=r||65534===r)&&(i=s.getUint16(u+2)+2,!(u+i>s.byteLength));){if(o=t.parsers[r],!n&&o)for(a=0;a<o.length;a+=1)o[a].call(t,s,u,i,f);u+=i,l=u}l>6&&(f.imageHead=e.slice?e.slice(2,l):new Uint8Array(e).subarray(2,l))}return f}},updateImageHead:function(e,t){var n,r,i,o=this._parse(e,!0);return i=2,o.imageHead&&(i=2+o.imageHead.byteLength),r=e.slice?e.slice(i):new Uint8Array(e).subarray(i),n=new Uint8Array(t.byteLength+2+r.byteLength),n[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(r),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={};return n.ExifMap=function(){return this},n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,r,i,o,a,s){var u,c,l,f,d,h,p=n.exifTagTypes[o];if(!p)return void e.log("Invalid Exif data: Invalid tag type.");if(u=p.size*a,c=u>4?r+t.getUint32(i+8,s):i+8,c+u>t.byteLength)return void e.log("Invalid Exif data: Invalid data offset.");if(1===a)return p.getValue(t,c,s);for(l=[],f=0;a>f;f+=1)l[f]=p.getValue(t,c+f*p.size,s);if(p.ascii){for(d="",f=0;f<l.length&&(h=l[f],"\x00"!==h);f+=1)d+=h;return d}return l},n.parseExifTag=function(e,t,r,i,o){var a=e.getUint16(r,i);o.exif[a]=n.getExifValue(e,t,r,e.getUint16(r+2,i),e.getUint32(r+4,i),i)},n.parseExifTags=function(t,n,r,i,o){var a,s,u;if(r+6>t.byteLength)return void e.log("Invalid Exif data: Invalid directory offset.");if(a=t.getUint16(r,i),s=r+2+12*a,s+4>t.byteLength)return void e.log("Invalid Exif data: Invalid directory size.");for(u=0;a>u;u+=1)this.parseExifTag(t,n,r+2+12*u,i,o);return t.getUint32(s,i)},n.parseExifData=function(t,r,i,o){var a,s,u=r+10;if(1165519206===t.getUint32(r+4)){if(u+8>t.byteLength)return void e.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(r+8))return void e.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,a))return void e.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(u+4,a),o.exif=new n.ExifMap,s=n.parseExifTags(t,u,u+s,a,o)}},t.parsers[65505].push(n.parseExifData),n}),t("runtime/html5/jpegencoder",[],function(){function e(e){function t(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;64>n;n++){var r=E((t[n]*e+50)/100);1>r?r=1:r>255&&(r=255),k[M[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;64>o;o++){var a=E((i[o]*e+50)/100);1>a?a=1:a>255&&(a=255),S[M[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],u=0,c=0;8>c;c++)for(var l=0;8>l;l++)T[u]=1/(k[M[u]]*s[c]*s[l]*8),F[u]=1/(S[M[u]]*s[c]*s[l]*8),u++}function n(e,t){for(var n=0,r=0,i=new Array,o=1;16>=o;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function r(){_=n(j,N),y=n(V,G),w=n($,Q),x=n(J,W)}function i(){for(var e=1,t=2,n=1;15>=n;n++){for(var r=e;t>r;r++)U[32767+r]=n,A[32767+r]=[],A[32767+r][1]=n,A[32767+r][0]=r;for(var i=-(t-1);-e>=i;i++)U[32767+i]=n,A[32767+i]=[],A[32767+i][1]=n,A[32767+i][0]=t-1+i;e<<=1,t<<=1}}function o(){for(var e=0;256>e;e++)H[e]=19595*e,H[e+256>>0]=38470*e,H[e+512>>0]=7471*e+32768,H[e+768>>0]=-11059*e,H[e+1024>>0]=-21709*e,H[e+1280>>0]=32768*e+8421375,H[e+1536>>0]=-27439*e,H[e+1792>>0]=-5329*e}function a(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(C|=1<<q),n--,q--,0>q&&(255==C?(s(255),s(0)):s(C),q=7,C=0)}function s(e){O.push(z[e])}function u(e){s(e>>8&255),s(255&e)}function c(e,t){var n,r,i,o,a,s,u,c,l,f=0,d=8,h=64;for(l=0;d>l;++l){n=e[f],r=e[f+1],i=e[f+2],o=e[f+3],a=e[f+4],s=e[f+5],u=e[f+6],c=e[f+7];var p=n+c,g=n-c,m=r+u,v=r-u,b=i+s,_=i-s,y=o+a,w=o-a,x=p+y,R=p-y,E=m+b,k=m-b;e[f]=x+E,e[f+4]=x-E;var S=.707106781*(k+R);e[f+2]=R+S,e[f+6]=R-S,x=w+_,E=_+v,k=v+g;var T=.382683433*(x-k),F=.5411961*x+T,A=1.306562965*k+T,U=.707106781*E,I=g+U,O=g-U;e[f+5]=O+F,e[f+3]=O-F,e[f+1]=I+A,e[f+7]=I-A,f+=8}for(f=0,l=0;d>l;++l){n=e[f],r=e[f+8],i=e[f+16],o=e[f+24],a=e[f+32],s=e[f+40],u=e[f+48],c=e[f+56];var C=n+c,q=n-c,B=r+u,L=r-u,P=i+s,z=i-s,H=o+a,M=o-a,j=C+H,N=C-H,$=B+P,Q=B-P;e[f]=j+$,e[f+32]=j-$;var V=.707106781*(Q+N);e[f+16]=N+V,e[f+48]=N-V,j=M+z,$=z+L,Q=L+q;var G=.382683433*(j-Q),J=.5411961*j+G,W=1.306562965*Q+G,X=.707106781*$,K=q+X,Z=q-X;e[f+40]=Z+J,e[f+24]=Z-J,e[f+8]=K+W,e[f+56]=K-W,f++}var Y;for(l=0;h>l;++l)Y=e[l]*t[l],D[l]=Y>0?Y+.5|0:Y-.5|0;return D}function l(){u(65504),u(16),s(74),s(70),s(73),s(70),s(0),s(1),s(1),s(0),u(1),u(1),s(0),s(0)}function f(e,t){u(65472),u(17),s(8),u(t),u(e),s(3),s(1),s(17),s(0),s(2),s(17),s(1),s(3),s(17),s(1)}function d(){u(65499),u(132),s(0);for(var e=0;64>e;e++)s(k[e]);s(1);for(var t=0;64>t;t++)s(S[t])}function h(){u(65476),u(418),s(0);for(var e=0;16>e;e++)s(j[e+1]);for(var t=0;11>=t;t++)s(N[t]);s(16);for(var n=0;16>n;n++)s($[n+1]);for(var r=0;161>=r;r++)s(Q[r]);s(1);for(var i=0;16>i;i++)s(V[i+1]);for(var o=0;11>=o;o++)s(G[o]);s(17);for(var a=0;16>a;a++)s(J[a+1]);for(var c=0;161>=c;c++)s(W[c])}function p(){u(65498),u(12),s(3),s(1),s(0),s(2),s(17),s(3),s(17),s(0),s(63),s(0)}function g(e,t,n,r,i){for(var o,s=i[0],u=i[240],l=16,f=63,d=64,h=c(e,t),p=0;d>p;++p)I[M[p]]=h[p];var g=I[0]-n;n=I[0],0==g?a(r[0]):(o=32767+g,a(r[U[o]]),a(A[o]));for(var m=63;m>0&&0==I[m];m--);if(0==m)return a(s),n;for(var v,b=1;m>=b;){for(var _=b;0==I[b]&&m>=b;++b);var y=b-_;if(y>=l){v=y>>4;for(var w=1;v>=w;++w)a(u);y=15&y}o=32767+I[b],a(i[(y<<4)+U[o]]),a(A[o]),b++}return m!=f&&a(s),n}function m(){for(var e=String.fromCharCode,t=0;256>t;t++)z[t]=e(t)}function v(e){if(0>=e&&(e=1),e>100&&(e=100),R!=e){var n=0;n=Math.floor(50>e?5e3/e:200-2*e),t(n),R=e}}function b(){e||(e=50),m(),r(),i(),o(),v(e)}var _,y,w,x,R,E=(Math.round,Math.floor),k=new Array(64),S=new Array(64),T=new Array(64),F=new Array(64),A=new Array(65535),U=new Array(65535),D=new Array(64),I=new Array(64),O=[],C=0,q=7,B=new Array(64),L=new Array(64),P=new Array(64),z=new Array(256),H=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],W=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,t){t&&v(t),O=new Array,C=0,q=7,u(65496),l(),d(),f(e.width,e.height),h(),p();var n=0,r=0,i=0;C=0,q=7,this.encode.displayName="_encode_";for(var o,s,c,m,b,R,E,k,S,A=e.data,U=e.width,D=e.height,I=4*U,z=0;D>z;){for(o=0;I>o;){for(b=I*z+o,R=b,E=-1,k=0,S=0;64>S;S++)k=S>>3,E=4*(7&S),R=b+k*I+E,z+k>=D&&(R-=I*(z+1+k-D)),o+E>=I&&(R-=o+E-I+4),s=A[R++],c=A[R++],m=A[R++],B[S]=(H[s]+H[c+256>>0]+H[m+512>>0]>>16)-128,L[S]=(H[s+768>>0]+H[c+1024>>0]+H[m+1280>>0]>>16)-128,P[S]=(H[s+1280>>0]+H[c+1536>>0]+H[m+1792>>0]>>16)-128;n=g(B,T,n,_,w),r=g(L,F,r,y,x),i=g(P,F,i,y,x),o+=32}z+=8}if(q>=0){var M=[];M[1]=q+1,M[0]=(1<<q+1)-1,a(M)}u(65497);var j="data:image/jpeg;base64,"+btoa(O.join(""));return O=[],j},b()}return e.encode=function(t,n){var r=new e(n);return r.encode(t)},e}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var r,i=e.canvasToDataUrl;e.canvasToDataUrl=function(e,o,a){var s,u,c,l,f;return n.os.android?("image/jpeg"===o&&"undefined"==typeof r&&(l=i.apply(null,arguments),f=l.split(","),l=~f[0].indexOf("base64")?atob(f[1]):decodeURIComponent(f[1]),l=l.substring(0,2),r=255===l.charCodeAt(0)&&216===l.charCodeAt(1)),"image/jpeg"!==o||r?i.apply(null,arguments):(u=e.width,c=e.height,s=e.getContext("2d"),t.encode(s.getImageData(0,0,u,c),a))):i.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){var r="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D";return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this,r=t._img;t._blob=e,t.type=e.type,r.src=n.createObjectURL(e.getSource()),t.owner.once("load",function(){n.revokeObjectURL(r.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,r,i){var o=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,u=s.naturalWidth,c=s.naturalHeight,l=this.getOrientation();i=i||1,o.width=n,o.height=r,a.preserveHeaders||this._rotate2Orientaion(o,l),this._renderImageToCanvas(o,s,-e,-t,u*i,c*i),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,r=this._blob,i=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(r=n.canvasToDataUrl(t,e,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return r=n.dataURL2ArrayBuffer(r),r=n.updateImageHead(r,this._metas.imageHead),r=n.arrayBufferToBlob(r,e)}else r=n.canvasToDataUrl(t,e);r=n.dataURL2Blob(r)}return r},getAsDataUrl:function(e){var t=this.options;return e=e||this.type,"image/jpeg"===e?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src=r,this._img=this._blob=null},_resize:function(e,t,n,r){var i,o,a,s,u,c=this.options,l=e.width,f=e.height,d=this.getOrientation();~[5,6,7,8].indexOf(d)&&(n^=r,r^=n,n^=r),i=Math[c.crop?"max":"min"](n/l,r/f),c.allowMagnify||(i=Math.min(1,i)),o=l*i,a=f*i,c.crop?(t.width=n,t.height=r):(t.width=o,t.height=a),s=(t.width-o)/2,u=(t.height-a)/2,c.preserveHeaders||this._rotate2Orientaion(t,d),this._renderImageToCanvas(t,e,s,u,o,a)},_rotate2Orientaion:function(e,t){var n=e.width,r=e.height,i=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=r,e.height=n}switch(t){case 2:i.translate(n,0),i.scale(-1,1);break;case 3:i.translate(n,r),i.rotate(Math.PI);break;case 4:i.translate(0,r),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-r);break;case 7:i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-n,0)}},_renderImageToCanvas:function(){function t(e,t,n){var r,i,o,a=document.createElement("canvas"),s=a.getContext("2d"),u=0,c=n,l=n;for(a.width=1,a.height=n,s.drawImage(e,0,0),r=s.getImageData(0,0,1,n).data;l>u;)i=r[4*(l-1)+3],0===i?c=l:u=l,l=c+u>>1;return o=l/n,0===o?1:o}function n(e){var t,n,r=e.naturalWidth,i=e.naturalHeight;return r*i>1048576?(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-r+1,0),0===n.getImageData(0,0,1,1).data[3]):!1}return e.os.ios?e.os.ios>=7?function(e,n,r,i,o,a){var s=n.naturalWidth,u=n.naturalHeight,c=t(n,s,u);return e.getContext("2d").drawImage(n,0,0,s*c,u*c,r,i,o,a)}:function(e,r,i,o,a,s){var u,c,l,f,d,h,p,g=r.naturalWidth,m=r.naturalHeight,v=e.getContext("2d"),b=n(r),_="image/jpeg"===this.type,y=1024,w=0,x=0;for(b&&(g/=2,m/=2),v.save(),u=document.createElement("canvas"),u.width=u.height=y,c=u.getContext("2d"),l=_?t(r,g,m):1,f=Math.ceil(y*a/g),d=Math.ceil(y*s/m/l);m>w;){for(h=0,p=0;g>h;)c.clearRect(0,0,y,y),c.drawImage(r,-h,-w),v.drawImage(u,0,0,y,y,i+p,o+x,f,d),h+=y,p+=f;w+=y,x+=d}v.restore(),u=c=null}:function(t){var n=e.slice(arguments,1),r=t.getContext("2d");r.drawImage.apply(r,n)}}()})}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,r=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,i,o=this.owner,a=this.options,s=this._initAjax(),u=o._blob,c=a.server;a.sendAsBinary?(c+=(/\?/.test(c)?"&":"?")+r.param(o._formData),n=u.getSource()):(t=new FormData,r.each(o._formData,function(e,n){t.append(e,n)}),t.append(a.fileVal,u.getSource(),a.filename||o._formData.name||"")),a.withCredentials&&"withCredentials"in s?(s.open(a.method,c,!0),s.withCredentials=!0):s.open(a.method,c),this._setRequestHeader(s,a.headers),n?(s.overrideMimeType&&s.overrideMimeType("application/octet-stream"),e.os.android?(i=new FileReader,i.onload=function(){s.send(this.result),i=i.onload=null},i.readAsArrayBuffer(n)):s.send(n)):s.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest,r=this.options;return!r.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){return 4===t.readyState?(t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):t.status>=400&&t.status<500?(e._response=t.responseText,alert(413===t.status?"文件太大，请重新上传图片":"上传失败，请重试"),e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")):void 0},e._xhr=t,t},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(n){t={}}return t}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,r,i,o,a){return n=t(t(n,e),t(i,a)),t(n<<o|n>>>32-o,r)},r=function(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)},i=function(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)},o=function(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)},a=function(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)},s=function(e,n){var s=e[0],u=e[1],c=e[2],l=e[3];s=r(s,u,c,l,n[0],7,-680876936),l=r(l,s,u,c,n[1],12,-389564586),c=r(c,l,s,u,n[2],17,606105819),u=r(u,c,l,s,n[3],22,-1044525330),s=r(s,u,c,l,n[4],7,-176418897),l=r(l,s,u,c,n[5],12,1200080426),c=r(c,l,s,u,n[6],17,-1473231341),u=r(u,c,l,s,n[7],22,-45705983),s=r(s,u,c,l,n[8],7,1770035416),l=r(l,s,u,c,n[9],12,-1958414417),c=r(c,l,s,u,n[10],17,-42063),u=r(u,c,l,s,n[11],22,-1990404162),s=r(s,u,c,l,n[12],7,1804603682),l=r(l,s,u,c,n[13],12,-40341101),c=r(c,l,s,u,n[14],17,-1502002290),u=r(u,c,l,s,n[15],22,1236535329),s=i(s,u,c,l,n[1],5,-165796510),l=i(l,s,u,c,n[6],9,-1069501632),c=i(c,l,s,u,n[11],14,643717713),u=i(u,c,l,s,n[0],20,-373897302),s=i(s,u,c,l,n[5],5,-701558691),l=i(l,s,u,c,n[10],9,38016083),c=i(c,l,s,u,n[15],14,-660478335),u=i(u,c,l,s,n[4],20,-405537848),s=i(s,u,c,l,n[9],5,568446438),l=i(l,s,u,c,n[14],9,-1019803690),c=i(c,l,s,u,n[3],14,-187363961),u=i(u,c,l,s,n[8],20,1163531501),s=i(s,u,c,l,n[13],5,-1444681467),l=i(l,s,u,c,n[2],9,-51403784),c=i(c,l,s,u,n[7],14,1735328473),u=i(u,c,l,s,n[12],20,-1926607734),s=o(s,u,c,l,n[5],4,-378558),l=o(l,s,u,c,n[8],11,-2022574463),c=o(c,l,s,u,n[11],16,1839030562),u=o(u,c,l,s,n[14],23,-35309556),s=o(s,u,c,l,n[1],4,-1530992060),l=o(l,s,u,c,n[4],11,1272893353),c=o(c,l,s,u,n[7],16,-155497632),u=o(u,c,l,s,n[10],23,-1094730640),s=o(s,u,c,l,n[13],4,681279174),l=o(l,s,u,c,n[0],11,-358537222),c=o(c,l,s,u,n[3],16,-722521979),u=o(u,c,l,s,n[6],23,76029189),s=o(s,u,c,l,n[9],4,-640364487),l=o(l,s,u,c,n[12],11,-421815835),c=o(c,l,s,u,n[15],16,530742520),u=o(u,c,l,s,n[2],23,-995338651),s=a(s,u,c,l,n[0],6,-198630844),l=a(l,s,u,c,n[7],10,1126891415),c=a(c,l,s,u,n[14],15,-1416354905),u=a(u,c,l,s,n[5],21,-57434055),s=a(s,u,c,l,n[12],6,1700485571),l=a(l,s,u,c,n[3],10,-1894986606),c=a(c,l,s,u,n[10],15,-1051523),u=a(u,c,l,s,n[1],21,-2054922799),s=a(s,u,c,l,n[8],6,1873313359),l=a(l,s,u,c,n[15],10,-30611744),c=a(c,l,s,u,n[6],15,-1560198380),u=a(u,c,l,s,n[13],21,1309151649),s=a(s,u,c,l,n[4],6,-145523070),l=a(l,s,u,c,n[11],10,-1120210379),c=a(c,l,s,u,n[2],15,718787259),u=a(u,c,l,s,n[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(u,e[1]),e[2]=t(c,e[2]),e[3]=t(l,e[3])},u=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,i,o,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;c>=t;t+=64)s(l,u(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l},f=function(e){var t,n,r,i,o,a,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;u>=t;t+=64)s(l,c(e.subarray(t-64,t)));for(e=u>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;16>t;t+=1)r[t]=0;return i=8*u,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h=function(e){var t,n="";for(t=0;4>t;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=h(e[t]);return e.join("")},g=function(e){return p(l(e))},m=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==g("hello")&&(t=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),m.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},m.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)s(this._state,u(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},m.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},m.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(s(this._state,e),o=0;16>o;o+=1)e[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,s(this._state,e)},m.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},m.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:p(n)},m.hashBinary=function(e,t){var n=l(e);return t?n:p(n)},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)s(this._state,c(n.subarray(t-64,t)));return this._buff=r>t-64?n.subarray(t-64):new Uint8Array(0),this
},m.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;i>t;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=e?this._state:p(this._state),this.reset(),n},m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},m.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},e.register("Md5",{init:function(){},loadFromBlob:function(e){var t,n,r=e.getSource(),i=2097152,o=Math.ceil(r.size/i),a=0,s=this.owner,u=new m.ArrayBuffer,c=this,l=r.mozSlice||r.webkitSlice||r.slice;n=new FileReader,(t=function(){var f,d;f=a*i,d=Math.min(f+i,r.size),n.onload=function(t){u.append(t.target.result),s.trigger("progress",{total:e.size,loaded:d})},n.onloadend=function(){n.onloadend=n.onload=null,++a<o?setTimeout(t,1):setTimeout(function(){s.trigger("load"),c.result=u.end(),t=e=r=u=null,s.trigger("complete")},50)},n.readAsArrayBuffer(l.call(r,f,d))})()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(t,n,r){function i(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(n){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}function o(){function r(e,t){var n,r,i=e.type||e;n=i.split("::"),r=n[0],i=n[1],"Ready"===i&&r===c.uid?c.trigger("ready"):o[r]&&o[r].trigger(i.toLowerCase(),e,t)}var i={},o={},a=this.destroy,c=this,l=t.guid("webuploader_");n.apply(c,arguments),c.type=s,c.exec=function(e,n){var r,a=this,s=a.uid,l=t.slice(arguments,2);return o[s]=a,u[e]&&(i[s]||(i[s]=new u[e](a,c)),r=i[s],r[n])?r[n].apply(r,l):c.flashExec.apply(a,arguments)},e[l]=function(){var e=arguments;setTimeout(function(){r.apply(null,e)},1)},this.jsreciver=l,this.destroy=function(){return a&&a.apply(this,arguments)},this.flashExec=function(e,n){var r=c.getFlash(),i=t.slice(arguments,2);return r.exec(this.uid,e,n,i)}}var a=t.$,s="flash",u={};return t.inherits(n,{constructor:o,init:function(){var e,n=this.getContainer(),r=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),e='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+r.swf+'" ',t.browser.ie&&(e+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),e+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+r.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(e)},getFlash:function(){return this._flash?this._flash:(this._flash=a("#"+this.uid).get(0),this._flash)}}),o.register=function(e,n){return n=u[e]=t.inherits(r,a.extend({flashExec:function(){var e=this.owner,t=this.getRuntime();return t.flashExec.apply(e,arguments)}},n))},i()>=11.4&&n.addRuntime(s,o),o}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t,r,i=n.extend({},e);for(t=i.accept&&i.accept.length,r=0;t>r;r++)i.accept[r].title||(i.accept[r].title="Files");delete i.button,delete i.id,delete i.container,this.flashExec("FilePicker","init",i)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,n,r){var i=t.$;return n.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,r=this._initAjax(),o=t._blob,a=n.server;r.connectRuntime(o.ruid),n.sendAsBinary?(a+=(/\?/.test(a)?"&":"?")+i.param(t._formData),e=o.uid):(i.each(t._formData,function(e,t){r.exec("append",e,t)}),r.exec("appendBlob",n.fileVal,o.uid,n.filename||t._formData.name||"")),this._setRequestHeader(r,n.headers),r.exec("send",{method:n.method,url:a,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var t=this,n=new r("XMLHttpRequest");return n.on("uploadprogress progress",function(e){var n=e.loaded/e.total;return n=Math.min(1,Math.max(0,n)),t.trigger("progress",n)}),n.on("load",function(){var r,i=n.exec("getStatus"),o=!1,a="";return n.off(),t._xhr=null,i>=200&&300>i?o=!0:i>=500&&600>i?(o=!0,a="server"):a="http",o&&(t._response=n.exec("getResponse"),t._response=decodeURIComponent(t._response),r=e.JSON&&e.JSON.parse||function(e){try{return new Function("return "+e).call()}catch(t){return{}}},t._responseJson=t._response?r(t._response):{}),n.destroy(),n=null,a?t.trigger("error",a):t.trigger("load")}),n.on("error",function(){n.off(),t._xhr=null,t.trigger("error","http")}),t._xhr=n,n},_setRequestHeader:function(e,t){i.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.flashExec("Blob","slice",e,n);return new t(r.uid,r)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),t("widgets/log",["base","uploader","widgets/widget"],function(e,t){function n(e){var t=i.extend({},r,e),n=o.replace(/^(.*)\?/,"$1"+i.param(t)),a=new Image;a.src=n}var r,i=e.$,o="https:"===location.protocol?"https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK/tb/pms/img/st.gif??":"http://static.tieba.baidu.com/tb/pms/img/st.gif??",a=(location.hostname||location.host||"protected").toLowerCase(),s=a&&/baidu/i.exec(a);if(s)return r={dv:3,master:"webuploader",online:/test/.exec(a)?0:1,module:"",product:a,type:0},t.register({name:"log",init:function(){var e=this.owner,t=0,r=0;e.on("error",function(e){n({type:2,c_error_code:e})}).on("uploadError",function(e,t){n({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(e){t++,r+=e.size}).on("uploadFinished",function(){n({c_count:t,c_size:r}),t=r=0}),n({c_usage:1})}})}),t("webuploader",["preset/all","widgets/log"],function(e){return e});var r=n;return r("webuploader")})});
;/*!common:widget/lib/jplayer/jplayer.js*/
define("common:widget/lib/jplayer/jplayer",function(t){!function(e,s){s(t("common:widget/lib/jquery/jquery"))}(this,function(t,e){t.fn.jPlayer=function(s){var i="jPlayer",a="string"==typeof s,o=Array.prototype.slice.call(arguments,1),r=this;return s=!a&&o.length?t.extend.apply(null,[!0,s].concat(o)):s,a&&"_"===s.charAt(0)?r:(this.each(a?function(){var a=t(this).data(i),n=a&&t.isFunction(a[s])?a[s].apply(a,o):a;return n!==a&&n!==e?(r=n,!1):void 0}:function(){var e=t(this).data(i);e?e.option(s||{}):t(this).data(i,new t.jPlayer(s,this))}),r)},t.jPlayer=function(e,s){if(arguments.length){this.element=t(s),this.options=t.extend(!0,{},this.options,e);var i=this;this.element.bind("remove.jPlayer",function(){i.destroy()}),this._init()}},"function"!=typeof t.fn.stop&&(t.fn.stop=function(){}),t.jPlayer.emulateMethods="load play pause",t.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",t.jPlayer.emulateOptions="muted volume",t.jPlayer.reservedEvent="ready flashreset resize repeat error warning",t.jPlayer.event={},t.each(["ready","setmedia","flashreset","resize","repeat","click","error","warning","loadstart","progress","suspend","abort","emptied","stalled","play","pause","loadedmetadata","loadeddata","waiting","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange"],function(){t.jPlayer.event[this]="jPlayer_"+this}),t.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","canplay","canplaythrough"],t.jPlayer.pause=function(){t.jPlayer.prototype.destroyRemoved(),t.each(t.jPlayer.prototype.instances,function(t,e){e.data("jPlayer").status.srcSet&&e.jPlayer("pause")})},t.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var s=function(){this.init()};s.prototype={init:function(){this.options={timeFormat:t.jPlayer.timeFormat}},time:function(t){t=t&&"number"==typeof t?t:0;var e=new Date(1e3*t),s=e.getUTCHours(),i=this.options.timeFormat.showHour?e.getUTCMinutes():e.getUTCMinutes()+60*s,a=this.options.timeFormat.showMin?e.getUTCSeconds():e.getUTCSeconds()+60*i,o=this.options.timeFormat.padHour&&10>s?"0"+s:s,r=this.options.timeFormat.padMin&&10>i?"0"+i:i,n=this.options.timeFormat.padSec&&10>a?"0"+a:a,l="";return l+=this.options.timeFormat.showHour?o+this.options.timeFormat.sepHour:"",l+=this.options.timeFormat.showMin?r+this.options.timeFormat.sepMin:"",l+=this.options.timeFormat.showSec?n+this.options.timeFormat.sepSec:""}};var i=new s;t.jPlayer.convertTime=function(t){return i.time(t)},t.jPlayer.uaBrowser=function(t){var e=t.toLowerCase(),s=/(webkit)[ \/]([\w.]+)/,i=/(opera)(?:.*version)?[ \/]([\w.]+)/,a=/(msie) ([\w.]+)/,o=/(mozilla)(?:.*? rv:([\w.]+))?/,r=s.exec(e)||i.exec(e)||a.exec(e)||e.indexOf("compatible")<0&&o.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},t.jPlayer.uaPlatform=function(t){var e=t.toLowerCase(),s=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/,i=/(ipad|playbook)/,a=/(android)/,o=/(mobile)/,r=s.exec(e)||[],n=i.exec(e)||!o.exec(e)&&a.exec(e)||[];return r[1]&&(r[1]=r[1].replace(/\s/g,"_")),{platform:r[1]||"",tablet:n[1]||""}},t.jPlayer.browser={},t.jPlayer.platform={};var a=t.jPlayer.uaBrowser(navigator.userAgent);a.browser&&(t.jPlayer.browser[a.browser]=!0,t.jPlayer.browser.version=a.version);var o=t.jPlayer.uaPlatform(navigator.userAgent);o.platform&&(t.jPlayer.platform[o.platform]=!0,t.jPlayer.platform.mobile=!o.tablet,t.jPlayer.platform.tablet=!!o.tablet),t.jPlayer.getDocMode=function(){var e;return t.jPlayer.browser.msie&&(document.documentMode?e=document.documentMode:(e=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(e=7))),e},t.jPlayer.browser.documentMode=t.jPlayer.getDocMode(),t.jPlayer.nativeFeatures={init:function(){var t,e,s,i=document,a=i.createElement("video"),o={w3c:["fullscreenEnabled","fullscreenElement","requestFullscreen","exitFullscreen","fullscreenchange","fullscreenerror"],moz:["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],webkit:["","webkitCurrentFullScreenElement","webkitRequestFullScreen","webkitCancelFullScreen","webkitfullscreenchange",""],webkitVideo:["webkitSupportsFullscreen","webkitDisplayingFullscreen","webkitEnterFullscreen","webkitExitFullscreen","",""],ms:["","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"]},r=["w3c","moz","webkit","webkitVideo","ms"];for(this.fullscreen=t={support:{w3c:!!i[o.w3c[0]],moz:!!i[o.moz[0]],webkit:"function"==typeof i[o.webkit[3]],webkitVideo:"function"==typeof a[o.webkitVideo[2]],ms:"function"==typeof a[o.ms[2]]},used:{}},e=0,s=r.length;s>e;e++){var n=r[e];if(t.support[n]){t.spec=n,t.used[n]=!0;break}}if(t.spec){var l=o[t.spec];t.api={fullscreenEnabled:!0,fullscreenElement:function(t){return t=t?t:i,t[l[1]]},requestFullscreen:function(t){return t[l[2]]()},exitFullscreen:function(t){return t=t?t:i,t[l[3]]()}},t.event={fullscreenchange:l[4],fullscreenerror:l[5]}}else t.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},t.event={}}},t.jPlayer.nativeFeatures.init(),t.jPlayer.focus=null,t.jPlayer.keyIgnoreElementNames="A INPUT TEXTAREA SELECT BUTTON";var r=function(e){var s,i=t.jPlayer.focus;i&&(t.each(t.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(t,i){return e.target.nodeName.toUpperCase()===i.toUpperCase()?(s=!0,!1):void 0}),s||t.each(i.options.keyBindings,function(s,a){return a&&t.isFunction(a.fn)&&("number"==typeof a.key&&e.which===a.key||"string"==typeof a.key&&e.key===a.key)?(e.preventDefault(),a.fn(i),!1):void 0}))};t.jPlayer.keys=function(e){var s="keydown.jPlayer";t(document.documentElement).unbind(s),e&&t(document.documentElement).bind(s,r)},t.jPlayer.keys(!0),t.jPlayer.prototype={count:0,version:{script:"2.9.2",needFlash:"2.9.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",auroraFormats:"wav",preload:"metadata",volume:.8,muted:!1,remainingDuration:!1,toggleDuration:!1,captureDuration:!0,playbackRate:1,defaultPlaybackRate:1,minPlaybackRate:.5,maxPlaybackRate:4,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",playbackRateBar:".jp-playback-rate-bar",playbackRateBarValue:".jp-playback-rate-bar-value",currentTime:".jp-current-time",duration:".jp-duration",title:".jp-title",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},stateClass:{playing:"jp-state-playing",seeking:"jp-state-seeking",muted:"jp-state-muted",looped:"jp-state-looped",fullScreen:"jp-state-full-screen",noVolume:"jp-state-no-volume"},useStateClassSkin:!1,autoBlur:!0,smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(e){e.jPlayer.options.loop?t(this).unbind(".jPlayerRepeat").bind(t.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){t(this).jPlayer("play")}):t(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/(?=.*android)(?!.*chrome)(?=.*mobile)/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:80,fn:function(t){t.status.paused?t.play():t.pause()}},fullScreen:{key:70,fn:function(t){(t.status.video||t.options.audioFullScreen)&&t._setOption("fullScreen",!t.options.fullScreen)}},muted:{key:77,fn:function(t){t._muted(!t.options.muted)}},volumeUp:{key:190,fn:function(t){t.volume(t.options.volume+.1)}},volumeDown:{key:188,fn:function(t){t.volume(t.options.volume-.1)}},loop:{key:76,fn:function(t){t._loop(!t.options.loop)}}},verticalVolume:!1,verticalPlaybackRate:!1,globalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,consoleAlerts:!0,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,remaining:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,aurora:!0,flash:!0},format:{mp3:{codec:"audio/mpeg",flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},m3u8a:{codec:'application/vnd.apple.mpegurl; codecs="mp4a.40.2"',flashCanPlay:!1,media:"audio"},m3ua:{codec:"audio/mpegurl",flashCanPlay:!1,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis, opus"',flashCanPlay:!1,media:"audio"},flac:{codec:"audio/x-flac",flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},m3u8v:{codec:'application/vnd.apple.mpegurl; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!1,media:"video"},m3uv:{codec:"audio/mpegurl",flashCanPlay:!1,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var s=this;if(this.element.empty(),this.status=t.extend({},this.status),this.internal=t.extend({},this.internal),this.options.timeFormat=t.extend({},t.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=t.jPlayer.platform.ipad||t.jPlayer.platform.iphone||t.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!t.jPlayer.focus&&(t.jPlayer.focus=this),this.androidFix={setMedia:!1,play:!1,pause:!1,time:0/0},t.jPlayer.platform.android&&(this.options.preload="auto"!==this.options.preload?"metadata":"auto"),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.aurora={},this.aurora.formats=[],this.aurora.properties=[],this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),t.each(this.options.supplied.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.formats.push(a)}}),t.each(this.options.solution.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.solution[a]){var o=!1;t.each(s.solutions,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.solutions.push(a)}}),t.each(this.options.auroraFormats.toLowerCase().split(","),function(e,i){var a=i.replace(/^\s+|\s+$/g,"");if(s.format[a]){var o=!1;t.each(s.aurora.formats,function(t,e){return a===e?(o=!0,!1):void 0}),o||s.aurora.formats.push(a)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=t.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=t.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e}),this.internal.video=t.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e}),this.internal.flash=t.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"jquery.jplayer.swf":"")}),this.internal.poster=t.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e}),t.each(t.jPlayer.event,function(t,i){s.options[t]!==e&&(s.element.bind(i+".jPlayer",s.options[t]),s.options[t]=e)}),this.require.audio=!1,this.require.video=!1,t.each(this.formats,function(t,e){s.require[s.format[e].media]=!0}),this.options=this.require.video?t.extend(!0,{},this.optionsVideo,this.options):t.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),t.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!s.status.video||s.status.waitForPlay)&&s.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=t("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.aurora.canPlay={},this.flash.canPlay={},t.each(this.formats,function(e,i){s.html.canPlay[i]=s.html[s.format[i].media].available&&""!==s.htmlElement[s.format[i].media].canPlayType(s.format[i].codec),s.aurora.canPlay[i]=t.inArray(i,s.aurora.formats)>-1,s.flash.canPlay[i]=s.format[i].flashCanPlay&&s.flash.available}),this.html.desired=!1,this.aurora.desired=!1,this.flash.desired=!1,t.each(this.solutions,function(e,i){if(0===e)s[i].desired=!0;else{var a=!1,o=!1;t.each(s.formats,function(t,e){s[s.solutions[0]].canPlay[e]&&("video"===s.format[e].media?o=!0:a=!0)}),s[i].desired=s.require.audio&&!a||s.require.video&&!o}}),this.html.support={},this.aurora.support={},this.flash.support={},t.each(this.formats,function(t,e){s.html.support[e]=s.html.canPlay[e]&&s.html.desired,s.aurora.support[e]=s.aurora.canPlay[e]&&s.aurora.desired,s.flash.support[e]=s.flash.canPlay[e]&&s.flash.desired}),this.html.used=!1,this.aurora.used=!1,this.flash.used=!1,t.each(this.solutions,function(e,i){t.each(s.formats,function(t,e){return s[i].support[e]?(s[i].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.aurora.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:t.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SOLUTION,hint:t.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var i,a="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(t.jPlayer.browser.msie&&(Number(t.jPlayer.browser.version)<9||t.jPlayer.browser.documentMode<9)){var o='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>',r=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+a+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];i=document.createElement(o);for(var n=0;n<r.length;n++)i.appendChild(document.createElement(r[n]))}else{var l=function(t,e,s){var i=document.createElement("param");i.setAttribute("name",e),i.setAttribute("value",s),t.appendChild(i)};i=document.createElement("object"),i.setAttribute("id",this.internal.flash.id),i.setAttribute("name",this.internal.flash.id),i.setAttribute("data",this.internal.flash.swf),i.setAttribute("type","application/x-shockwave-flash"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("tabindex","-1"),l(i,"flashvars",a),l(i,"allowscriptaccess","always"),l(i,"bgcolor",this.options.backgroundColor),l(i,"wmode",this.options.wmode)}this.element.append(i),this.internal.flash.jq=t(i)}this.status.playbackRateEnabled=this.html.used&&!this.flash.used?this._testPlaybackRate("audio"):!1,this._updatePlaybackRate(),this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=t("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=t("#"+this.internal.video.id),this.internal.video.jq.css(this.status.nativeVideoControls?{width:this.status.width,height:this.status.height}:{width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){s._trigger(t.jPlayer.event.click)}))),this.aurora.used,this.options.emulateHtml&&this._emulateHtmlBridge(),!this.html.used&&!this.aurora.used||this.flash.used||setTimeout(function(){s.internal.ready=!0,s.version.flash="n/a",s._trigger(t.jPlayer.event.repeat),s._trigger(t.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),t.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),t.each(this.css.jq,function(t,e){e.length&&e.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===t.jPlayer.focus&&(t.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},destroyRemoved:function(){var e=this;t.each(this.instances,function(t,s){e.element!==s&&(s.data("jPlayer")||(s.jPlayer("destroy"),delete e.instances[t]))})},enable:function(){},disable:function(){},_testCanPlayType:function(t){try{return t.canPlayType(this.format.mp3.codec),!0}catch(e){return!1}},_testPlaybackRate:function(t){var e,s=.5;t="string"==typeof t?t:"audio",e=document.createElement(t);try{return"playbackRate"in e?(e.playbackRate=s,e.playbackRate===s):!1}catch(i){return!1}},_uaBlocklist:function(e){var s=navigator.userAgent.toLowerCase(),i=!1;return t.each(e,function(t,e){return e&&e.test(s)?(i=!0,!1):void 0}),i},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(e,s){var i=this;e.preload=this.options.preload,e.muted=this.options.muted,e.volume=this.options.volume,this.status.playbackRateEnabled&&(e.defaultPlaybackRate=this.options.defaultPlaybackRate,e.playbackRate=this.options.playbackRate),e.addEventListener("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress))},!1),e.addEventListener("loadeddata",function(){s.gate&&(i.androidFix.setMedia=!1,i.androidFix.play&&(i.androidFix.play=!1,i.play(i.androidFix.time)),i.androidFix.pause&&(i.androidFix.pause=!1,i.pause(i.androidFix.time)),i._trigger(t.jPlayer.event.loadeddata))},!1),e.addEventListener("timeupdate",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.timeupdate))},!1),e.addEventListener("durationchange",function(){s.gate&&(i._getHtmlStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.addEventListener("play",function(){s.gate&&(i._updateButtons(!0),i._html_checkWaitForPlay(),i._trigger(t.jPlayer.event.play))},!1),e.addEventListener("playing",function(){s.gate&&(i._updateButtons(!0),i._seeked(),i._trigger(t.jPlayer.event.playing))},!1),e.addEventListener("pause",function(){s.gate&&(i._updateButtons(!1),i._trigger(t.jPlayer.event.pause))},!1),e.addEventListener("waiting",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.waiting))},!1),e.addEventListener("seeking",function(){s.gate&&(i._seeking(),i._trigger(t.jPlayer.event.seeking))},!1),e.addEventListener("seeked",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.seeked))},!1),e.addEventListener("volumechange",function(){s.gate&&(i.options.volume=e.volume,i.options.muted=e.muted,i._updateMute(),i._updateVolume(),i._trigger(t.jPlayer.event.volumechange))},!1),e.addEventListener("ratechange",function(){s.gate&&(i.options.defaultPlaybackRate=e.defaultPlaybackRate,i.options.playbackRate=e.playbackRate,i._updatePlaybackRate(),i._trigger(t.jPlayer.event.ratechange))},!1),e.addEventListener("suspend",function(){s.gate&&(i._seeked(),i._trigger(t.jPlayer.event.suspend))},!1),e.addEventListener("ended",function(){s.gate&&(t.jPlayer.browser.webkit||(i.htmlElement.media.currentTime=0),i.htmlElement.media.pause(),i._updateButtons(!1),i._getHtmlStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.addEventListener("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(clearTimeout(i.internal.htmlDlyCmdId),i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1),t.each(t.jPlayer.htmlEvent,function(a,o){e.addEventListener(this,function(){s.gate&&i._trigger(t.jPlayer.event[o])},!1)})},_addAuroraEventListeners:function(e,s){var i=this;e.volume=100*this.options.volume,e.on("progress",function(){s.gate&&(i.internal.cmdsIgnored&&this.readyState>0&&(i.internal.cmdsIgnored=!1),i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.progress),e.duration>0&&i._trigger(t.jPlayer.event.timeupdate))},!1),e.on("ready",function(){s.gate&&i._trigger(t.jPlayer.event.loadeddata)},!1),e.on("duration",function(){s.gate&&(i._getAuroraStatus(e),i._updateInterface(),i._trigger(t.jPlayer.event.durationchange))},!1),e.on("end",function(){s.gate&&(i._updateButtons(!1),i._getAuroraStatus(e,!0),i._updateInterface(),i._trigger(t.jPlayer.event.ended))},!1),e.on("error",function(){s.gate&&(i._updateButtons(!1),i._seeked(),i.status.srcSet&&(i.status.waitForLoad=!0,i.status.waitForPlay=!0,i.status.video&&!i.status.nativeVideoControls&&i.internal.video.jq.css({width:"0px",height:"0px"}),i._validString(i.status.media.poster)&&!i.status.nativeVideoControls&&i.internal.poster.jq.show(),i.css.jq.videoPlay.length&&i.css.jq.videoPlay.show(),i._error({type:t.jPlayer.error.URL,context:i.status.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL})))},!1)},_getHtmlStatus:function(t,e){var s=0,i=0,a=0,o=0;isFinite(t.duration)&&(this.status.duration=t.duration),s=t.currentTime,i=this.status.duration>0?100*s/this.status.duration:0,"object"==typeof t.seekable&&t.seekable.length>0?(a=this.status.duration>0?100*t.seekable.end(t.seekable.length-1)/this.status.duration:100,o=this.status.duration>0?100*t.currentTime/t.seekable.end(t.seekable.length-1):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=t.readyState,this.status.networkState=t.networkState,this.status.playbackRate=t.playbackRate,this.status.ended=t.ended},_getAuroraStatus:function(t,e){var s=0,i=0,a=0,o=0;this.status.duration=t.duration/1e3,s=t.currentTime/1e3,i=this.status.duration>0?100*s/this.status.duration:0,t.buffered>0?(a=this.status.duration>0?t.buffered*this.status.duration/this.status.duration:100,o=this.status.duration>0?s/(t.buffered*this.status.duration):0):(a=100,o=i),e&&(s=0,o=0,i=0),this.status.seekPercent=a,this.status.currentPercentRelative=o,this.status.currentPercentAbsolute=i,this.status.currentTime=s,this.status.remaining=this.status.duration-this.status.currentTime,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_resetStatus:function(){this.status=t.extend({},this.status,t.jPlayer.prototype.status)},_trigger:function(e,s,i){var a=t.Event(e);a.jPlayer={},a.jPlayer.version=t.extend({},this.version),a.jPlayer.options=t.extend(!0,{},this.options),a.jPlayer.status=t.extend(!0,{},this.status),a.jPlayer.html=t.extend(!0,{},this.html),a.jPlayer.aurora=t.extend(!0,{},this.aurora),a.jPlayer.flash=t.extend(!0,{},this.flash),s&&(a.jPlayer.error=t.extend({},s)),i&&(a.jPlayer.warning=t.extend({},i)),this.element.trigger(a)},jPlayerFlashEvent:function(e,s){if(e===t.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,a=this.status.paused;this.setMedia(this.status.media),this.volumeWorker(this.options.volume),i>0&&(a?this.pause(i):this.play(i))}this._trigger(t.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=s.version,this.version.needFlash!==this.version.flash&&this._error({type:t.jPlayer.error.VERSION,context:this.version.flash,message:t.jPlayer.errorMsg.VERSION+this.version.flash,hint:t.jPlayer.errorHint.VERSION}),this._trigger(t.jPlayer.event.repeat),this._trigger(e);if(this.flash.gate)switch(e){case t.jPlayer.event.progress:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.timeupdate:this._getFlashStatus(s),this._updateInterface(),this._trigger(e);break;case t.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(e);break;case t.jPlayer.event.pause:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.ended:this._updateButtons(!1),this._trigger(e);break;case t.jPlayer.event.click:this._trigger(e);break;case t.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:t.jPlayer.error.URL,context:s.src,message:t.jPlayer.errorMsg.URL,hint:t.jPlayer.errorHint.URL});break;case t.jPlayer.event.seeking:this._seeking(),this._trigger(e);break;case t.jPlayer.event.seeked:this._seeked(),this._trigger(e);break;case t.jPlayer.event.ready:break;default:this._trigger(e)}return!1},_getFlashStatus:function(t){this.status.seekPercent=t.seekPercent,this.status.currentPercentRelative=t.currentPercentRelative,this.status.currentPercentAbsolute=t.currentPercentAbsolute,this.status.currentTime=t.currentTime,this.status.duration=t.duration,this.status.remaining=t.duration-t.currentTime,this.status.videoWidth=t.videoWidth,this.status.videoHeight=t.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(t){t===e?t=!this.status.paused:this.status.paused=!t,t?this.addStateClass("playing"):this.removeStateClass("playing"),!this.status.noFullWindow&&this.options.fullWindow?this.addStateClass("fullScreen"):this.removeStateClass("fullScreen"),this.options.loop?this.addStateClass("looped"):this.removeStateClass("looped"),this.css.jq.play.length&&this.css.jq.pause.length&&(t?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%"));var t="";this.css.jq.currentTime.length&&(t=this._convertTime(this.status.currentTime),t!==this.css.jq.currentTime.text()&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)));var e="",s=this.status.duration,i=this.status.remaining;this.css.jq.duration.length&&("string"==typeof this.status.media.duration?e=this.status.media.duration:("number"==typeof this.status.media.duration&&(s=this.status.media.duration,i=s-this.status.currentTime),e=this.options.remainingDuration?(i>0?"-":"")+this._convertTime(i):this._convertTime(s)),e!==this.css.jq.duration.text()&&this.css.jq.duration.text(e))},_convertTime:s.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg"),this.addStateClass("seeking")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg"),this.removeStateClass("seeking")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.aurora.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.aurora.active=!1,this.flash.active=!1},_escapeHtml:function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")},_qualifyURL:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+this._escapeHtml(t)+'">x</a>',e.firstChild.href
},_absoluteMediaUrls:function(e){var s=this;return t.each(e,function(t,i){i&&s.format[t]&&"data:"!==i.substr(0,5)&&(e[t]=s._qualifyURL(i))}),e},addStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.addClass(this.options.stateClass[t])},removeStateClass:function(t){this.ancestorJq.length&&this.ancestorJq.removeClass(this.options.stateClass[t])},setMedia:function(e){var s=this,i=!1,a=this.status.media.poster!==e.poster;this._resetMedia(),this._resetGate(),this._resetActive(),this.androidFix.setMedia=!1,this.androidFix.play=!1,this.androidFix.pause=!1,e=this._absoluteMediaUrls(e),t.each(this.formats,function(a,o){var r="video"===s.format[o].media;return t.each(s.solutions,function(a,n){if(s[n].support[o]&&s._validString(e[o])){var l="html"===n,h="aurora"===n;return r?(l?(s.html.video.gate=!0,s._html_setVideo(e),s.html.active=!0):(s.flash.gate=!0,s._flash_setVideo(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.show(),s.status.video=!0):(l?(s.html.audio.gate=!0,s._html_setAudio(e),s.html.active=!0,t.jPlayer.platform.android&&(s.androidFix.setMedia=!0)):h?(s.aurora.gate=!0,s._aurora_setAudio(e),s.aurora.active=!0):(s.flash.gate=!0,s._flash_setAudio(e),s.flash.active=!0),s.css.jq.videoPlay.length&&s.css.jq.videoPlay.hide(),s.status.video=!1),i=!0,!1}}),i?!1:void 0}),i?(this.status.nativeVideoControls&&this.html.video.gate||this._validString(e.poster)&&(a?this.htmlElement.poster.src=e.poster:this.internal.poster.jq.show()),"string"==typeof e.title&&(this.css.jq.title.length&&this.css.jq.title.html(e.title),this.htmlElement.audio&&this.htmlElement.audio.setAttribute("title",e.title),this.htmlElement.video&&this.htmlElement.video.setAttribute("title",e.title)),this.status.srcSet=!0,this.status.media=t.extend({},e),this._updateButtons(!1),this._updateInterface(),this._trigger(t.jPlayer.event.setmedia)):this._error({type:t.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:t.jPlayer.errorMsg.NO_SUPPORT,hint:t.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.aurora.active?this._aurora_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.aurora.active?this._aurora_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.aurora.active?this._aurora_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(t.jPlayer.focus=this)},play:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&!this.status.paused?this.pause(t):(t="number"==typeof t?t:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(t):this.aurora.active?this._aurora_play(t):this.flash.active&&this._flash_play(t)):this._urlNotSetError("play"))},videoPlay:function(){this.play()},pause:function(t){t="number"==typeof t?t:0/0,this.status.srcSet?this.html.active?this._html_pause(t):this.aurora.active?this._aurora_pause(t):this.flash.active&&this._flash_pause(t):this._urlNotSetError("pause")},tellOthers:function(e,s){var i=this,a="function"==typeof s,o=Array.prototype.slice.call(arguments);"string"==typeof e&&(a&&o.splice(1,1),t.jPlayer.prototype.destroyRemoved(),t.each(this.instances,function(){i.element!==this&&(!a||s.call(this.data("jPlayer"),i))&&this.jPlayer.apply(this,o)}))},pauseOthers:function(t){this.tellOthers("pause",function(){return this.status.srcSet},t)},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.aurora.active?this._aurora_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(t){t=this._limitValue(t,0,100),this.status.srcSet?this.html.active?this._html_playHead(t):this.aurora.active?this._aurora_playHead(t):this.flash.active&&this._flash_playHead(t):this._urlNotSetError("playHead")},_muted:function(t){this.mutedWorker(t),this.options.globalVolume&&this.tellOthers("mutedWorker",function(){return this.options.globalVolume},t)},mutedWorker:function(e){this.options.muted=e,this.html.used&&this._html_setProperty("muted",e),this.aurora.used&&this._aurora_mute(e),this.flash.used&&this._flash_mute(e),this.html.video.gate||this.html.audio.gate||(this._updateMute(e),this._updateVolume(this.options.volume),this._trigger(t.jPlayer.event.volumechange))},mute:function(t){var s="object"==typeof t;s&&this.options.useStateClassSkin&&this.options.muted?this._muted(!1):(t=t===e?!0:!!t,this._muted(t))},unmute:function(t){t=t===e?!0:!!t,this._muted(!t)},_updateMute:function(t){t===e&&(t=this.options.muted),t?this.addStateClass("muted"):this.removeStateClass("muted"),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):t?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(t){this.volumeWorker(t),this.options.globalVolume&&this.tellOthers("volumeWorker",function(){return this.options.globalVolume},t)},volumeWorker:function(e){e=this._limitValue(e,0,1),this.options.volume=e,this.html.used&&this._html_setProperty("volume",e),this.aurora.used&&this._aurora_volume(e),this.flash.used&&this._flash_volume(e),this.html.video.gate||this.html.audio.gate||(this._updateVolume(e),this._trigger(t.jPlayer.event.volumechange))},volumeBar:function(e){if(this.css.jq.volumeBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=s.height()-e.pageY+i.top,n=s.height();this.volume(this.options.verticalVolume?r/n:a/o)}this.options.muted&&this._muted(!1)},_updateVolume:function(t){t===e&&(t=this.options.volume),t=this.options.muted?0:t,this.status.noVolume?(this.addStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.removeStateClass("noVolume"),this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*t+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(e){var s=this;this.options.cssSelectorAncestor=e,this._removeUiClass(),this.ancestorJq=e?t(e):[],e&&1!==this.ancestorJq.length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),t.each(this.options.cssSelector,function(t,e){s._cssSelector(t,e)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(e,s){var i=this;if("string"==typeof s)if(t.jPlayer.prototype.options.cssSelector[e]){if(this.css.jq[e]&&this.css.jq[e].length&&this.css.jq[e].unbind(".jPlayer"),this.options.cssSelector[e]=s,this.css.cs[e]=this.options.cssSelectorAncestor+" "+s,this.css.jq[e]=s?t(this.css.cs[e]):[],this.css.jq[e].length&&this[e]){var a=function(s){s.preventDefault(),i[e](s),i.options.autoBlur?t(this).blur():t(this).focus()};this.css.jq[e].bind("click.jPlayer",a)}s&&1!==this.css.jq[e].length&&this._warning({type:t.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[e],message:t.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[e].length+" found for "+e+" method.",hint:t.jPlayer.warningHint.CSS_SELECTOR_COUNT})}else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_METHOD,context:e,message:t.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:t.jPlayer.warningHint.CSS_SELECTOR_METHOD});else this._warning({type:t.jPlayer.warning.CSS_SELECTOR_STRING,context:s,message:t.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:t.jPlayer.warningHint.CSS_SELECTOR_STRING})},duration:function(t){this.options.toggleDuration&&(this.options.captureDuration&&t.stopPropagation(),this._setOption("remainingDuration",!this.options.remainingDuration))},seekBar:function(e){if(this.css.jq.seekBar.length){var s=t(e.currentTarget),i=s.offset(),a=e.pageX-i.left,o=s.width(),r=100*a/o;this.playHead(r)}},playbackRate:function(t){this._setOption("playbackRate",t)},playbackRateBar:function(e){if(this.css.jq.playbackRateBar.length){var s,i,a=t(e.currentTarget),o=a.offset(),r=e.pageX-o.left,n=a.width(),l=a.height()-e.pageY+o.top,h=a.height();s=this.options.verticalPlaybackRate?l/h:r/n,i=s*(this.options.maxPlaybackRate-this.options.minPlaybackRate)+this.options.minPlaybackRate,this.playbackRate(i)}},_updatePlaybackRate:function(){var t=this.options.playbackRate,e=(t-this.options.minPlaybackRate)/(this.options.maxPlaybackRate-this.options.minPlaybackRate);this.status.playbackRateEnabled?(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.show(),this.css.jq.playbackRateBarValue.length&&(this.css.jq.playbackRateBarValue.show(),this.css.jq.playbackRateBarValue[this.options.verticalPlaybackRate?"height":"width"](100*e+"%"))):(this.css.jq.playbackRateBar.length&&this.css.jq.playbackRateBar.hide(),this.css.jq.playbackRateBarValue.length&&this.css.jq.playbackRateBarValue.hide())},repeat:function(t){var e="object"==typeof t;this._loop(e&&this.options.useStateClassSkin&&this.options.loop?!1:!0)},repeatOff:function(){this._loop(!1)},_loop:function(e){this.options.loop!==e&&(this.options.loop=e,this._updateButtons(),this._trigger(t.jPlayer.event.repeat))},option:function(s,i){var a=s;if(0===arguments.length)return t.extend(!0,{},this.options);if("string"==typeof s){var o=s.split(".");if(i===e){for(var r=t.extend(!0,{},this.options),n=0;n<o.length;n++){if(r[o[n]]===e)return this._warning({type:t.jPlayer.warning.OPTION_KEY,context:s,message:t.jPlayer.warningMsg.OPTION_KEY,hint:t.jPlayer.warningHint.OPTION_KEY}),e;r=r[o[n]]}return r}a={};for(var l=a,h=0;h<o.length;h++)h<o.length-1?(l[o[h]]={},l=l[o[h]]):l[o[h]]=i}return this._setOptions(a),this},_setOptions:function(e){var s=this;return t.each(e,function(t,e){s._setOption(t,e)}),this},_setOption:function(e,s){var i=this;switch(e){case"volume":this.volume(s);break;case"muted":this._muted(s);break;case"globalVolume":this.options[e]=s;break;case"cssSelectorAncestor":this._cssSelectorAncestor(s);break;case"cssSelector":t.each(s,function(t,e){i._cssSelector(t,e)});break;case"playbackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("playbackRate",s),this._updatePlaybackRate();break;case"defaultPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate,this.options.maxPlaybackRate),this.html.used&&this._html_setProperty("defaultPlaybackRate",s),this._updatePlaybackRate();break;case"minPlaybackRate":this.options[e]=s=this._limitValue(s,.1,this.options.maxPlaybackRate-.1),this._updatePlaybackRate();break;case"maxPlaybackRate":this.options[e]=s=this._limitValue(s,this.options.minPlaybackRate+.1,16),this._updatePlaybackRate();break;case"fullScreen":if(this.options[e]!==s){var a=t.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!a||a&&!this.status.waitForPlay)&&(a||(this.options[e]=s),s?this._requestFullscreen():this._exitFullscreen(),a||this._setOption("fullWindow",s))}break;case"fullWindow":this.options[e]!==s&&(this._removeUiClass(),this.options[e]=s,this._refreshSize());break;case"size":this.options.fullWindow||this.options[e].cssClass===s.cssClass||this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[e].cssClass!==s.cssClass&&this._removeUiClass(),this.options[e]=t.extend({},this.options[e],s),this._refreshSize();break;case"autohide":this.options[e]=t.extend({},this.options[e],s),this._updateAutohide();break;case"loop":this._loop(s);break;case"remainingDuration":this.options[e]=s,this._updateInterface();break;case"toggleDuration":this.options[e]=s;break;case"nativeVideoControls":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[e]=t.extend({},this.options[e],s),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[e]=t.extend({},this.options[e],s),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[e]!==s&&(this.options[e]=s,s?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[e]=t.extend({},this.options[e],s);break;case"keyEnabled":this.options[e]=s,s||this!==t.jPlayer.focus||(t.jPlayer.focus=null);break;case"keyBindings":this.options[e]=t.extend(!0,{},this.options[e],s);break;case"audioFullScreen":this.options[e]=s;break;case"autoBlur":this.options[e]=s}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(t.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var t=this,e="mousemove.jPlayer",s=".jPlayerAutohide",i=e+s,a=function(e){var s,i,a=!1;"undefined"!=typeof t.internal.mouse?(s=t.internal.mouse.x-e.pageX,i=t.internal.mouse.y-e.pageY,a=Math.floor(s)>0||Math.floor(i)>0):a=!0,t.internal.mouse={x:e.pageX,y:e.pageY},a&&t.css.jq.gui.fadeIn(t.options.autohide.fadeIn,function(){clearTimeout(t.internal.autohideId),t.internal.autohideId=setTimeout(function(){t.css.jq.gui.fadeOut(t.options.autohide.fadeOut)},t.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),delete this.internal.mouse,this.element.unbind(s),this.css.jq.gui.unbind(s),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind(i,a),this.css.jq.gui.bind(i,a),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(t){var e="object"==typeof t;e&&this.options.useStateClassSkin&&this.options.fullScreen?this._setOption("fullScreen",!1):this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var e=this,s=t.jPlayer.nativeFeatures.fullscreen;s.api.fullscreenEnabled&&s.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){e._fullscreenchange()}),document.addEventListener(s.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var e=t.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.removeEventListener(e.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!t.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var e=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.requestFullscreen(e)},_exitFullscreen:function(){var e,s=t.jPlayer.nativeFeatures.fullscreen;s.used.webkitVideo&&(e=this.htmlElement.video),s.api.fullscreenEnabled&&s.api.exitFullscreen(e)},_html_initMedia:function(e){var s=t(this.htmlElement.media).empty();t.each(e.track||[],function(t,e){var i=document.createElement("track");i.setAttribute("kind",e.kind?e.kind:""),i.setAttribute("src",e.src?e.src:""),i.setAttribute("srclang",e.srclang?e.srclang:""),i.setAttribute("label",e.label?e.label:""),e.def&&i.setAttribute("default",e.def),s.append(i)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(t.jPlayer.event.timeupdate)},_html_setFormat:function(e){var s=this;t.each(this.formats,function(t,i){return s.html.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0})},_html_setAudio:function(t){this._html_setFormat(t),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(t)},_html_setVideo:function(t){this._html_setFormat(t),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(t.poster)?t.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(t)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id!==this.internal.video.id||this.status.nativeVideoControls||this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.pause=!1,this._html_load(),this.androidFix.setMedia)this.androidFix.play=!0,this.androidFix.time=t;else if(isNaN(t))s.play();else{this.internal.cmdsIgnored&&s.play();try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t,s.play()}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.play(t)},250))}}this._html_checkWaitForPlay()},_html_pause:function(t){var e=this,s=this.htmlElement.media;if(this.androidFix.play=!1,t>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),s.pause(),this.androidFix.setMedia)this.androidFix.pause=!0,this.androidFix.time=t;else if(!isNaN(t))try{if(s.seekable&&!("object"==typeof s.seekable&&s.seekable.length>0))throw 1;s.currentTime=t}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.pause(t)},250))}t>0&&this._html_checkWaitForPlay()},_html_playHead:function(t){var e=this,s=this.htmlElement.media;this._html_load();try{if("object"==typeof s.seekable&&s.seekable.length>0)s.currentTime=t*s.seekable.end(s.seekable.length-1)/100;else{if(!(s.duration>0)||isNaN(s.duration))throw"e";s.currentTime=t*s.duration/100}}catch(i){return void(this.internal.htmlDlyCmdId=setTimeout(function(){e.playHead(t)},250))}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_setProperty:function(t,e){this.html.audio.available&&(this.htmlElement.audio[t]=e),this.html.video.available&&(this.htmlElement.video[t]=e)},_aurora_setAudio:function(e){var s=this;t.each(this.formats,function(t,i){return s.aurora.support[i]&&e[i]?(s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1):void 0}),this.aurora.player=new AV.Player.fromURL(this.status.src),this._addAuroraEventListeners(this.aurora.player,this.aurora),"auto"===this.options.preload&&(this._aurora_load(),this.status.waitForLoad=!1)},_aurora_resetMedia:function(){this.aurora.player&&this.aurora.player.stop()},_aurora_clearMedia:function(){},_aurora_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.aurora.player.preload())},_aurora_play:function(e){this.status.waitForLoad||isNaN(e)||this.aurora.player.seek(e),this.aurora.player.playing||this.aurora.player.play(),this.status.waitForLoad=!1,this._aurora_checkWaitForPlay(),this._updateButtons(!0),this._trigger(t.jPlayer.event.play)},_aurora_pause:function(e){isNaN(e)||this.aurora.player.seek(1e3*e),this.aurora.player.pause(),e>0&&this._aurora_checkWaitForPlay(),this._updateButtons(!1),this._trigger(t.jPlayer.event.pause)},_aurora_playHead:function(t){this.aurora.player.duration>0&&this.aurora.player.seek(t*this.aurora.player.duration/100),this.status.waitForLoad||this._aurora_checkWaitForPlay()},_aurora_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1)},_aurora_volume:function(t){this.aurora.player.volume=100*t},_aurora_mute:function(t){t?(this.aurora.properties.lastvolume=this.aurora.player.volume,this.aurora.player.volume=0):this.aurora.player.volume=this.aurora.properties.lastvolume,this.aurora.properties.muted=t},_flash_setAudio:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4a":case"fla":s._getMovie().fl_setAudio_m4a(e[i]);break;case"mp3":s._getMovie().fl_setAudio_mp3(e[i]);break;case"rtmpa":s._getMovie().fl_setAudio_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_setVideo:function(e){var s=this;try{t.each(this.formats,function(t,i){if(s.flash.support[i]&&e[i]){switch(i){case"m4v":case"flv":s._getMovie().fl_setVideo_m4v(e[i]);break;case"rtmpv":s._getMovie().fl_setVideo_rtmp(e[i])}return s.status.src=e[i],s.status.format[i]=!0,s.status.formatType=i,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(i){this._flashError(i)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(t){this._flashError(t)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(t){this._flashError(t)}this.status.waitForLoad=!1},_flash_play:function(t){try{this._getMovie().fl_play(t)}catch(e){this._flashError(e)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(t){try{this._getMovie().fl_pause(t)}catch(e){this._flashError(e)}t>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(t){try{this._getMovie().fl_play_head(t)}catch(e){this._flashError(e)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(t){try{this._getMovie().fl_volume(t)}catch(e){this._flashError(e)}},_flash_mute:function(t){try{this._getMovie().fl_mute(t)}catch(e){this._flashError(e)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var t,e=0;if(window.ActiveXObject)try{if(t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var s=t.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),e=parseInt(s[0],10)+"."+parseInt(s[1],10))}}catch(i){}else navigator.plugins&&navigator.mimeTypes.length>0&&(t=navigator.plugins["Shockwave Flash"],t&&(e=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1")));return 1*e},_checkForFlash:function(t){var e=!1;return this._getFlashPluginVersion()>=t&&(e=!0),e},_validString:function(t){return t&&"string"==typeof t},_limitValue:function(t,e,s){return e>t?e:t>s?s:t},_urlNotSetError:function(e){this._error({type:t.jPlayer.error.URL_NOT_SET,context:e,message:t.jPlayer.errorMsg.URL_NOT_SET,hint:t.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(e){var s;s=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:t.jPlayer.error[s],context:this.internal.flash.swf,message:t.jPlayer.errorMsg[s]+e.message,hint:t.jPlayer.errorHint[s]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(e){this._trigger(t.jPlayer.event.error,e),this.options.errorAlerts&&this._alert("Error!"+(e.message?"\n"+e.message:"")+(e.hint?"\n"+e.hint:"")+"\nContext: "+e.context)},_warning:function(s){this._trigger(t.jPlayer.event.warning,e,s),this.options.warningAlerts&&this._alert("Warning!"+(s.message?"\n"+s.message:"")+(s.hint?"\n"+s.hint:"")+"\nContext: "+s.context)},_alert:function(t){var e="jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+t;this.options.consoleAlerts?window.console&&window.console.log&&window.console.log(e):alert(e)},_emulateHtmlBridge:function(){var e=this;t.each(t.jPlayer.emulateMethods.split(/\s+/g),function(t,s){e.internal.domNode[s]=function(t){e[s](t)}}),t.each(t.jPlayer.event,function(s,i){var a=!0;t.each(t.jPlayer.reservedEvent.split(/\s+/g),function(t,e){return e===s?(a=!1,!1):void 0}),a&&e.element.bind(i+".jPlayer.jPlayerHtml",function(){e._emulateHtmlUpdate();var t=document.createEvent("Event");t.initEvent(s,!1,!0),e.internal.domNode.dispatchEvent(t)})})},_emulateHtmlUpdate:function(){var e=this;t.each(t.jPlayer.emulateStatus.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.status[s]}),t.each(t.jPlayer.emulateOptions.split(/\s+/g),function(t,s){e.internal.domNode[s]=e.options[s]})},_destroyHtmlBridge:function(){var e=this;this.element.unbind(".jPlayerHtml");var s=t.jPlayer.emulateMethods+" "+t.jPlayer.emulateStatus+" "+t.jPlayer.emulateOptions;t.each(s.split(/\s+/g),function(t,s){delete e.internal.domNode[s]})}},t.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},t.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+t.jPlayer.prototype.version.script+" needs Jplayer.swf version "+t.jPlayer.prototype.version.needFlash+" but found "},t.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},t.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},t.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},t.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.datepicker.js*/
define("common:widget/lib/jquery.ui/jquery.ui.datepicker",function(e){function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},s.extend(this._defaults,this.regional[""]),this.dpDiv=a(s("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){s(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&s(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&s(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){s.datepicker._isDisabledDatepicker(r.inline?e.parent()[0]:r.input[0])||(s(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),s(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&s(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&s(this).addClass("ui-datepicker-next-hover"))})}function i(e,t){s.extend(e,t);for(var a in t)null==t[a]&&(e[a]=t[a]);return e}var s=e("common:widget/lib/jquery/jquery");e("common:widget/lib/jquery.ui/jquery.ui.core"),s.extend(s.ui,{datepicker:{version:"1.10.3"}});var r,n="datepicker";s.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return i(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var a,i,r;a=e.nodeName.toLowerCase(),i="div"===a||"span"===a,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(s(e),i),r.settings=s.extend({},t||{}),"input"===a?this._connectDatepicker(e,r):i&&this._inlineDatepicker(e,r)},_newInst:function(e,t){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?a(s("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var a=s(e);t.append=s([]),t.trigger=s([]),a.hasClass(this.markerClassName)||(this._attachments(a,t),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),s.data(e,n,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var a,i,r,n=this._get(t,"appendText"),d=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=s("<span class='"+this._appendClass+"'>"+n+"</span>"),e[d?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),a=this._get(t,"showOn"),("focus"===a||"both"===a)&&e.focus(this._showDatepicker),("button"===a||"both"===a)&&(i=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=s(this._get(t,"buttonImageOnly")?s("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):s("<button type='button'></button>").addClass(this._triggerClass).html(r?s("<img/>").attr({src:r,alt:i,title:i}):i)),e[d?"before":"after"](t.trigger),t.trigger.click(function(){return s.datepicker._datepickerShowing&&s.datepicker._lastInput===e[0]?s.datepicker._hideDatepicker():s.datepicker._datepickerShowing&&s.datepicker._lastInput!==e[0]?(s.datepicker._hideDatepicker(),s.datepicker._showDatepicker(e[0])):s.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,i,s,r=new Date(2009,11,20),n=this._get(e,"dateFormat");n.match(/[DM]/)&&(t=function(e){for(a=0,i=0,s=0;s<e.length;s++)e[s].length>a&&(a=e[s].length,i=s);return i},r.setMonth(t(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(e,t){var a=s(e);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(t.dpDiv),s.data(e,n,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,a,r,d){var c,o,l,h,u,p=this._dialogInst;return p||(this.uuid+=1,c="dp"+this.uuid,this._dialogInput=s("<input type='text' id='"+c+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),s("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},s.data(this._dialogInput[0],n,p)),i(p.settings,r||{}),t=t&&t.constructor===Date?this._formatDate(p,t):t,this._dialogInput.val(t),this._pos=d?d.length?d:[d.pageX,d.pageY]:null,this._pos||(o=document.documentElement.clientWidth,l=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+h,l/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),s.blockUI&&s.blockUI(this.dpDiv),s.data(this._dialogInput[0],n,p),this},_destroyDatepicker:function(e){var t,a=s(e),i=s.data(e,n);a.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),s.removeData(e,n),"input"===t?(i.append.remove(),i.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===t||"span"===t)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var t,a,i=s(e),r=s.data(e,n);i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),"input"===t?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===t||"span"===t)&&(a=i.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=s.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,a,i=s(e),r=s.data(e,n);i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),"input"===t?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===t||"span"===t)&&(a=i.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=s.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return s.data(e,n)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,a){var r,n,d,c,o=this._getInst(e);return 2===arguments.length&&"string"==typeof t?"defaults"===t?s.extend({},s.datepicker._defaults):o?"all"===t?s.extend({},o.settings):this._get(o,t):null:(r=t||{},"string"==typeof t&&(r={},r[t]=a),void(o&&(this._curInst===o&&this._hideDatepicker(),n=this._getDateDatepicker(e,!0),d=this._getMinMaxDate(o,"min"),c=this._getMinMaxDate(o,"max"),i(o.settings,r),null!==d&&void 0!==r.dateFormat&&void 0===r.minDate&&(o.settings.minDate=this._formatDate(o,d)),null!==c&&void 0!==r.dateFormat&&void 0===r.maxDate&&(o.settings.maxDate=this._formatDate(o,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(s(e),o),this._autoSize(o),this._setDate(o,n),this._updateAlternate(o),this._updateDatepicker(o))))},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var a=this._getInst(e);a&&(this._setDate(a,t),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(e,t){var a=this._getInst(e);return a&&!a.inline&&this._setDateFromField(a,t),a?this._getDate(a):null},_doKeyDown:function(e){var t,a,i,r=s.datepicker._getInst(e.target),n=!0,d=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,s.datepicker._datepickerShowing)switch(e.keyCode){case 9:s.datepicker._hideDatepicker(),n=!1;break;case 13:return i=s("td."+s.datepicker._dayOverClass+":not(."+s.datepicker._currentClass+")",r.dpDiv),i[0]&&s.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,i[0]),t=s.datepicker._get(r,"onSelect"),t?(a=s.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[a,r])):s.datepicker._hideDatepicker(),!1;case 27:s.datepicker._hideDatepicker();break;case 33:s.datepicker._adjustDate(e.target,e.ctrlKey?-s.datepicker._get(r,"stepBigMonths"):-s.datepicker._get(r,"stepMonths"),"M");break;case 34:s.datepicker._adjustDate(e.target,e.ctrlKey?+s.datepicker._get(r,"stepBigMonths"):+s.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&s.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&s.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&s.datepicker._adjustDate(e.target,d?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&s.datepicker._adjustDate(e.target,e.ctrlKey?-s.datepicker._get(r,"stepBigMonths"):-s.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&s.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&s.datepicker._adjustDate(e.target,d?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&s.datepicker._adjustDate(e.target,e.ctrlKey?+s.datepicker._get(r,"stepBigMonths"):+s.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&s.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}else 36===e.keyCode&&e.ctrlKey?s.datepicker._showDatepicker(this):n=!1;n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,a,i=s.datepicker._getInst(e.target);return s.datepicker._get(i,"constrainInput")?(t=s.datepicker._possibleChars(s.datepicker._get(i,"dateFormat")),a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">a||!t||t.indexOf(a)>-1):void 0},_doKeyUp:function(e){var t,a=s.datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{t=s.datepicker.parseDate(s.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,s.datepicker._getFormatConfig(a)),t&&(s.datepicker._setDateFromField(a),s.datepicker._updateAlternate(a),s.datepicker._updateDatepicker(a))}catch(i){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=s("input",e.parentNode)[0]),!s.datepicker._isDisabledDatepicker(e)&&s.datepicker._lastInput!==e){var t,a,r,n,d,c,o;t=s.datepicker._getInst(e),s.datepicker._curInst&&s.datepicker._curInst!==t&&(s.datepicker._curInst.dpDiv.stop(!0,!0),t&&s.datepicker._datepickerShowing&&s.datepicker._hideDatepicker(s.datepicker._curInst.input[0])),a=s.datepicker._get(t,"beforeShow"),r=a?a.apply(e,[e,t]):{},r!==!1&&(i(t.settings,r),t.lastVal=null,s.datepicker._lastInput=e,s.datepicker._setDateFromField(t),s.datepicker._inDialog&&(e.value=""),s.datepicker._pos||(s.datepicker._pos=s.datepicker._findPos(e),s.datepicker._pos[1]+=e.offsetHeight),n=!1,s(e).parents().each(function(){return n|="fixed"===s(this).css("position"),!n}),d={left:s.datepicker._pos[0],top:s.datepicker._pos[1]},s.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),s.datepicker._updateDatepicker(t),d=s.datepicker._checkOffset(t,d,n),t.dpDiv.css({position:s.datepicker._inDialog&&s.blockUI?"static":n?"fixed":"absolute",display:"none",left:d.left+"px",top:d.top+"px"}),t.inline||(c=s.datepicker._get(t,"showAnim"),o=s.datepicker._get(t,"duration"),t.dpDiv.zIndex(s(e).zIndex()+1),s.datepicker._datepickerShowing=!0,s.effects&&s.effects.effect[c]?t.dpDiv.show(c,s.datepicker._get(t,"showOptions"),o):t.dpDiv[c||"show"](c?o:null),s.datepicker._shouldFocusInput(t)&&t.input.focus(),s.datepicker._curInst=t))}},_updateDatepicker:function(e){this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var t,a=this._getNumberOfMonths(e),i=a[1],n=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",n*i+"em"),e.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===s.datepicker._curInst&&s.datepicker._datepickerShowing&&s.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0)),s(e).trigger("update",{datepicker:e})},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,a){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),n=e.input?e.input.outerWidth():0,d=e.input?e.input.outerHeight():0,c=document.documentElement.clientWidth+(a?0:s(document).scrollLeft()),o=document.documentElement.clientHeight+(a?0:s(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-n:0,t.left-=a&&t.left===e.input.offset().left?s(document).scrollLeft():0,t.top-=a&&t.top===e.input.offset().top+d?s(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>c&&c>i?Math.abs(t.left+i-c):0),t.top-=Math.min(t.top,t.top+r>o&&o>r?Math.abs(r+d):0),t},_findPos:function(e){for(var t,a=this._getInst(e),i=this._get(a,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||s.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return t=s(e).offset(),[t.left,t.top]},_hideDatepicker:function(e){var t,a,i,r,d=this._curInst;!d||e&&d!==s.data(e,n)||this._datepickerShowing&&(t=this._get(d,"showAnim"),a=this._get(d,"duration"),i=function(){s.datepicker._tidyDialog(d)},s.effects&&(s.effects.effect[t]||s.effects[t])?d.dpDiv.hide(t,s.datepicker._get(d,"showOptions"),a,i):d.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?a:null,i),t||i(),this._datepickerShowing=!1,r=this._get(d,"onClose"),r&&r.apply(d.input?d.input[0]:null,[d.input?d.input.val():"",d]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),s.blockUI&&(s.unblockUI(),s("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(s.datepicker._curInst){var t=s(e.target),a=s.datepicker._getInst(t[0]);(t[0].id!==s.datepicker._mainDivId&&0===t.parents("#"+s.datepicker._mainDivId).length&&!t.hasClass(s.datepicker.markerClassName)&&!t.closest("."+s.datepicker._triggerClass).length&&s.datepicker._datepickerShowing&&(!s.datepicker._inDialog||!s.blockUI)||t.hasClass(s.datepicker.markerClassName)&&s.datepicker._curInst!==a)&&s.datepicker._hideDatepicker()}},_adjustDate:function(e,t,a){var i=s(e),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,t+("M"===a?this._get(r,"showCurrentAtPos"):0),a),this._updateDatepicker(r))},_gotoToday:function(e){var t,a=s(e),i=this._getInst(a[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(a)},_selectMonthYear:function(e,t,a){var i=s(e),r=this._getInst(i[0]);r["selected"+("M"===a?"Month":"Year")]=r["draw"+("M"===a?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(e,t,a,i){var r,n=s(e);s(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||(r=this._getInst(n[0]),r.selectedDay=r.currentDay=s("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=a,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=s(e);this._selectDate(t,"")},_selectDate:function(e,t){var a,i=s(e),r=this._getInst(i[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),a=this._get(r,"onSelect"),a?a.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,a,i,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),i=this.formatDate(t,a,this._getFormatConfig(e)),s(r).each(function(){s(this).val(i)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(e,t,a){if(null==e||null==t)throw"Invalid arguments";if(t="object"==typeof t?t.toString():t+"",""===t)return null;var i,r,n,d,c=0,o=(a?a.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof o?o:(new Date).getFullYear()%100+parseInt(o,10),h=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,u=(a?a.dayNames:null)||this._defaults.dayNames,p=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,g=(a?a.monthNames:null)||this._defaults.monthNames,_=-1,k=-1,f=-1,m=-1,D=!1,y=function(t){var a=i+1<e.length&&e.charAt(i+1)===t;return a&&i++,a},v=function(e){var a=y(e),i="@"===e?14:"!"===e?20:"y"===e&&a?4:"o"===e?3:2,s=new RegExp("^\\d{1,"+i+"}"),r=t.substring(c).match(s);if(!r)throw"Missing number at position "+c;return c+=r[0].length,parseInt(r[0],10)},M=function(e,a,i){var r=-1,n=s.map(y(e)?i:a,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(s.each(n,function(e,a){var i=a[1];return t.substr(c,i.length).toLowerCase()===i.toLowerCase()?(r=a[0],c+=i.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+c},w=function(){if(t.charAt(c)!==e.charAt(i))throw"Unexpected literal at position "+c;c++};for(i=0;i<e.length;i++)if(D)"'"!==e.charAt(i)||y("'")?w():D=!1;else switch(e.charAt(i)){case"d":f=v("d");break;case"D":M("D",h,u);break;case"o":m=v("o");break;case"m":k=v("m");break;case"M":k=M("M",p,g);break;case"y":_=v("y");break;case"@":d=new Date(v("@")),_=d.getFullYear(),k=d.getMonth()+1,f=d.getDate();break;case"!":d=new Date((v("!")-this._ticksTo1970)/1e4),_=d.getFullYear(),k=d.getMonth()+1,f=d.getDate();break;case"'":y("'")?w():D=!0;break;default:w()}if(c<t.length&&(n=t.substr(c),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===_?_=(new Date).getFullYear():100>_&&(_+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=_?0:-100)),m>-1)for(k=1,f=m;;){if(r=this._getDaysInMonth(_,k-1),r>=f)break;k++,f-=r}if(d=this._daylightSavingAdjust(new Date(_,k-1,f)),d.getFullYear()!==_||d.getMonth()+1!==k||d.getDate()!==f)throw"Invalid date";return d},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,a){if(!t)return"";var i,s=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,n=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,d=(a?a.monthNames:null)||this._defaults.monthNames,c=function(t){var a=i+1<e.length&&e.charAt(i+1)===t;return a&&i++,a},o=function(e,t,a){var i=""+t;if(c(e))for(;i.length<a;)i="0"+i;return i},l=function(e,t,a,i){return c(e)?i[t]:a[t]},h="",u=!1;if(t)for(i=0;i<e.length;i++)if(u)"'"!==e.charAt(i)||c("'")?h+=e.charAt(i):u=!1;else switch(e.charAt(i)){case"d":h+=o("d",t.getDate(),2);break;case"D":h+=l("D",t.getDay(),s,r);break;case"o":h+=o("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=o("m",t.getMonth()+1,2);break;case"M":h+=l("M",t.getMonth(),n,d);break;case"y":h+=c("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?h+="'":u=!0;break;default:h+=e.charAt(i)}return h},_possibleChars:function(e){var t,a="",i=!1,s=function(a){var i=t+1<e.length&&e.charAt(t+1)===a;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||s("'")?a+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":s("'")?a+="'":i=!0;break;default:a+=e.charAt(t)}return a},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var a=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),r=s,n=this._getFormatConfig(e);try{r=this.parseDate(a,i,n)||s}catch(d){i=t?"":i}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=i?r.getDate():0,e.currentMonth=i?r.getMonth():0,e.currentYear=i?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,a){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(t){try{return s.datepicker.parseDate(s.datepicker._get(e,"dateFormat"),t,s.datepicker._getFormatConfig(e))}catch(a){}for(var i=(t.toLowerCase().match(/^c/)?s.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),n=i.getMonth(),d=i.getDate(),c=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=c.exec(t);o;){switch(o[2]||"d"){case"d":case"D":d+=parseInt(o[1],10);break;case"w":case"W":d+=7*parseInt(o[1],10);break;case"m":case"M":n+=parseInt(o[1],10),d=Math.min(d,s.datepicker._getDaysInMonth(r,n));break;case"y":case"Y":r+=parseInt(o[1],10),d=Math.min(d,s.datepicker._getDaysInMonth(r,n))}o=c.exec(t)}return new Date(r,n,d)},n=null==t||""===t?a:"string"==typeof t?r(t):"number"==typeof t?isNaN(t)?a:i(t):new Date(t.getTime());return n=n&&"Invalid Date"===n.toString()?a:n,n&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,a){var i=!t,s=e.selectedMonth,r=e.selectedYear,n=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=n.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=n.getMonth(),e.drawYear=e.selectedYear=e.currentYear=n.getFullYear(),s===e.selectedMonth&&r===e.selectedYear||a||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),a="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){s.datepicker._adjustDate(a,-t,"M")},next:function(){s.datepicker._adjustDate(a,+t,"M")},hide:function(){s.datepicker._hideDatepicker()},today:function(){s.datepicker._gotoToday(a)},selectDay:function(){return s.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return s.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return s.datepicker._selectMonthYear(a,this,"Y"),!1}};s(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,a,i,s,r,n,d,c,o,l,h,u,p,g,_,k,f,m,D,y,v,M,w,b,C,I,x,Y,N,F,S,T,A,j,K,O,R,L,E,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),P=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),X=this._get(e,"stepMonths"),Z=1!==q[0]||1!==q[1],$=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Q=e.drawMonth-V,et=e.drawYear;if(0>Q&&(Q+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),t=G&&G>t?G:t;this._daylightSavingAdjust(new Date(et,Q,1))>t;)Q--,0>Q&&(Q=11,et--);for(e.drawMonth=Q,e.drawYear=et,a=this._get(e,"prevText"),a=B?this.formatDate(a,this._daylightSavingAdjust(new Date(et,Q-X,1)),this._getFormatConfig(e)):a,i=this._canAdjustMonth(e,-1,et,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"e":"w")+"'>"+a+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"e":"w")+"'>"+a+"</span></a>",s=this._get(e,"nextText"),s=B?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Q+X,1)),this._getFormatConfig(e)):s,r=this._canAdjustMonth(e,1,et,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"w":"e")+"'>"+s+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"w":"e")+"'>"+s+"</span></a>",n=this._get(e,"currentText"),d=this._get(e,"gotoCurrent")&&e.currentDay?$:W,n=B?this.formatDate(n,d,this._getFormatConfig(e)):n,c=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",o=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(P?c:"")+(this._isInRange(e,d)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+n+"</button>":"")+(P?"":c)+"</div>":"",l=parseInt(this._get(e,"firstDay"),10),l=isNaN(l)?0:l,h=this._get(e,"showWeek"),u=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),_=this._get(e,"monthNamesShort"),k=this._get(e,"beforeShowDay"),f=this._get(e,"showOtherMonths"),m=this._get(e,"selectOtherMonths"),D=this._getDefaultDate(e),y="",M=0;M<q[0];M++){for(w="",this.maxRows=4,b=0;b<q[1];b++){if(C=this._daylightSavingAdjust(new Date(et,Q,e.selectedDay)),I=" ui-corner-all",x="",Z){if(x+="<div class='ui-datepicker-group",q[1]>1)switch(b){case 0:x+=" ui-datepicker-group-first",I=" ui-corner-"+(P?"right":"left");break;case q[1]-1:x+=" ui-datepicker-group-last",I=" ui-corner-"+(P?"left":"right");break;default:x+=" ui-datepicker-group-middle",I=""}x+="'>"}for(x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===M?P?r:i:"")+(/all|right/.test(I)&&0===M?P?i:r:"")+this._generateMonthYearHeader(e,Q,et,G,J,M>0||b>0,g,_)+"</div><table class='ui-datepicker-calendar'><thead><tr>",Y=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",v=0;7>v;v++)N=(v+l)%7,Y+="<th"+((v+l+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+u[N]+"'>"+p[N]+"</span></th>";for(x+=Y+"</tr></thead><tbody>",F=this._getDaysInMonth(et,Q),et===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,F)),S=(this._getFirstDayOfMonth(et,Q)-l+7)%7,T=Math.ceil((S+F)/7),A=Z&&this.maxRows>T?this.maxRows:T,this.maxRows=A,j=this._daylightSavingAdjust(new Date(et,Q,1-S)),K=0;A>K;K++){for(x+="<tr>",O=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",v=0;7>v;v++)R=k?k.apply(e.input?e.input[0]:null,[j]):[!0,""],L=j.getMonth()!==Q,E=L&&!m||!R[0]||G&&G>j||J&&j>J,O+="<td class='"+((v+l+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(j.getTime()===C.getTime()&&Q===e.selectedMonth&&e._keyEvent||D.getTime()===j.getTime()&&D.getTime()===C.getTime()?" "+this._dayOverClass:"")+(E?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!f?"":" "+R[1]+(j.getTime()===$.getTime()?" "+this._currentClass:"")+(j.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(L&&!f||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(E?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(L&&!f?"&#xa0;":E?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===W.getTime()?" ui-state-highlight":"")+(j.getTime()===$.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);x+=O+"</tr>"}Q++,Q>11&&(Q=0,et++),x+="</tbody></table>"+(Z?"</div>"+(q[0]>0&&b===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=x}y+=w}return y+=o,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,a,i,s,r,n,d){var c,o,l,h,u,p,g,_,k=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),m=this._get(e,"showMonthAfterYear"),D="<div class='ui-datepicker-title'>",y="";if(r||!k)y+="<span class='ui-datepicker-month'>"+n[t]+"</span>";else{for(c=i&&i.getFullYear()===a,o=s&&s.getFullYear()===a,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",l=0;12>l;l++)(!c||l>=i.getMonth())&&(!o||l<=s.getMonth())&&(y+="<option value='"+l+"'"+(l===t?" selected='selected'":"")+">"+d[l]+"</option>");y+="</select>"}if(m||(D+=y+(!r&&k&&f?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!f)D+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(h=this._get(e,"yearRange").split(":"),u=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10);
return isNaN(t)?u:t},g=p(h[0]),_=Math.max(g,p(h[1]||"")),g=i?Math.max(g,i.getFullYear()):g,_=s?Math.min(_,s.getFullYear()):_,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";_>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===a?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",D+=e.yearshtml,e.yearshtml=null}return D+=this._get(e,"yearSuffix"),m&&(D+=(!r&&k&&f?"":"&#xa0;")+y),D+="</div>"},_adjustInstDate:function(e,t,a){var i=e.drawYear+("Y"===a?t:0),s=e.drawMonth+("M"===a?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,s))+("D"===a?t:0),n=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,s,r)));e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),("M"===a||"Y"===a)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),s=a&&a>t?a:t;return i&&s>i?i:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,i){var s=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(a,i+(0>t?t:s[0]*s[1]),1));return 0>t&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var a,i,s=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),n=null,d=null,c=this._get(e,"yearRange");return c&&(a=c.split(":"),i=(new Date).getFullYear(),n=parseInt(a[0],10),d=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(n+=i),a[1].match(/[+\-].*/)&&(d+=i)),(!s||t.getTime()>=s.getTime())&&(!r||t.getTime()<=r.getTime())&&(!n||t.getFullYear()>=n)&&(!d||t.getFullYear()<=d)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),s.fn.datepicker=function(e){if(!this.length)return this;s.datepicker.initialized||(s(document).mousedown(s.datepicker._checkExternalClick),s.datepicker.initialized=!0),0===s("#"+s.datepicker._mainDivId).length&&s("body").append(s.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?s.datepicker["_"+e+"Datepicker"].apply(s.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?s.datepicker["_"+e+"Datepicker"].apply(s.datepicker,[this].concat(t)):s.datepicker._attachDatepicker(this,e)}):s.datepicker["_"+e+"Datepicker"].apply(s.datepicker,[this[0]].concat(t))},s.datepicker=new t,s.datepicker.initialized=!1,s.datepicker.uuid=(new Date).getTime(),s.datepicker.version="1.10.3"});
;/*!common:widget/lib/jquery.ui/jquery.ui.sortable.js*/
define("common:widget/lib/jquery.ui/jquery.ui.sortable",function(t){var e=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.widget"),t("common:widget/lib/jquery.ui/jquery.ui.position"),t("common:widget/lib/jquery.ui/jquery.ui.mouse"),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&e+i>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var s=null,o=!1,r=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,r.widgetName+"-item")===r?(s=e(this),!1):void 0}),e.data(t.target,r.widgetName+"-item")===r&&(s=e(t.target)),s&&(!this.options.handle||i||(e(this.options.handle,s).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,s){var o,r,n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),this.storedStylesheet=e("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,s,o,r,n=this.options,h=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?h=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(h=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?h=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(h=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),h!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],o=s.item[0],r=this._intersectsWithPointer(s),r&&s.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};r&&"x"!==r||(n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&s.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!s.length&&t.key&&s.push(t.key+"="),s.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),s=[];return t=t||{},i.each(function(){s.push(e(t.item||this).attr(t.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&a>s+l,f="y"===this.options.axis||e+c>r&&n>e+c,u=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=e&&i,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return s?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function i(){h.push(this)}var s,o,r,n,h=[],a=[],l=this._connectWith();if(l&&t)for(s=l.length-1;s>=0;s--)for(r=e(l[s]),o=r.length-1;o>=0;o--)n=e.data(r[o],this.widgetFullName),n&&n!==this&&!n.options.disabled&&a.push([e.isFunction(n.options.items)?n.options.items.call(n.element):e(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return e(h)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,s,o,r,n,h,a,l,c=this.items,p=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(o=e(f[i]),s=o.length-1;s>=0;s--)r=e.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(p.push([e.isFunction(r.options.items)?r.options.items.call(r.element[0],t,{item:this.currentItem}):e(r.options.items,r.element),r]),this.containers.push(r));for(i=p.length-1;i>=0;i--)for(n=p[i][1],h=p[i][0],s=0,l=h.length;l>s;s++)a=e(h[s]),a.data(this.widgetName+"-item",n),c.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,o,r;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,s.item):s.item,t||(s.width=o.outerWidth(),s.height=o.outerHeight()),r=o.offset(),s.left=r.left,s.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,s=t.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+s+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)}):"img"===s&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||s.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(s.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),s.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,r,n,h,a,l,c,p,f=null,u=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&e.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],u=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(o=1e4,r=null,c=f.floating||this._isFloating(this.currentItem),n=c?"left":"top",h=c?"width":"height",p=c?"clientX":"clientY",s=this.items.length-1;s>=0;s--)e.contains(this.containers[u].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[n],l=!1,t[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(t[p]-a)<o&&(o=Math.abs(t[p]-a),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return;r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),s="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(t){var i,s,o=this.options,r=t.pageX,n=t.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||o.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(o.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;s<o.length;s++)o[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;s<o.length;s++)o[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}})});
;/*!common:widget/lib/jquery.ui/jquery.ui.tabs.js*/
define("common:widget/lib/jquery.ui/jquery.ui.tabs",function(t){function e(){return++s}function i(t){var e=!1;try{e=t.hash.length>1&&decodeURIComponent(t.href.replace(n,""))===decodeURIComponent(location.href.replace(n,""))}catch(i){e=t.hash.length>1&&t.href.replace(n,"")===location.href.replace(n,"")}return e}var a=t("common:widget/lib/jquery/jquery");t("common:widget/lib/jquery.ui/jquery.ui.core"),t("common:widget/lib/jquery.ui/jquery.ui.widget");var s=0,n=/#.*$/;a.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,e=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(t){a(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),e.active=this._initialActive(),a.isArray(e.disabled)&&(e.disabled=a.unique(e.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(e.active):a(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var t=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(e,s){return a(s).attr("aria-controls")===i?(t=e,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=e?!1:0)),!e&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(t){var e=a(this.document[0].activeElement).closest("li"),i=this.tabs.index(e),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:i++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:s=!1,i--;break;case a.ui.keyCode.END:i=this.anchors.length-1;break;case a.ui.keyCode.HOME:i=0;break;case a.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case a.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i===this.options.active?!1:i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===a.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){function i(){return t>s&&(t=0),0>t&&(t=s),t}for(var s=this.tabs.length-1;-1!==a.inArray(i(),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+e()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=a.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(e,s){var n,r,o,h=a(s).uniqueId().attr("id"),l=a(s).closest("li"),c=l.attr("aria-controls");i(s)?(n=s.hash,r=t.element.find(t._sanitizeSelector(n))):(o=t._tabId(l),n="#"+o,r=t.element.find(n),r.length||(r=t._createPanel(o),r.insertAfter(t.panels[e-1]||t.tablist)),r.attr("aria-live","polite")),r.length&&(t.panels=t.panels.add(r)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":n.substring(1),"aria-labelledby":h}),r.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(t){return a("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){a.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var e,i=0;e=this.tabs[i];i++)t===!0||-1!==a.inArray(i,t)?a(e).addClass("ui-state-disabled").attr("aria-disabled","true"):a(e).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var e={click:function(t){t.preventDefault()}};t&&a.each(t.split(" "),function(t,i){e[i]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,e),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var e,i=this.element.parent();"fill"===t?(e=i.height(),e-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=a(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(e-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){e-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===t&&(e=0,this.panels.each(function(){e=Math.max(e,a(this).height("").height())}).height(e))},_eventHandler:function(t){var e=this.options,i=this.active,s=a(t.currentTarget),n=s.closest("li"),r=n[0]===i[0],o=r&&e.collapsible,h=o?a():this._getPanelForTab(n),l=i.length?this._getPanelForTab(i):a(),c={oldTab:i,oldPanel:l,newTab:o?a():n,newPanel:h};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!e.collapsible||this._trigger("beforeActivate",t,c)===!1||(e.active=o?!1:this.tabs.index(n),this.active=r?a():n,this.xhr&&this.xhr.abort(),l.length||h.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(n),t),this._toggle(t,c))},_toggle:function(t,e){function i(){n.running=!1,n._trigger("activate",t,e)}function s(){e.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&n.options.show?n._show(r,n.options.show,i):(r.show(),i())}var n=this,r=e.newPanel,o=e.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(e.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o.hide(),s()),o.attr({"aria-expanded":"false","aria-hidden":"true"}),e.oldTab.attr("aria-selected","false"),r.length&&o.length?e.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),e.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(t){var e,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),e=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:a.noop}))},_findActive:function(t){return t===!1?a():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=a(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var e=this.options.disabled;e!==!1&&(void 0===t?e=!1:(t=this._getIndex(t),e=a.isArray(e)?a.map(e,function(e){return e!==t?e:null}):a.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(e))},disable:function(t){var e=this.options.disabled;if(e!==!0){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==a.inArray(t,e))return;e=a.isArray(e)?a.merge([t],e).sort():[t]}this._setupDisabled(e)}},load:function(t,e){t=this._getIndex(t);var s=this,n=this.tabs.eq(t),r=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),h={tab:n,panel:o};i(r[0])||(this.xhr=a.ajax(this._ajaxSettings(r,e,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){o.html(t),s._trigger("load",e,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&s.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(t,e,i){var s=this;return{url:t.attr("href"),beforeSend:function(t,n){return s._trigger("beforeLoad",e,a.extend({jqXHR:t,ajaxSettings:n},i))}}},_getPanelForTab:function(t){var e=a(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}})});
;/*!common:widget/userbar-new/userbar-new.js*/
define("common:widget/userbar-new/userbar-new",function(e){function t(){i("#userbar-login").click(function(e){r.fire("login.check"),e.preventDefault()});var e=i("#userbar-reg");if(e.length){var t=e.attr("href")+encodeURIComponent(window.location.href);e.attr("href",t)}i("#userbar-logout").attr("href","http://passport.baidu.com/?logout&aid=7&u="+escape(location.href)).mousedown(function(){n.send({url:location.href,type:"2046",action:"logout"})});var u=i("#no-username-set").click(function(e){r.fire("login.setUsername"),e.preventDefault()});u.length&&n.send({type:2030,pv_from:"usrbar"}),new o("user-name","username-sublist",{right:-i(".sublist-container").width()/2+i("#user-name").width()/2,top:0})}function o(e,t,o){var n=this,u=i("#"+e),s=i("#"+t);n.timeout=0,u.mouseover(function(){clearTimeout(n.timeout);var e=(i(window).width(),i("#userbar").outerWidth(),i(this).position());i.isNumber(o.right)&&(o.left=u.outerWidth()-s.width()-o.right),s.css({top:o.top,left:e.left+o.left}).show(),r.fire("userbar.show",{waiting:!0})}).mouseout(function(){n.timeout=setTimeout(function(){s.hide(),clearTimeout(n.timeoutId),r.fire("userbar.hide",{waiting:!1})},100)}),s.mouseover(function(){clearTimeout(n.timeout),s.show(),r.fire("userbar.show",{waiting:!0})}).mouseout(function(){u.mouseout()}),s.find("li a").mouseover(function(){i(this).addClass("userbar-li-mover").parent().addClass("userbar-li-mover")}).mouseout(function(){i(this).removeClass("userbar-li-mover").parent().removeClass("userbar-li-mover")})}{var i=e("common:widget/js/util/tangram/tangram"),r=e("common:widget/js/util/event/event"),n=(e("common:widget/js/logic/login/login"),e("common:widget/js/util/log/log"));e("common:widget/js/util/store/store")}t()});