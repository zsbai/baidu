!function(e){function t(t){for(var r,u,c=t[0],s=t[1],f=t[2],l=t[3]||[],p=0,g=[];p<c.length;p++)u=c[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&g.push(o[u][0]),o[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(d&&d(t),a.push.apply(a,l);g.length;)g.shift()();return i.push.apply(i,f||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var f=n[s];0!==o[f]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return 0===i.length&&(a.forEach((function(e){if(void 0===o[e]){o[e]=null;var t=document.createElement("link");c.nc&&t.setAttribute("nonce",c.nc),t.rel="prefetch",t.as="script",t.href=u(e),document.head.appendChild(t)}})),a.length=0),e}var r={},o={0:0},i=[],a=[];function u(e){return c.p+"loki/static/js/"+({4:"vendorsloki-cssVarsPonyfill",5:"vendorsloki-log",6:"vendorsloki-request"}[e]||e)+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,a=document.createElement("script");a.charset="utf-8",a.timeout=120,c.nc&&a.setAttribute("nonce",c.nc),a.src=u(e);var s=new Error;i=function(t){a.onerror=a.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,n[1](s)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:a})}),12e4);a.onerror=a.onload=i,document.head.appendChild(a)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://wjz-cdn.baidu.com/loki/client/",c.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],f=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=f,p=(i.push([362,1,2]),n());t([[],{},0,[5,6]])}({116:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},158:function(e,t,n){"use strict";var r=null,o=function(){if(null===r){r={};for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e[t];if(n&&n.src){var o=n.src;r[o]={promise:Promise.resolve(o)}}}}},i=function(e){var t=e.loadStatus,n=e.widgetUrl,i=e.promise;return null===r&&o(),r[n]={loadStatus:t,promise:i},r},a=function(e){var t=e.script,n=e.widgetUrl,o=new Promise((function(e,o){t.onload=function(){i({widgetUrl:n,promise:e(n)}),e(n)},t.onerror=function(){!function(e){null===r||delete r[e]}(n),o(new Error("load ".concat(n," fail")))}}));return i({widgetUrl:n,promise:o}),o},u=function(e){var t=function(e){return null===r&&o(),r[e]}(e);return t?t.promise:function(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,document.body.appendChild(t),a({script:t,widgetUrl:e})}(e)};e.exports=function(e){return e?"undefined"==typeof window||void 0===window.document?Promise.reject(new Error("dynamic loaded widget must in browser env")):u(e):Promise.reject(new Error("widgetUrl is undefined，please check it"))}},159:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,s=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&p())}function p(){if(!f){var e=u(d);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new g(e,t)),1!==s.length||f||u(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},163:function(e,t,n){"use strict";var r=n(70);n.n(r).a},164:function(e,t,n){"use strict";var r=n(71);n.n(r).a},165:function(e,t,n){"use strict";var r=n(72);n.n(r).a},166:function(e,t,n){"use strict";var r=n(73);n.n(r).a},206:function(e,t,n){},207:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(208),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(38))},208:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,u,c=1,s={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){g(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){g(e.data)},r=function(e){i.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(g,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&g(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return s[c]=o,r(c),c++},d.clearImmediate=p}function p(e){delete s[e]}function g(e){if(f)setTimeout(g,0,e);else{var t=s[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(38),n(159))},362:function(e,t,n){"use strict";n.r(t);n(160);var r=n(74);function o(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function i(){if(window)return!(window.CSS&&window.CSS.supports&&window.CSS.supports("(--foo: red)"))}var a=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(4).then(n.bind(null,421));case 2:e.sent.default({watch:!0});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){o(a,r,i,u,c,"next",e)}function c(e){o(a,r,i,u,c,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}(),u=(n(161),n(156)),c=n.n(u),s=(n(162),n(157)),f=n.n(s),l=function(e,t){if(!t||"number"!=typeof t)return e;if("number"!=typeof e&&"".concat(e).indexOf("px")<0)return e;var n=+"".concat(e).split("px")[0];return n&&"number"==typeof n?"".concat(n/t,"em"):e};function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=["mSizeHeight","mSizeWidth","mPosX","mPosY"],g={mSizeHeight:"height",mSizeWidth:"width",mPosX:"left",mPosY:"top"},h={mPosX:!0,mPosY:!0},m=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=-1,r=0;r<t.length;r++)if(t[r]===e){n=r;break}return n},v="m-loki-before-create",y="m-loki-created",w="m-loki-before-mount",b="m-loki-mounted",O="m-loki-window-resize",k="m-loki-window-scroll",P=[v,y,w,b,O,k],j={},L=function(){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;j.clientWidth=t,j.clientHeight=n},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useCache:!0},t=e.useCache,n=j.clientWidth,r=j.clientHeight;return t&&n&&r||L(),j};function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!e)throw new Error("[loki] ".concat(t))}function I(e){return Object.prototype.toString.call(e)}function T(e,t){for(var n=[e];n.length;){var r=t(n.pop());if(Array.isArray(r)){var o,i=x(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.push(a)}}catch(e){i.e(e)}finally{i.f()}}}}var _="editor";function R(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var D={name:"MLokiWidget",data:function(){return{isInViewport:!1}},props:{widgetIndex:{type:Number,required:!0},defaultLayout:{type:Object,required:!0}},computed:{widgetConfig:function(){return this.$loki.getWidgetConfig(this.widgetIndex)},isPageForceRender:function(){var e=this.$loki.getData("env");return"[object Object]"===I(e)&&e.platform&&e.platform===_},childComponent:function(){return this.$root.$options.components[this.widgetConfig.type]},curWidget:function(){return this.childComponent?this.widgetConfig.type:null},isChildNeedPrerender:function(){return!!this.isPageForceRender||!(!this.childComponent||"function"!=typeof this.childComponent.$lokiPrerender)&&this.childComponent.$lokiPrerender(this.$loki.getData())},isChildRender:function(){return!(!this.curWidgetIsShow||!this.isChildNeedPrerender&&!this.isInViewport)},widgetStyle:function(){return function(e,t){var n={},r=e||{},o=r.mPosRotate,i=d(r,["mPosRotate"]);for(var a in o&&o.value&&"number"==typeof o.value&&(n.transform="rotate(".concat(o.value,"deg)")),i)i.hasOwnProperty(a)&&m(a,p)>-1&&(n[g[a]]=l(i[a].value,t),h[a]&&!n.position&&(n.position="absolute"));return n}(this.widgetConfig.properties||{},this.defaultLayout.defaultFontSize)},curWidgetIsShow:function(){var e=this.widgetConfig.properties||{};return!e.hasOwnProperty("mShow")||e.mShow}},mounted:function(){this.isChildNeedPrerender||(this.setIsInViewPort(),this.addViewportEvent())},destroyed:function(){this.removeViewportEvent()},methods:{setIsInViewPort:function(e){if(!this.isInViewport){var t=this.$el.getBoundingClientRect(),n=t.top,r=t.left,o=t.right,i=t.bottom,a=e||S(),u=a.clientWidth,c=!(n>a.clientHeight+200||i<-200||r>u+200||o<-200);c&&this.removeViewportEvent(),this.isInViewport=c}},addViewportEvent:function(){this.$loki.onEvent(k,this.setIsInViewPort),this.$loki.onEvent(O,this.setIsInViewPort)},removeViewportEvent:function(){this.$loki.offEvent(k,this.setIsInViewPort),this.$loki.offEvent(O,this.setIsInViewPort)},childClicked:function(e){var t,n=this;return(t=regeneratorRuntime.mark((function e(){var t,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.widgetConfig,r=t.id,o=t.name,i=t.type,a=t.title,e.next=3,n.$loki.getLogger();case 3:e.sent.baseActions.addCompLog({id:r,name:o,type:i,title:a});case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){R(i,r,o,a,u,"next",e)}function u(e){R(i,r,o,a,u,"throw",e)}a(void 0)}))})()}}},$=(n(163),n(14)),A=Object($.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"m-loki-widget",style:e.widgetStyle,attrs:{"widget-container":e.widgetConfig.widgetInfoId}},[e.isChildRender&&null!==e.curWidget?n("div",{staticClass:"child-widget-container",on:{click:e.childClicked}},[n(e.curWidget,{tag:"component",attrs:{"data-widget-info-id":e.widgetConfig.widgetInfoId,"widget-info-id":e.widgetConfig.widgetInfoId,properties:e.widgetConfig.properties,"widget-mold-name":e.widgetConfig.widgetMoldName}})],1):e._e()])}),[],!1,null,"c2005fcc",null).exports,M=0;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var N=function(e){return function(e){return(e&&"object"===F(e)&&e.pageInfo||{}).showType}(e)===M},W=function(e){return"number"==typeof e?"".concat(e,"px"):e};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){var t=e.width,n=e.columns,r=e.gutter,o=e.span;return((t-(n-1)*r)/n*o+(o-1)*r)/e.mSizeRatio},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultLayout,n=void 0===t?{}:t,r=e.colProperties,o=void 0===r?{}:r,i=n.width,a=n.gutter,u=void 0===a?10:a,c=n.columns,s=void 0===c?24:c;if(i){var f=o.mSizeRatio,l=o.mLayout,d=void 0===l?{}:l,p=o.mSizeHeight;if(p)return p;if(f){var g=d.span||24;return q({width:i,columns:s,gutter:u,span:g,mSizeRatio:f})}}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,n=e.backgroundImg;return t||n?t&&"string"==typeof t?{"background-color":t}:n&&"string"==typeof n?{"background-image":"url(".concat(n,")"),"background-size":"cover"}:void 0:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(N(e))return"1rem";var n=t&&t.mLayout&&t.mLayout.fontSize||null;return W(n||"1em")},K={name:"MLokiModule",components:{MLokiWidget:A,MLokiCol:f.a},props:{widgetIndex:{type:Number,required:!0},defaultLayout:{type:Object,required:!0}},computed:{widgetConfig:function(){return this.$loki.getWidgetConfig(this.widgetIndex)},child:function(){return this.widgetConfig.child||[]},properties:function(){return this.widgetConfig&&this.widgetConfig.properties||{}},colLayout:function(){var e=this.properties.mLayout||{};return{offset:e.offset||0,span:e.span||24}},moduleStyle:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={},o=e.defaultFontSize,i=B({defaultLayout:e,colProperties:t});i&&(r.height=l(i,o));var a=H(n,t);a&&(r.fontSize=a);var u=G(t);return u&&(r=V(V({},r),u)),r}(this.defaultLayout,this.properties,this.$loki.getData("pageConfig"))},widgetLayout:function(){return{defaultFontSize:this.defaultLayout.defaultFontSize}},curModuleIsShow:function(){return!this.properties.hasOwnProperty("mShow")||this.properties.mShow}}},J=(n(164),Object($.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.curModuleIsShow?n("m-loki-col",{staticClass:"m-loki-module",style:e.moduleStyle,attrs:{offset:e.colLayout.offset,span:e.colLayout.span}},[e._l(e.child,(function(t){return[n("m-loki-widget",{key:t,attrs:{"widget-index":t,"default-layout":e.widgetLayout}})]}))],2):e._e()}),[],!1,null,"487f46f2",null).exports);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={name:"MLokiTabs",props:{child:{type:Array,required:!0},navProps:{type:Object,required:!0},activeModuleIndex:{type:Number,required:!0},defaultLayout:{type:Object,required:!0},widgetConfig:{type:Object,required:!0}},data:function(){return{mLokiNavWidget:null}},computed:{tabProps:function(){return X(X({},this.navProps),{},{child:this.child,activeIndex:this.activeModuleIndex,mFontSize:this.defaultLayout.defaultFontSize})}},mounted:function(){this.setRowNav()},methods:{setRowNav:function(){var e,t,n,r,o=this,i=(e=this.widgetConfig,t=e&&e.properties&&e.properties.depWidgets||{},n=Object.keys(t),{widgetType:(r=n.length)?n[0]:null,widgetUrl:r?t[n[0]]:null}),a=i.widgetType,u=i.widgetUrl;this.$loki.loadAndRegisteWidget(a,u).then((function(e){o.mLokiNavWidget=e}))},onTabChange:function(e){this.$emit("change",e)}}},ee=Object($.a)(Z,(function(){var e=this.$createElement;return(this._self._c||e)(this.mLokiNavWidget,{tag:"component",attrs:{properties:this.tabProps},on:{change:this.onTabChange}})}),[],!1,null,null,null).exports,te="GtJmyPcModule",ne="GtJmyH5Module";function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={name:"MLokiRow",components:{MLokiModule:J,MLokiTabs:ee,GridRow:c.a},props:{widgetIndex:{type:Number,required:!0},defaultLayout:{type:Object,required:!0}},data:function(){return{activeModuleIndex:null,mLokiNavWidget:null}},computed:{widgetConfig:function(){return this.$loki.getWidgetConfig(this.widgetIndex)},child:function(){return this.widgetConfig.child||[]},rowLayout:function(){return e={defaultLayout:this.defaultLayout,rowModuleLayout:this.widgetConfig&&this.widgetConfig.properties&&this.widgetConfig.properties.mLayout||{},child:this.child},t=e.defaultLayout,n=e.rowModuleLayout,r=e.child,o=t.marginBottom,i=t.width,a=t.gutter,u=t.columns,c=n.width,s=n.marginBottom,f=n.gutter,l=n.columns,d=n.background,p=void 0===d?"":d,{width:c||i||1190,marginBottom:"number"==typeof s?s:o||0,gutter:r&&r.length>1?f||a:0,columns:l||u,background:p};var e,t,n,r,o,i,a,u,c,s,f,l,d,p},curRowIsShow:function(){var e=this.widgetConfig.properties||{};return!e.hasOwnProperty("mShow")||e.mShow},isNavRow:function(){return!!(this.widgetConfig.properties||{}).hasOwnProperty("navProps")},navProps:function(){return this.widgetConfig&&this.widgetConfig.properties&&this.widgetConfig.properties.navProps||{}},defaultActiveModuleIndex:function(){var e=this.navProps.activeIndex;return"number"==typeof e&&e>-1?e:null},curActiveModuleIndex:function(){var e=this.activeModuleIndex;return null!=e?e:this.defaultActiveModuleIndex},isSubModule:function(){var e=this.child[0],t=this.$loki.getWidgetConfig(e)||null;return!(null==e||!t||t.type!==te&&t.type!==ne)}},methods:{formatStyle:function(e){return function(e){return{width:W(e.width)}}(e)},formatRowLayout:function(e){return oe(oe({},e),{},{defaultFontSize:this.defaultLayout.defaultFontSize})},getColConfig:function(e){return this.$loki.getWidgetConfig(e)},getKey:function(e){return this.getColConfig(e).widgetInfoId||e},formatContainerStyle:function(e){return function(e){var t={marginBottom:W(e.marginBottom)};return e.background&&(t.background=e.background),t}(e)},onTabChange:function(e){this.activeModuleIndex=e},getIsModuleActive:function(e){return!this.isNavRow||this.curActiveModuleIndex===e}}},ue=(n(165),Object($.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.curRowIsShow?n("div",{staticClass:"m-loki-row-container",style:e.formatContainerStyle(e.rowLayout)},[n("grid-row",{staticClass:"m-loki-row",attrs:{gutter:e.rowLayout.gutter,columns:e.rowLayout.columns,"row-style":e.formatStyle(e.rowLayout)}},[e.isNavRow?n("m-loki-tabs",{attrs:{child:e.child,"nav-props":e.navProps,"active-module-index":e.curActiveModuleIndex,"default-layout":e.defaultLayout,"widget-config":e.widgetConfig},on:{change:e.onTabChange}}):e._e(),e.isSubModule?e._l(e.child,(function(t){return[n("keep-alive",{key:e.getKey(t)},[e.getIsModuleActive(t)?n("m-loki-module",{key:e.getKey(t),attrs:{"widget-info-id":e.getKey(t),"widget-index":t,"default-layout":e.formatRowLayout(e.rowLayout)}}):e._e()],1)]})):n("m-loki-module",{key:e.getKey(e.widgetIndex),attrs:{"widget-info-id":e.getKey(e.widgetIndex),"widget-index":e.widgetIndex,"default-layout":e.formatRowLayout(e.rowLayout)}})],2)],1):e._e()}),[],!1,null,"48fe6fd3",null).exports),ce=function(e){return e&&e.extData&&e.extData.pageStyle&&e.extData.pageStyle.mLayout||{}},se=null,fe=null,le=function(){return se||(se=window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout.bind(window)),se},de=function(){return fe||(fe=window.cancelAnimationFrame?window.cancelAnimationFrame.bind(window):clearTimeout.bind(window)),fe},pe=function(){return window&&window.performance},ge=function(e,t){if(pe()&&"function"==typeof window.performance.getEntriesByName){var n=window.performance.getEntriesByName(t)||[];if(n.length){var r=n[0]||{},o=r.name,i=r.entryType,a=r.startTime,u=r.duration;e.baseActions.addPerfLog({name:o,entryType:i,startTime:a,duration:u}),function(e){var t=e||{};pe()&&"function"==typeof window.performance.clearMarks&&window.performance.clearMarks(t)}(t)}}},he=function(e){pe()&&"function"==typeof window.performance.mark&&window.performance.mark(e)},me={APP_MOUNTED:"".concat("m-loki","-app-mounted"),PAGE_MOUNTED:"".concat("m-loki","-page-mounted"),DOM_CONTENT_LOADED:"".concat("m-loki","-dom-content-loaded")};function ve(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ve(i,r,o,a,u,"next",e)}function u(e){ve(i,r,o,a,u,"throw",e)}a(void 0)}))}}var we,be={name:"MLokiPage",components:{MLokiRow:ue},computed:{pageConfig:function(){return this.$loki.getData("pageConfig")||{}},rowIds:function(){return this.pageConfig.pageModuleIds||[]},pageLayout:function(){return ce(this.pageConfig)},defaultFontSize:function(){return e=this.pageConfig,N(e)?16:function(e){return e&&e.siteConfig&&e.siteConfig.pageStyle&&e.siteConfig.pageStyle.theme||{}}(e)["--groot-ui-default-font-size"]||16;var e}},mounted:function(){var e=this;return ye(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.addReComputeViewport(),t.next=3,e.addLog();case 3:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.removeReComputeViewport()},methods:{addLog:function(){var e=this;return ye(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return he(n=me.PAGE_MOUNTED),t.next=4,e.$loki.getLogger();case 4:r=t.sent,ge(r,n);case 6:case"end":return t.stop()}}),t)})))()},getRowConfig:function(e){return this.$loki.getWidgetConfig(e)},getKey:function(e){return this.getRowConfig(e).widgetInfoId||e},onResize:function(){var e=this;this.resizeTimer&&de()(this.resizeTimer),this.resizeTimer=le()((function(){var t=S({useCache:!1});e.$loki.emitEvent(O,!0,t)}))},onScroll:function(){var e=this;this.scrollTimer&&de()(this.scrollTimer),this.scrollTimer=le()((function(){var t=S();e.$loki.emitEvent(k,!0,t)}))},addReComputeViewport:function(){this.resizeTimer=window.addEventListener("resize",this.onResize),this.scrollTimer=window.addEventListener("scroll",this.onScroll)},removeReComputeViewport:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll)}}},Oe=Object($.a)(be,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.rowIds,(function(t){return[n("m-loki-row",{key:e.getKey(t),attrs:{"widget-info-id":e.getKey(t),"widget-index":t,"default-layout":Object.assign({},e.pageLayout,{defaultFontSize:e.defaultFontSize})}})]}))],2)}),[],!1,null,"501a2646",null).exports,ke={name:"MLokiCommonWidgets",computed:{pageConfig:function(){return this.$loki.getData("pageConfig")||{}},commonWidgets:function(){return this.pageConfig.extData&&this.pageConfig.extData.depVendors||{}}}},Pe=(n(166),Object($.a)(ke,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"m-loki-common-widgets"},this._l(this.commonWidgets,(function(e,n,r){return t("div",{key:r},[t(n,{tag:"component"})],1)})),0)}),[],!1,null,"101ecf83",null).exports),je=n(54);function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}je.sessionStorage.removeItem("m-loki-event-cache");var Se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers={},this.eventBus=new we}var t,n,r;return t=e,(n=[{key:"$emit",value:function(e,t){var n;E(!this.isForbidEventType(e),"Forbid trigger loki event"),E(null==t||"boolean"==typeof t,"The second argument MUST be Boolean type");for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];if((n=this.eventBus).$emit.apply(n,[e].concat(o)),t){var a=je.sessionStorage.getItem("m-loki-event-cache")||{};a[e]instanceof Array?a[e].push(o):a[e]=[o],je.sessionStorage.setItem("m-loki-event-cache",a)}}},{key:"$on",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];E(!this.isForbidEventType(e),"Forbid listen to loki event"),E("function"==typeof t,"handler MUST be a function"),this.eventBus.$on(e,t),this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t);var r=je.sessionStorage.getItem("m-loki-event-cache")||{};if(r[e]instanceof Array&&n)for(var o=r[e]||[],i=0;i<o.length;i++){var a=o[i];t.apply(null,a)}}},{key:"$off",value:function(e,t){this.eventBus.$off(e,t);for(var n=this.handlers[e]||[],r=0,o=n.length;r<o;r++)if(n[r]===t){n.splice(r,1);break}}},{key:"isForbidEventType",value:function(e){return/m-loki/.test(e)&&!this.isInclude(e,P)}},{key:"isInclude",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1,r=0;r<t.length;r++)if(t[r]===e){n=!0;break}return n}}])&&Le(t.prototype,n),r&&Le(t,r),e}(),xe={install:function(e,t){we&&we===e||(we=e)}};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Te(i,r,o,a,u,"next",e)}function u(e){Te(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Re(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var De={name:"MLokiApp",mixins:[{beforeCreate:function(){this.$loki.emitEvent(v)},created:function(){this.$loki.emitEvent(y)},beforeMount:function(){this.$loki.emitEvent(w)},mounted:function(){this.$loki.emitEvent(b)}},{beforeMount:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mixinLogAddLoadEvent(),t.next=3,e.mixinLogAddLog();case 3:case"end":return t.stop()}}),t)})))()},destroyed:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.mixinLogRemoveEvent();case 2:case"end":return t.stop()}}),t)})))()},methods:{mixinLogAddPerformanceLog:function(e){var t=this;return _e(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$loki.getLogger();case 2:r=n.sent,ge(r,e);case 4:case"end":return n.stop()}}),n)})))()},mixinLogAddAppMountedLog:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return he(n=me.APP_MOUNTED),t.next=4,e.mixinLogAddPerformanceLog(n);case 4:case"end":return t.stop()}}),t)})))()},mixinLogOnDomContentLoaded:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return he(n=me.DOM_CONTENT_LOADED),t.next=4,e.mixinLogAddPerformanceLog(n);case 4:case"end":return t.stop()}}),t)})))()},mixinLogAddFPFCPLog:function(e){try{var t={name:"m-loki-fp-fcp",type:"m-loki-fp-fcp",title:"loki的FP和FCP"},n=e.configOfLogAction;(0,e.addUserDefinedLog)(Ee(Ee({},t),{},{actionId:n.actionIdForDeveloper.SITE_REQ_RECV,userExtra:{paint:JSON.stringify(window.performance.getEntriesByType("paint"))||""}}))}catch(e){console.log(e)}},mixinLogOnLoad:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$loki.getLogger();case 2:(n=t.sent).baseActions.addPageLoadLog(),e.mixinLogAddFPFCPLog(n);case 5:case"end":return t.stop()}}),t)})))()},mixinLogAddLoadEvent:function(){window.addEventListener("load",this.mixinLogOnLoad),document.addEventListener("DOMContentLoaded",this.mixinLogOnDomContentLoaded)},mixinLogAddLog:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$loki.getLogger();case 2:(n=t.sent).baseActions.addFirstScreenLog(),n.baseActions.addPageScrollLog(),n.baseActions.addHeartBeatLog(),n.baseActions.addPageQuitLog();case 7:case"end":return t.stop()}}),t)})))()},mixinLogRemoveEvent:function(){var e=this;return _e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$loki.getLogger();case 2:t.sent.baseActions.removeEventListener(),window.removeEventListener("load",e.onLoad),document.removeEventListener("DOMContentLoaded",e.mixinLogOnDomContentLoaded);case 6:case"end":return t.stop()}}),t)})))()}}}],components:{Page:Oe,CommonWidgets:Pe},props:{pageConfig:{type:Object,default:function(){return{}}}},mounted:function(){var e,t=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i()&&a(),e.next=3,t.mixinLogAddAppMountedLog();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,u,"next",e)}function u(e){Re(i,r,o,a,u,"throw",e)}a(void 0)}))})()},computed:{setStyle:function(){var e=ce(this.$loki.getData("pageConfig"));return{minWidth:"".concat(e.width,"px")}}}},$e=Object($.a)(De,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{style:this.setStyle},[t("common-widgets"),t("page")],1)}),[],!1,null,"f16f232e",null).exports;function Ae(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ae(i,r,o,a,u,"next",e)}function u(e){Ae(i,r,o,a,u,"throw",e)}a(void 0)}))}}var Fe=Me(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(5).then(n.t.bind(null,423,7));case 2:return t=e.sent,e.abrupt("return",t.default);case 4:case"end":return e.stop()}}),e)})));function Ne(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ne(i,r,o,a,u,"next",e)}function u(e){Ne(i,r,o,a,u,"throw",e)}a(void 0)}))}}var ze=function(){var e=We(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=t||{}).status,i=r.config,a=r.message,u=(i||{}).url,c=(new Date).getTime()-n,e.next=5,Fe();case 5:e.sent.addReqLog({status:o,path:u,time:c,message:a});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function Ve(e){return function(){var t=We(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze(n,e);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ue(e){return function(){var t=We(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze(n,e);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var qe=function(){var e=We(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.next=3,n.e(6).then(n.t.bind(null,422,7));case 3:return(r=e.sent).defaults.withCredentials=!0,(o=r.create()).interceptors.response.use(Ve(t),Ue(t)),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=n(158),Ge=n.n(Be),He=function(){return"undefined"!=typeof window&&void 0!==window.document};function Ke(e){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Qe,Xe="loading",Ye="loaded",Ze="error",et=null,tt=function(){if(He())return window.groot||{}},nt=function(e,t){var n=tt();if(n[t]){var r=n[t].default,o=r.$lokiPrerender,i=Je(r,["$lokiPrerender"]),a=e.component(t,i);return a.$lokiPrerender=o,a}return null},rt=function(e,t){return et[e].loadStatus===Ye?Promise.resolve(t):et[e].loadStatus!==Xe||!(n=et[e].promise)||"object"!==Ke(n)&&"function"!=typeof n||"function"!=typeof n.then?Promise.reject(new Error("load ".concat(e," fails"))):et[e].promise;var n},ot=function(e,t){var n=t.widgetType,r=t.widgetUrl,o=t.isSmUser,i=void 0!==o&&o;if(!n)return Promise.reject("".concat(n," is null，please check it"));if(!1!==i)return new Promise((function(t,o){Ge()(r).then((function(){window.groot[n]?(nt(e,n),t(n)):o(new Error("registe ".concat(n," fail，\n                        ").concat(n," isn't a umd Vue Component，Please check it")))})).catch((function(e){o(e)}))}));if(!r)return Promise.reject("".concat(r," is null，please check it"));if(!He())return Promise.reject("dynamic loaded widget must in browser env");if(et&&et[r]&&et[r].loadStatus===Ze){var a=et[r].message||"load ".concat(r," fails");return Promise.reject(new Error(a))}if(!(function(){if(null===et){et={};for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e[t];n&&n.src&&(et[n.src]={loadStatus:Ye})}}return et}()&&et&&et[r])){var u=document.createElement("script");return u.type="text/javascript",u.src=r,document.body.appendChild(u),function(e,t){var n=t.Vue,r=t.widgetType,o=t.widgetUrl,i=new Promise((function(t,i){e.onload=function(){window.groot[r]?(nt(n,r),et[o]={loadStatus:Ye},t(r)):(et[o]={loadStatus:Ze,message:"registe ".concat(r," fail，\n                    ").concat(r," isn't a umd Vue Component，Please check it")},i(new Error(et[o]&&et[o].message)))},e.onerror=function(){delete et[o],i(new Error("get ".concat(r," from ").concat(o," fails")))}}));return et[o]={loadStatus:Xe,promise:i},i}(u,{Vue:e,widgetType:n,widgetUrl:r})}return rt(r,n)},it={install:function(e,t){!function(e){var t=tt();for(var n in t)t.hasOwnProperty(n)&&nt(e,n)}(e)}};function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};at(this,e),this.options=t,this._setting=!1,st(this,t.state)}var t,n,r;return t=e,(n=[{key:"getState",value:function(e){return null==e?this._vm.$data.$$state:"function"==typeof e?e.call(this,this._vm.$data.$$state):function(e,t){var n,r=e,o=x(t.split("."));try{for(o.s();!(n=o.n()).done;){var i=n.value;if(null==r)return;r=r[i]}}catch(e){o.e(e)}finally{o.f()}return r}(this._vm.$data.$$state,e)}},{key:"setState",value:function(e){var t=this._setting;this._setting=!0,function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o={oldVal:e,newVal:t,key:""};T(o,(function(e){var t=e.oldVal,o=e.newVal,i=e.key,a=[];for(var u in o)if(o.hasOwnProperty(u)){var c=t[u],s=o[u];if(s===c)continue;var f=""===i?u:"".concat(i,".").concat(u),l=I(s);if("[object Object]"===l&&l===I(c)){a.push({oldVal:c,newVal:s,key:f});continue}(n||void 0===c)&&(r.hasOwnProperty(u)?r[u]=o[u]:r.$set(t,u,o[u]))}return a}))}(this._vm.$data.$$state,e,!0,this._vm),this._setting=t}}])&&ut(t.prototype,n),r&&ut(t,r),e}();function st(e,t){e._vm=new Qe({data:{$$state:t||{}},computed:ft(t)}),function(e){e._vm.$watch((function(){return this._data.$$state}),(function(){E(e._setting,"please use setData to modify data")}),{deep:!0,sync:!0})}(e)}function ft(e){var t={},n=function(n){e.hasOwnProperty(n)&&(t[n]={get:function(){return e[n]},set:function(){E(!1,"".concat(n," can not be modified"))}})};for(var r in e)n(r);return t}var lt={install:function(e,t){Qe&&Qe===e||(Qe=e)}};function dt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mt={ADD_TEL_LOG:"addTelLog",ADD_CONSULT_LOG:"addConsultLog",ADD_SMS_LOG:"addSmsLog",ADD_DOWNLOAD_LOG:"addDownloadLog",ADD_IMLP_LOG:"addImlpLog",ADD_USER_DEFINED_LOG:"addUserDefinedLog",ADD_REQ_LOG:"addReqLog"},vt=function(e,t){var n={},r=function(r){mt.hasOwnProperty(r)&&(n[mt[r]]=function(n){t[mt[r]](gt(gt({},e),n))})};for(var o in mt)r(o);return n},yt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:return n=e.sent,e.abrupt("return",gt(gt({},n),vt(t,n)));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dt(i,r,o,a,u,"next",e)}function u(e){dt(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),wt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0;r<t.length;r++){var o=t[r];o.widgetInfoId===e&&n.push(o)}if(n.length){var i=n[0],a=i.id,u=i.name,c=i.type,s=i.title;return{id:a,name:u,type:c,title:s}}return{}};function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&jt(e.prototype,t),n&&jt(e,n),e}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=It(e);if(t){var o=It(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _t="silent",Rt="hard",Dt="absolute",$t="relative";var At=He()&&window.performance&&window.performance.now?window.performance:Date;var Mt=Object.freeze({path:"/"});function Ft(e){var t=window.location.pathname;return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={},n=e.split("&");for(var r in n){var o=n[r].split("=");o.length>1&&(t[o[0]]=o[1])}return t}function Wt(){var e=Nt(location.search?location.search.substr(1):location.href.split("?").length>1?location.href.split("?")[1]:"");return{path:location.pathname||"/",hash:location.hash||"",search:location.search||"",query:e,fullPath:Ft()}}var zt=function e(t,n){Tt(this,e),this.router=t,this.base=function(e){if(!e)if(He()){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}(n),this.current=Mt},Vt=function(e){St(n,e);var t=Ct(n);function n(e,r){var o;Tt(this,n);Ft((o=t.call(this,e,r)).base);return window.addEventListener("popstate",(function(e){o.current,Ft(o.base)})),o}return Lt(n,[{key:"push",value:function(e){var t=e.path,n=void 0===t?"":t,r=e.mode,o=void 0===r?Rt:r,i=e.type,a=void 0===i?$t:i,u=e.target,c=e.query,s=void 0===c?{}:c,f=At.now().toFixed(3),l=a===Dt?n:"".concat(window.location.origin,"/").concat(n);if(o!==_t){var d=this.router.route.query||{};window.top!==window.self&&delete d.showpageinpc;var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.indexOf("?"),n=e.split("?").length>1?e.split("?")[1]:"",r=-1===t?e:e.substring(0,t);return{path:r,query:Nt(n)}}(l)||{},g=p.query,h=function(e,t){var n=e,r=[];for(var o in t)t.hasOwnProperty(o)&&r.push("".concat(o,"=").concat(String(t[o])));if(0===r.length)return e;var i=r.join("&");return n+="?".concat(i)}(p.path,kt(kt(kt({},d),g),s));u?window.open(h,u):window.location.href=h}else window.history.pushState({key:f},"",l)}}]),n}(zt),Ut=function(e){St(n,e);var t=Ct(n);function n(){return Tt(this,n),t.apply(this,arguments)}return n}(zt),qt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Tt(this,e);var n=t.mode||"history";He()||(n="abstract"),this.mode=n,this.options=t,this.history="abstract"===n?new Ut(this,t.base):new Vt(this,t.base),this.route=He()?Wt():{}}return Lt(e,[{key:"init",value:function(){}},{key:"push",value:function(e,t,n){this.history.push(e,t,n)}}]),e}(),Bt={},Gt={install:function(e,t){if(!Bt.installed||Bt.vue!==e){Bt.vue,Bt.installer=!0;var n=function(e){return void 0!==e};e.mixin({beforeCreate:function(){var t,r,o;n(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r=this,o=(t=this).$options._parentVnode,n(o)&&n(o=o.data)&&n(o=o.registerRouteInstance)&&o(t,r)}})}}};function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kt,Jt=function(e,t,n){return!!(n&&"object"===Ht(n)&&e&&t&&"number"==typeof e&&"number"==typeof t)&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return!!(r&&"object"===Ht(r)&&r[e]&&t&&n&&"number"==typeof t&&"number"==typeof n)&&r[e]%t<n}("userid",e,t,n)},Qt=function(e){return e?{isAsyncnWidgetSdkSmUser:Jt(100,10,e)}:null};function Xt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xt(i,r,o,a,u,"next",e)}function u(e){Xt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Zt(this,e),this.store=new ct({state:{pageConfig:t.pageConfig,userid:t.userid,env:t.env,smFlowList:Qt(t.pageConfig)}}),this.event=new Se,this.router=new qt}var t,n,r,o,i;return t=e,(n=[{key:"getLogger",value:(i=Yt(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getData("pageConfig").widgets||[],r=wt(t,n),e.next=4,yt(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"getData",value:function(e){return this.store.getState(e)}},{key:"setData",value:function(e){return this.store.setState(e)}},{key:"requestData",value:(o=Yt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"registeWidget",value:function(e){return nt(Kt,e)}},{key:"loadAndRegisteWidget",value:function(e,t){var n=this.getData("smFlowList");return ot(Kt,{widgetType:e,widgetUrl:t,isSmUser:n.isAsyncnWidgetSdkSmUser})}},{key:"getWidgetConfig",value:function(e){return(this.getData("pageConfig").widgets||[])[e]||{}}},{key:"onEvent",value:function(e,t){return this.event.$on(e,t)}},{key:"emitEvent",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];return(n=this.event).$emit.apply(n,[e,t].concat(o))}},{key:"offEvent",value:function(e,t){return this.event.$off(e,t)}}])&&en(t.prototype,n),r&&en(t,r),e}();function nn(){var e=this.$options;e.loki?this.$loki="function"==typeof e.loki?e.loki():e.loki:e.parent&&e.parent.$loki&&(this.$loki=e.parent.$loki)}var rn={install:function(e,t){Kt&&e===Kt||(function(e){e.mixin({beforeCreate:nn})}(Kt=e),Kt.use(lt),Kt.use(xe),Kt.use(it,t),Kt.use(Gt))}};function on(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var an=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(!He()){e.next=7;break}return e.next=5,Fe();case 5:e.sent.baseActions.addJsErrorLog(t,r);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){on(i,r,o,a,u,"next",e)}function u(e){on(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();n(206);r.a.config.errorHandler=an,r.a.use(rn);function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){sn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e={};if(window.__INITIAL_STATE__)e=window.__INITIAL_STATE__;else{var t=function(e){var t=(document.getElementById(e)||{}).innerHTML||"{}";try{return JSON.parse(t)}catch(e){return{}}}("loki-data")||{};e={pageConfig:t.pageConfig,userid:t.userid,env:t.env}}(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=new tn(t),o=new r.a({data:function(){return{pageConfig:t.pageConfig,url:t.url}},loki:n,components:{App:$e},render:function(e){return e("div",[e($e)])}});return{app:o}})({state:e}).app.$mount("#loki-app"),function(e,t,r){n.e(5).then(n.t.bind(null,423,7)).then((function(n){var o=n.default,i=function(e){var t=e||{};return{appId:t.appid,subAppId:t.subAppId,tplId:t.templateId,siteId:t.siteid,pageId:t.pageid,pageInfo:t.pageInfo,pageName:t.title,pageType:t.pageType,productName:t.productName,url:t.url}}(e);o.baseActions.initBaseData(cn(cn({},i),{},{userId:t,env:r})),o.baseActions.addPageShowLog()})).catch((function(e){return console.log(e)}))}(e.pageConfig,e.userid,e.env)}()},38:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){}});