!function(){window.bdyy={fr:"video_coop",stringify:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b+"="+a[b]);return c.join("&")},sendLog:function(a){var b=(new Date).getTime(),c=window["bdyy_"+b]=new Image;c.onload=c.onerror=c.onabort=function(){c.onload=c.onerror=c.onabort=null;try{delete window["bdyy_"+b],c=null}catch(a){c=null}},c.src="http://nsclick.baidu.com/v.gif?pid=104&tpl=bdyy_plugin&"+this.stringify(a)+"&fr="+this.fr+"&t="+b},log:function(a,b){this.sendLog("undefined"!=typeof b?{plugin_status:a,cert_status:b}:{plugin_status:a})},isIE:function(){var a=navigator.appName,b=navigator.userAgent;return"Microsoft Internet Explorer"===a||/Trident.*rv\:11\./.test(b)},isChrome:function(){var match=navigator.userAgent.match(/Chrome\/(\d+)[\d\.]+/);return match},createWrap:function(){var a=document.createElement("div");a.id="bdyy_wrap",a.style.width="0",a.style.height="0",a.style.overflow="hidden",document.body.appendChild(a)},createPlugin:function(){var chrome=this.isChrome();if(chrome&&parseInt(chrome[1],10)>44){return}var a=document.getElementById("bdyy_wrap"),b=document.createElement("object");b.id="BaiduPlayer",b.name="BaiduPlayer",this.isIE()?b.classid="clsid:E1819698-0CD0-435C-AE0D-F288924C40A1":b.type="application/x-media-baiduplayer-plugin",a.appendChild(b),this.verify(b)},refreshPlugin:function(){this.isIE()||navigator.plugins&&navigator.plugins.refresh&&navigator.plugins.refresh(!1)},callClient:function(a,b){if(a){this.refreshPlugin();try{a.call("p0","minimize channel "+this.fr),this.log("plugin_success",b)}catch(c){this.log("plugin_fail",b)}}},oldCallClient:function(a,b){if(a){this.refreshPlugin();try{a.call("p0","minimize"),this.log("plugin_success",b)}catch(c){this.log("plugin_fail",b)}}},npcallClient:function(a,b){if(a){this.refreshPlugin();try{a.LaunchApp("minimize channel "+this.fr),this.log("plugin_success",b)}catch(c){this.log("plugin_fail",b)}}},verify:function(a){try{var b=null;if(this.isIE(),b=a.GetCertificateCode(),!this.isIE()||"error"!=b&&""!=b){if(b){var c=this,d="http://v.baidu.com/certificate?sign="+b+"&t="+(new Date).getTime();this.jsonp(d,function(b){0===b.status?c.isIE()?c.callClient(a,b.status):c.npcallClient(a,b.status):c.log("plugin_fail",b.status)})}}else c.oldCallClient(a)}catch(e){if(this.isIE())this.oldCallClient(a);else{var f=document.getElementById("bdyy_wrap"),g=document.createElement("object");g.id="NewBaiduPlayer",g.name="NewBaiduPlayer",g.type="application/player-activex",g.setAttribute("progid","bdbphNew.1"),f.appendChild(g),this.oldCallClient(g)}}},init:function(){this.createWrap(),this.createPlugin()},attachEvent:function(a,b,c){window.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},jsonp:function(a,b){var c=document.createElement("script"),d="jsonp"+(new Date).getTime();c.type="text/javascript",c.src=a+"&callback="+d,window[d]=function(a){b&&b(a)},c.readyState?c.onreadystatechange=function(){if("loaded"==c.readyState||"complete"==c.readyState){c.onreadystatechange=null;try{delete window[d]}catch(a){window[d]=null}}}:c.onload=function(){try{delete window[d]}catch(a){window[d]=null}},document.getElementsByTagName("head")[0].appendChild(c)}},bdyy.attachEvent(window,"load",function(){bdyy.init()})}();